{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///../src/util.ts","webpack:///../src/types.ts","webpack:///./node_modules/node-libs-browser/node_modules/buffer/index.js","webpack:///../../src/predicates/index.ts","webpack:///../../src/sync/utils.ts","webpack:///../src/index.ts","webpack:///./node_modules/url/url.js","webpack:///./node_modules/crypto-js/core.js","webpack:///./node_modules/zen-observable-ts/lib/bundle.esm.js","webpack:///./node_modules/axios/lib/utils.js","webpack:///../src/JS.ts","webpack:///./node_modules/@aws-sdk/util-hex-encoding/build/index.js","webpack:///../../src/Platform/version.ts","webpack:///../../src/Platform/index.ts","webpack:///../../src/Logger/ConsoleLogger.ts","webpack:///external \"@aws-amplify/pubsub\"","webpack:///./node_modules/@aws-sdk/protocol-http/build/index.js","webpack:///../src/Amplify.ts","webpack:///../src/RestClient.ts","webpack:///../src/RestAPI.ts","webpack:///./node_modules/graphql/language/location.mjs","webpack:///./node_modules/graphql/error/printError.mjs","webpack:///./node_modules/graphql/error/GraphQLError.mjs","webpack:///./node_modules/graphql/language/visitor.mjs","webpack:///./node_modules/graphql/language/printer.mjs","webpack:///./node_modules/graphql/jsutils/inspect.mjs","webpack:///./node_modules/graphql/jsutils/invariant.mjs","webpack:///./node_modules/graphql/language/source.mjs","webpack:///./node_modules/graphql/jsutils/defineToStringTag.mjs","webpack:///./node_modules/graphql/error/syntaxError.mjs","webpack:///./node_modules/graphql/language/blockStringValue.mjs","webpack:///./node_modules/graphql/language/lexer.mjs","webpack:///./node_modules/graphql/language/kinds.mjs","webpack:///./node_modules/graphql/language/directiveLocation.mjs","webpack:///./node_modules/graphql/language/parser.mjs","webpack:///../src/GraphQLAPI.ts","webpack:///../src/API.ts","webpack:///./node_modules/js-cookie/src/js.cookie.js","webpack:///../../src/types/index.ts","webpack:///./node_modules/@aws-sdk/util-utf8-browser/build/index.js","webpack:///../../src/OAuthHelper/GoogleOAuth.ts","webpack:///../../src/OAuthHelper/FacebookOAuth.ts","webpack:///../../src/OAuthHelper/index.ts","webpack:///./node_modules/@aws-sdk/smithy-client/build/index.js","webpack:///./node_modules/@aws-sdk/util-uri-escape/build/index.js","webpack:///./node_modules/@aws-sdk/property-provider/build/index.js","webpack:///./node_modules/crypto-js/hmac-sha256.js","webpack:///../../src/StorageHelper/index.ts","webpack:///./node_modules/crypto-js/sha256.js","webpack:///./node_modules/uuid/index.js","webpack:///./node_modules/crypto-js/enc-base64.js","webpack:///../../src/types/Auth.ts","webpack:///./node_modules/amazon-cognito-identity-js/es/BigInteger.js","webpack:///./node_modules/amazon-cognito-identity-js/es/AuthenticationDetails.js","webpack:///./node_modules/amazon-cognito-identity-js/es/AuthenticationHelper.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoJwtToken.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoAccessToken.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoIdToken.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoRefreshToken.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoUserSession.js","webpack:///./node_modules/amazon-cognito-identity-js/es/DateHelper.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoUserAttribute.js","webpack:///./node_modules/amazon-cognito-identity-js/es/StorageHelper.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoUser.js","webpack:///./node_modules/amazon-cognito-identity-js/es/UserAgent.js","webpack:///./node_modules/amazon-cognito-identity-js/es/Client.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoUserPool.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CookieStorage.js","webpack:///../../src/OAuth/urlOpener.ts","webpack:///../../src/OAuth/OAuth.ts","webpack:///../../src/OAuth/oauthStorage.ts","webpack:///../src/Errors.ts","webpack:///../src/Auth.ts","webpack:///../src/urlListener.ts","webpack:///../src/constants.ts","webpack:///./node_modules/@aws-crypto/sha256-js/build/index.js","webpack:///./node_modules/@aws-sdk/middleware-serde/build/index.js","webpack:///../src/Hub.ts","webpack:///../../src/Utils/CacheUtils.ts","webpack:///../src/StorageCache.ts","webpack:///../src/BrowserStorageCache.ts","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/@aws-sdk/middleware-retry/build/constants.js","webpack:///./node_modules/@aws-sdk/util-locate-window/build/index.js","webpack:///./node_modules/axios/index.js","webpack:///./node_modules/@aws-sdk/config-resolver/build/index.js","webpack:///./node_modules/@aws-sdk/middleware-host-header/build/index.js","webpack:///./node_modules/@aws-sdk/middleware-retry/build/index.js","webpack:///./node_modules/@aws-sdk/middleware-user-agent/build/index.js","webpack:///./node_modules/@aws-sdk/util-base64-browser/build/index.js","webpack:///../../../src/sync/processors/subscription.ts","webpack:///./node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/axios/lib/helpers/bind.js","webpack:///./node_modules/axios/lib/helpers/buildURL.js","webpack:///./node_modules/axios/lib/cancel/isCancel.js","webpack:///./node_modules/axios/lib/defaults.js","webpack:///./node_modules/axios/lib/adapters/xhr.js","webpack:///./node_modules/axios/lib/core/createError.js","webpack:///./node_modules/axios/lib/core/mergeConfig.js","webpack:///./node_modules/axios/lib/cancel/Cancel.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/@aws-sdk/middleware-retry/build/defaultStrategy.js","webpack:///./node_modules/@aws-sdk/middleware-retry/build/delayDecider.js","webpack:///./node_modules/@aws-sdk/middleware-retry/build/retryDecider.js","webpack:///./node_modules/@aws-sdk/service-error-classification/build/index.js","webpack:///./node_modules/@aws-sdk/util-uri-escape/build/escape-uri.js","webpack:///./node_modules/@aws-sdk/middleware-stack/build/index.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/ie11Sha256.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/isEmptyData.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/constants.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/webCryptoSha256.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/constants.js","webpack:///./node_modules/@aws-sdk/property-provider/build/ProviderError.js","webpack:///./node_modules/@aws-sdk/middleware-serde/build/deserializerMiddleware.js","webpack:///./node_modules/@aws-sdk/middleware-serde/build/serializerMiddleware.js","webpack:///./node_modules/crypto-js/lib-typedarrays.js","webpack:///../src/Parser.ts","webpack:///./node_modules/@aws-sdk/credential-provider-cognito-identity/dist/es/resolveLogins.js","webpack:///./node_modules/@aws-sdk/client-cognito-identity/dist/es/protocols/Aws_json1_1.js","webpack:///./node_modules/@aws-sdk/client-cognito-identity/dist/es/commands/GetCredentialsForIdentityCommand.js","webpack:///./node_modules/@aws-sdk/credential-provider-cognito-identity/dist/es/fromCognitoIdentity.js","webpack:///./node_modules/@aws-sdk/credential-provider-cognito-identity/dist/es/IndexedDbStorage.js","webpack:///./node_modules/@aws-sdk/credential-provider-cognito-identity/dist/es/localStorage.js","webpack:///./node_modules/@aws-sdk/credential-provider-cognito-identity/dist/es/InMemoryStorage.js","webpack:///./node_modules/@aws-sdk/client-cognito-identity/dist/es/commands/GetIdCommand.js","webpack:///./node_modules/@aws-sdk/credential-provider-cognito-identity/dist/es/fromCognitoIdentityPool.js","webpack:///./node_modules/@aws-sdk/client-cognito-identity/dist/es/endpoints.js","webpack:///./node_modules/@aws-sdk/client-cognito-identity/dist/es/runtimeConfig.shared.js","webpack:///./node_modules/@aws-sdk/client-cognito-identity/dist/es/runtimeConfig.browser.js","webpack:///./node_modules/@aws-sdk/client-cognito-identity/dist/es/CognitoIdentityClient.js","webpack:///../src/Credentials.ts","webpack:///../../src/Util/DateUtils.ts","webpack:///../src/Signer.ts","webpack:///./node_modules/zen-push/index.js","webpack:///../../../../src/storage/adapter/getDefaultAdapter/index.ts","webpack:///./node_modules/@aws-sdk/middleware-content-length/build/index.js","webpack:///./node_modules/@aws-sdk/middleware-signing/build/index.js","webpack:///./node_modules/@aws-sdk/is-array-buffer/build/index.js","webpack:///./node_modules/@aws-sdk/invalid-dependency/build/index.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/index.js","webpack:///./node_modules/@aws-sdk/fetch-http-handler/build/index.js","webpack:///./node_modules/@aws-sdk/url-parser-browser/build/index.js","webpack:///./node_modules/@aws-sdk/util-body-length-browser/build/index.js","webpack:///./node_modules/@aws-sdk/stream-collector-browser/build/index.js","webpack:///./node_modules/@aws-sdk/util-user-agent-browser/build/index.js","webpack:///./node_modules/zen-observable/index.js","webpack:///./node_modules/uuid/v1.js","webpack:///./node_modules/uuid/v4.js","webpack:///./node_modules/zen-push/node_modules/zen-observable/index.js","webpack:///./node_modules/zen-push/node_modules/zen-observable/zen-observable.js","webpack:///./node_modules/axios/lib/axios.js","webpack:///./node_modules/axios/lib/core/Axios.js","webpack:///./node_modules/axios/lib/core/InterceptorManager.js","webpack:///./node_modules/axios/lib/core/dispatchRequest.js","webpack:///./node_modules/axios/lib/core/transformData.js","webpack:///./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack:///./node_modules/axios/lib/core/settle.js","webpack:///./node_modules/axios/lib/core/enhanceError.js","webpack:///./node_modules/axios/lib/core/buildFullPath.js","webpack:///./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack:///./node_modules/axios/lib/helpers/combineURLs.js","webpack:///./node_modules/axios/lib/helpers/parseHeaders.js","webpack:///./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack:///./node_modules/axios/lib/helpers/cookies.js","webpack:///./node_modules/axios/lib/cancel/CancelToken.js","webpack:///./node_modules/axios/lib/helpers/spread.js","webpack:///./node_modules/punycode/punycode.js","webpack:///./node_modules/url/util.js","webpack:///./node_modules/querystring-es3/index.js","webpack:///./node_modules/querystring-es3/decode.js","webpack:///./node_modules/querystring-es3/encode.js","webpack:///./node_modules/@aws-sdk/config-resolver/build/EndpointsConfig.js","webpack:///./node_modules/@aws-sdk/config-resolver/build/RegionConfig.js","webpack:///./node_modules/@aws-sdk/config-resolver/build/HandlerConfig.js","webpack:///./node_modules/@aws-sdk/protocol-http/build/httpResponse.js","webpack:///./node_modules/@aws-sdk/protocol-http/build/httpRequest.js","webpack:///./node_modules/@aws-sdk/protocol-http/build/isValidHostname.js","webpack:///./node_modules/@aws-sdk/middleware-retry/build/retryMiddleware.js","webpack:///./node_modules/@aws-sdk/service-error-classification/build/constants.js","webpack:///./node_modules/@aws-sdk/middleware-retry/build/configurations.js","webpack:///./node_modules/@aws-sdk/middleware-signing/build/configurations.js","webpack:///./node_modules/@aws-sdk/util-uri-escape/build/escape-uri-path.js","webpack:///./node_modules/@aws-sdk/middleware-signing/build/middleware.js","webpack:///./node_modules/@aws-sdk/middleware-user-agent/build/configurations.js","webpack:///./node_modules/@aws-sdk/middleware-user-agent/build/middleware.js","webpack:///./node_modules/@aws-sdk/smithy-client/build/client.js","webpack:///./node_modules/@aws-sdk/middleware-stack/build/MiddlewareStack.js","webpack:///./node_modules/@aws-sdk/smithy-client/build/command.js","webpack:///./node_modules/@aws-sdk/smithy-client/build/isa.js","webpack:///./node_modules/@aws-sdk/smithy-client/build/lazy-json.js","webpack:///./node_modules/@aws-sdk/smithy-client/build/extended-encode-uri-component.js","webpack:///./node_modules/@aws-sdk/smithy-client/build/date-utils.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/crossPlatformSha256.js","webpack:///./node_modules/@aws-sdk/util-utf8-browser/build/pureJs.js","webpack:///./node_modules/@aws-sdk/util-utf8-browser/build/whatwgEncodingApi.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/jsSha256.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/RawSha256.js","webpack:///./node_modules/@aws-crypto/supports-web-crypto/build/index.js","webpack:///./node_modules/@aws-crypto/supports-web-crypto/build/supportsWebCrypto.js","webpack:///./node_modules/@aws-crypto/ie11-detection/build/index.js","webpack:///./node_modules/@aws-crypto/ie11-detection/build/MsWindow.js","webpack:///./node_modules/@aws-sdk/fetch-http-handler/build/fetch-http-handler.js","webpack:///./node_modules/@aws-sdk/fetch-http-handler/build/request-timeout.js","webpack:///./node_modules/@aws-sdk/querystring-builder/build/index.js","webpack:///./node_modules/@aws-sdk/querystring-parser/build/index.js","webpack:///./node_modules/@aws-sdk/property-provider/build/chain.js","webpack:///./node_modules/@aws-sdk/property-provider/build/fromStatic.js","webpack:///./node_modules/@aws-sdk/property-provider/build/memoize.js","webpack:///./node_modules/@aws-sdk/middleware-serde/build/serdePlugin.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/crypto-js/hmac.js","webpack:///./node_modules/zen-observable/lib/Observable.js","webpack:///./node_modules/immer/dist/immer.esm.js","webpack:///../../src/Util/Mutex.ts","webpack:///../../src/storage/storage.ts","webpack:///../../src/Util/Reachability.ts","webpack:///../../src/sync/datastoreConnectivity.ts","webpack:///../../src/sync/merger.ts","webpack:///../../src/sync/outbox.ts","webpack:///../../src/Util/Retry.ts","webpack:///../../../src/sync/processors/mutation.ts","webpack:///../../../src/sync/processors/sync.ts","webpack:///../../src/sync/index.ts","webpack:///../../src/datastore/datastore.ts","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/credentialDerivation.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/getCanonicalHeaders.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/getPayloadHash.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/cloneRequest.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/prepareRequest.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/utilDate.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/SignatureV4.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/moveHeadersToQuery.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/hasHeader.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/getCanonicalQuery.js","webpack:///./node_modules/idb/build/esm/chunk.js","webpack:///./node_modules/idb/build/esm/index.js","webpack:///../../../src/storage/adapter/indexeddb.ts"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__15__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","__","this","constructor","__assign","assign","arguments","length","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","push","__exportStar","__values","__read","ar","error","__spread","concat","__spreadArrays","il","k","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","default","__importDefault","__classPrivateFieldGet","receiver","privateMap","has","__classPrivateFieldSet","set","base64","ieee754","isArray","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","Uint8Array","arg","encodingOrOffset","Error","allocUnsafe","from","ArrayBuffer","array","byteOffset","byteLength","undefined","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","write","slice","fromString","obj","isBuffer","len","checked","copy","buffer","val","type","data","fromObject","assertSize","size","toString","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","lastIndexOf","arr","indexSize","arrLength","valLength","String","read","buf","readUInt16BE","foundIndex","found","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","Math","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","global","foo","subarray","typedArraySupport","poolSize","_augment","species","configurable","fill","allocUnsafeSlow","_isBuffer","compare","x","list","pos","swap16","swap32","swap64","equals","inspect","max","match","join","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","src","dst","punycode","util","Url","protocol","slashes","auth","host","port","hostname","hash","search","query","pathname","path","href","parse","urlParse","source","relative","resolveObject","format","isString","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","url","parseQueryString","slashesDenoteHost","isObject","u","queryIndex","splitter","uSplit","split","rest","simplePath","exec","proto","lowerProto","atSign","hostEnd","hec","decodeURIComponent","parseHost","ipv6Hostname","hostparts","part","newpart","validParts","notHost","bit","unshift","toASCII","h","ae","esc","encodeURIComponent","escape","qm","keys","stringify","charAt","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","isNullOrUndefined","authInHost","isNull","last","hasTrailingSlash","up","splice","isAbsolute","CryptoJS","F","subtype","C","C_lib","lib","Base","extend","overrides","mixIn","init","$super","instance","properties","propertyName","clone","WordArray","words","sigBytes","encoder","Hex","wordArray","thisWords","thatWords","thisSigBytes","thatSigBytes","clamp","thatByte","ceil","random","nBytes","rcache","m_w","m_z","mask","_r","C_enc","enc","hexChars","bite","hexStr","hexStrLength","Latin1","latin1Chars","latin1Str","latin1StrLength","Utf8","utf8Str","unescape","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","_process","doFlush","dataWords","dataSigBytes","blockSize","nBlocksReady","nWordsReady","_minBufferSize","nBytesReady","_doProcessBlock","processedWords","C_algo","Hasher","cfg","_doReset","update","messageUpdate","finalize","_doFinalize","_createHelper","hasher","message","_createHmacHelper","HMAC","algo","Observable","isUndefined","isFunction","forEach","fn","isArrayBuffer","isFormData","FormData","isArrayBufferView","isNumber","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","document","merge","assignValue","deepMerge","SHORT_TO_HEX","HEX_TO_SHORT","encodedByte","fromHex","encoded","log","tslib_1","getLocation","position","lineRegexp","line","column","index","highlightSourceAtLocation","location","firstLineColumnOffset","locationOffset","whitespace","lineIndex","lineOffset","lineNum","columnOffset","columnNum","lines","existingLines","filter","_ref","padLen","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","prefix","err","return","map","_ref3","printPrefixedLines","GraphQLError","nodes","positions","originalError","extensions","_nodes","_source","node","loc","_locations","_positions","reduce","_extensions","defineProperties","writable","locations","Boolean","stack","captureStackTrace","printedLocations","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","printError","QueryDocumentKeys","Name","Document","OperationDefinition","VariableDefinition","Variable","SelectionSet","Field","Argument","FragmentSpread","InlineFragment","FragmentDefinition","IntValue","FloatValue","StringValue","BooleanValue","NullValue","EnumValue","ListValue","ObjectValue","ObjectField","Directive","NamedType","ListType","NonNullType","SchemaDefinition","OperationTypeDefinition","ScalarTypeDefinition","ObjectTypeDefinition","FieldDefinition","InputValueDefinition","InterfaceTypeDefinition","UnionTypeDefinition","EnumTypeDefinition","EnumValueDefinition","InputObjectTypeDefinition","DirectiveDefinition","SchemaExtension","ScalarTypeExtension","ObjectTypeExtension","InterfaceTypeExtension","UnionTypeExtension","EnumTypeExtension","InputObjectTypeExtension","BREAK","isNode","maybeNode","kind","getVisitFn","visitor","isLeaving","kindVisitor","kindSpecificVisitor","leave","enter","specificVisitor","specificKindVisitor","print","ast","visitorKeys","inArray","edits","parent","ancestors","newRoot","isEdited","editOffset","ii","editKey","editValue","prev","JSON","visitFn","visit","printDocASTReducer","definitions","operation","varDefs","wrap","variableDefinitions","directives","selectionSet","variable","defaultValue","_ref2","block","selections","alias","args","_ref4","_ref5","_ref6","typeCondition","_ref7","_ref8","_ref9","_ref10","isDescription","escaped","indent","printBlockString","_ref11","_ref12","_ref13","values","_ref14","fields","_ref15","_ref16","_ref17","_ref18","_ref19","_ref20","operationTypes","_ref21","addDescription","_ref22","_ref23","interfaces","_ref24","every","_ref25","_ref26","_ref27","types","_ref28","_ref29","_ref30","_ref31","_ref32","_ref33","_ref34","_ref35","_ref36","_ref37","_ref38","cb","description","maybeArray","separator","maybeString","_typeof","invariant","condition","_defineProperty","classObject","syntaxError","blockStringValue","rawString","commonIndent","leadingWhitespace","_i","isBlank","createLexer","options","startOfFileToken","Tok","TokenKind","SOF","lastToken","token","lineStart","advance","advanceLexer","lookahead","EOF","readToken","COMMENT","freeze","BANG","DOLLAR","AMP","PAREN_L","PAREN_R","SPREAD","COLON","EQUALS","AT","BRACKET_L","BRACKET_R","BRACE_L","PIPE","BRACE_R","NAME","INT","FLOAT","STRING","BLOCK_STRING","getTokenDesc","printCharCode","toUpperCase","lexer","bodyLength","startPosition","positionAfterWhitespace","col","readComment","readName","firstCode","isFloat","readDigits","readNumber","chunkStart","rawValue","readBlockString","charCode","char2hex","readString","unexpectedCharacterMessage","Kind","DOCUMENT","OPERATION_DEFINITION","VARIABLE_DEFINITION","SELECTION_SET","FIELD","ARGUMENT","FRAGMENT_SPREAD","INLINE_FRAGMENT","FRAGMENT_DEFINITION","VARIABLE","BOOLEAN","NULL","ENUM","LIST","OBJECT","OBJECT_FIELD","DIRECTIVE","NAMED_TYPE","LIST_TYPE","NON_NULL_TYPE","SCHEMA_DEFINITION","OPERATION_TYPE_DEFINITION","SCALAR_TYPE_DEFINITION","OBJECT_TYPE_DEFINITION","FIELD_DEFINITION","INPUT_VALUE_DEFINITION","INTERFACE_TYPE_DEFINITION","UNION_TYPE_DEFINITION","ENUM_TYPE_DEFINITION","ENUM_VALUE_DEFINITION","INPUT_OBJECT_TYPE_DEFINITION","DIRECTIVE_DEFINITION","SCHEMA_EXTENSION","SCALAR_TYPE_EXTENSION","OBJECT_TYPE_EXTENSION","INTERFACE_TYPE_EXTENSION","UNION_TYPE_EXTENSION","ENUM_TYPE_EXTENSION","INPUT_OBJECT_TYPE_EXTENSION","DirectiveLocation","QUERY","MUTATION","SUBSCRIPTION","SCHEMA","SCALAR","ARGUMENT_DEFINITION","INTERFACE","UNION","ENUM_VALUE","INPUT_OBJECT","INPUT_FIELD_DEFINITION","sourceObj","many","parseDefinition","parseDocument","parseName","expect","peek","parseExecutableDefinition","parseTypeSystemDefinition","keywordToken","expectKeyword","parseDirectives","parseOperationTypeDefinition","unexpected","parseSchemaExtension","parseScalarTypeExtension","parseImplementsInterfaces","parseFieldsDefinition","parseObjectTypeExtension","parseInterfaceTypeExtension","parseUnionMemberTypes","parseUnionTypeExtension","parseEnumValuesDefinition","parseEnumTypeExtension","parseInputFieldsDefinition","parseInputObjectTypeExtension","parseTypeSystemExtension","peekDescription","parseOperationDefinition","experimentalFragmentVariables","parseFragmentName","parseVariableDefinitions","parseNamedType","parseSelectionSet","parseFragmentDefinition","parseOperationType","operationToken","parseVariableDefinition","experimentalVariableDefinitionDirectives","parseVariable","parseTypeReference","skip","parseValueLiteral","parseSelection","parseFragment","nameOrAlias","parseArguments","parseField","isConst","item","parseConstArgument","parseArgument","parseConstValue","parseValueValue","any","parseList","parseObjectField","parseObject","parseStringLiteral","parseDirective","parseSchemaDefinition","parseDescription","parseScalarTypeDefinition","parseObjectTypeDefinition","parseInterfaceTypeDefinition","parseUnionTypeDefinition","parseEnumTypeDefinition","parseInputObjectTypeDefinition","parseArgumentDefs","parseDirectiveLocation","parseDirectiveLocations","parseDirectiveDefinition","allowLegacySDLImplementsInterfaces","allowLegacySDLEmptyFields","parseFieldDefinition","parseInputValueDef","parseEnumValueDefinition","startToken","noLocation","Loc","endToken","atToken","openKind","parseFn","closeKind","OldCookies","Cookies","api","noConflict","attributes","decode","converter","defaults","expires","Date","toUTCString","test","stringifiedAttributes","attributeName","cookie","json","jar","cookies","parts","getJSON","remove","withConverter","pureJs_1","whatwgEncodingApi_1","fromUtf8","input","TextEncoder","toUtf8","TextDecoder","HmacSHA256","H","K","isPrime","sqrtN","sqrt","factor","getFractionalBits","nPrime","W","SHA256","_hash","M","gamma0x","gamma0","gamma1x","gamma1","maj","sigma0","t1","nBitsTotal","nBitsLeft","v1","v4","uuid","Base64","_map","base64Chars","triplet","paddingChar","base64Str","base64StrLength","reverseMap","_reverseMap","paddingIndex","bits1","bits2","parseLoop","dbits","AuthenticationDetails","ValidationData","Username","Password","AuthParameters","ClientMetadata","_proto","nbi","inBrowser","BigInteger","w","xl","xh","rr","vv","BI_RC","int2char","BI_RM","intAt","nbv","nbits","Montgomery","mp","subTo","u0","am","mi","sh","DB","bs","cbs","bm","ds","DV","pm","pt","copyTo","ts","ms","nsh","ys","y0","yt","d1","FV","d2","qd","negate","km","compareTo","callback","z","k1","g2","is1","r2","randomBytes","AuthenticationHelper","hexHash","N","_this","largeAValue","hexRandom","randomBigInt","deviceGroupKey","username","_this2","combinedString","hashedString","padHex","SaltToHashDevices","verifierDevicesNotPadded","_this3","A","B","hashHex","ikm","salt","infoBitsWordArray","ikmWordArray","saltWordArray","prk","hmac","password","serverBValue","_this4","calculateU","UValue","usernamePassword","usernamePasswordHash","xValue","sValue","hkdf","_this5","gModPowXN","intValue2","err2","bigInt","hashStr","CognitoJwtToken","payload","jwtToken","CognitoAccessToken","_CognitoJwtToken","subClass","superClass","AccessToken","_temp","_inheritsLoose","CognitoIdToken","IdToken","CognitoRefreshToken","RefreshToken","CognitoUserSession","ClockDrift","accessToken","idToken","adjusted","monthNames","weekNames","DateHelper","now","weekDay","month","day","hours","minutes","seconds","CognitoUserAttribute","Value","dataMemory","MemoryStorage","StorageHelper","exception","userAgent","CognitoUser","pool","keyPrefix","signInUserSession","authenticationFlowType","authDetails","authParameters","clientMetaData","jsonReq","AuthFlow","ClientId","challengeName","challengeParameters","authenticateUserPlainUsernamePassword","authenticateUserDefaultAuth","authenticationHelper","getUserPoolId","dateHelper","deviceKey","errOnAValue","aValue","errOnHkdf","dateNow","signatureString","challengeResponses","jsonReqResp","ChallengeName","ChallengeResponses","Session","respondToAuthChallenge","challenge","challengeCallback","errChallenge","dataChallenge","errAuthenticate","dataAuthenticate","getUserContextData","authResult","userAttributes","rawRequiredAttributes","requiredAttributes","userAttributesPrefix","getCognitoUserSession","newDeviceMetadata","errGenHash","deviceSecretVerifierConfig","Salt","PasswordVerifier","DeviceKey","DeviceSecretVerifierConfig","DeviceName","errConfirm","dataConfirm","newPassword","requiredAttributeData","clientMetadata","finalUserAttributes","_this6","errAValue","errHkdf","confirmationCode","forceAliasCreation","ConfirmationCode","ForceAliasCreation","answerChallenge","_this7","mfaType","_this8","mfaTypeSelection","oldUserPassword","newUserPassword","PreviousPassword","ProposedPassword","getAccessToken","mfaOptions","DeliveryMedium","AttributeName","MFAOptions","getJwtToken","smsMfaSettings","softwareTokenMfaSettings","SMSMfaSettings","SoftwareTokenMfaSettings","_this9","UserAttributes","userData","attributeList","attribute","userAttribute","params","_this10","bypassCache","storage","getItem","latestUserData","refresh","refreshError","UserAttributeNames","idTokenKey","accessTokenKey","refreshTokenKey","clockDriftKey","refreshToken","clockDrift","cachedSession","_this11","lastUserKey","deviceKeyKey","authenticationResult","getIdToken","getRefreshToken","randomPasswordKey","deviceGroupKeyKey","Code","_this12","onFailure","onSuccess","DeviceRememberedStatus","paginationToken","Limit","PaginationToken","_this13","_this14","_this15","totpCode","friendlyDeviceName","_this16","UserCode","FriendlyDeviceName","errRespond","dataRespond","UserAgent","Client","endpoint","region","headers","method","cache","fetch","resp","response","_error","statusCode","ex","CognitoUserPool","UserPoolId","AdvancedSecurityDataCollectionFlag","validationData","cognitoUser","Pool","Storage","returnData","user","userConfirmed","userSub","codeDeliveryDetails","CodeDeliveryDetails","lastAuthUser","AmazonCognitoAdvancedSecurityData","amazonCognitoAdvancedSecurityDataConst","advancedSecurityData","EncodedData","CookieStorage","domain","secure","config","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","DEFAULT_RETRY_DELAY_BASE","MAXIMUM_RETRY_DELAY","RETRYABLE_STATUS_CODES","Set","add","THROTTLING_RETRY_DELAY_BASE","fallbackWindow","locateWindow","self","protocol_http_1","resolveHostHeaderConfig","hostHeaderMiddleware","request","_a","_b","HttpRequest","isInstance","requestHandler","handlerProtocol","hostHeaderMiddlewareOptions","tags","getHostHeaderPlugin","applyToStack","clientStack","alphabetByEncoding","alphabetByValue","char","fromBase64","totalByteLength","dataView","DataView","bits","bitLength","chunkOffset","setUint8","toBase64","bitClusterCount","getRandomValues","crypto","msCrypto","rnds8","rnds","byteToHex","bth","webpackPolyfill","deprecate","paths","children","utils","encode","paramsSerializer","serializedParams","toISOString","hashmarkIndex","__CANCEL__","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","adapter","XMLHttpRequest","transformRequest","transformResponse","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","status","common","buildURL","buildFullPath","parseHeaders","isURLSameOrigin","createError","requestData","requestHeaders","Authorization","btoa","fullPath","baseURL","open","onreadystatechange","readyState","responseURL","responseHeaders","getAllResponseHeaders","responseType","responseText","statusText","onabort","onerror","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","cancel","abort","send","enhanceError","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","prop","axiosKeys","otherKeys","Cancel","Function","constants_1","delayDecider_1","retryDecider_1","service_error_classification_1","ExponentialBackOffStrategy","maxRetries","retryDecider","delayDecider","defaultRetryDecider","defaultDelayDecider","shouldRetry","retryAttempted","retry","retries","totalDelay","_loop_1","this_1","state_1","output","err_1","delay_1","$metadata","totalRetryDelay","isThrottlingError","delayBase","attempts","connectionError","hasMetadata","httpStatusCode","isStillProcessingError","isClockSkewError","CLOCK_SKEW_ERROR_CODES","STILL_PROCESSING_ERROR_CODES","THROTTLING_ERROR_CODES","hexEncode","escapeUri","uri","isEmptyData_1","util_utf8_browser_1","util_locate_window_1","Sha256","secret","keyOperation","subtle","importKey","toArrayBufferView","SHA_256_HMAC_ALGO","oncomplete","getKeyPromise","keyData","sign","catch","digest","toHash","isEmptyData","finish","BYTES_PER_ELEMENT","SHA_256_HASH","EMPTY_DATA_SHA_256","convertToBuffer","typedArray","BLOCK_SIZE","DIGEST_LENGTH","KEY","Uint32Array","INIT","MAX_HASHABLE_LENGTH","ProviderError","_super","tryNextLink","deserializerMiddleware","deserializer","serializerMiddleware","serializer","endpointResolvedOptions","superInit","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Float32Array","Float64Array","typedArrayByteLength","resolveLogins","logins","all","tokenOrProvider","resolvedPairs","deserializeAws_json1_1GetCredentialsForIdentityCommandError","context","parsedOutput","errorCode","errorTypeParts","_d","_e","_f","_g","_h","_j","_k","_l","parsedBody","_m","parseBody","deserializeAws_json1_1ExternalServiceExceptionResponse","deserializeMetadata","deserializeAws_json1_1InternalErrorExceptionResponse","deserializeAws_json1_1InvalidIdentityPoolConfigurationExceptionResponse","deserializeAws_json1_1InvalidParameterExceptionResponse","deserializeAws_json1_1NotAuthorizedExceptionResponse","deserializeAws_json1_1ResourceConflictExceptionResponse","deserializeAws_json1_1ResourceNotFoundExceptionResponse","deserializeAws_json1_1TooManyRequestsExceptionResponse","Message","$fault","deserializeAws_json1_1GetIdCommandError","deserializeAws_json1_1LimitExceededExceptionResponse","deserialized","deserializeAws_json1_1ExternalServiceException","deserializeAws_json1_1InternalErrorException","deserializeAws_json1_1InvalidIdentityPoolConfigurationException","deserializeAws_json1_1InvalidParameterException","deserializeAws_json1_1LimitExceededException","deserializeAws_json1_1NotAuthorizedException","deserializeAws_json1_1ResourceConflictException","deserializeAws_json1_1ResourceNotFoundException","deserializeAws_json1_1TooManyRequestsException","serializeAws_json1_1GetCredentialsForIdentityInput","bodyParams","CustomRoleArn","IdentityId","Logins","serializeAws_json1_1LoginsMap","serializeAws_json1_1GetIdInput","AccountId","IdentityPoolId","mapParams","contents","__type","deserializeAws_json1_1GetCredentialsForIdentityResponse","Credentials","AccessKeyId","Expiration","SecretKey","SessionToken","round","deserializeAws_json1_1Credentials","deserializeAws_json1_1GetIdResponse","httpHeaders","requestId","collectBody","streamBody","streamCollector","buildHttpRpcRequest","resolvedHostname","utf8Encoder","collectBodyString","GetCredentialsForIdentityCommand","resolveMiddleware","configuration","middlewareStack","use","serialize","deserialize","handle","logger","serializeAws_json1_1GetCredentialsForIdentityCommand","deserializeAws_json1_1GetCredentialsForIdentityCommand","fromCognitoIdentity","parameters","_c","client","customRoleArn","identityId","throwOnMissingCredentials","throwOnMissingAccessKeyId","throwOnMissingSecretKey","accessKeyId","secretAccessKey","sessionToken","expiration","IndexedDbStorage","dbName","withObjectStore","store","req","onsuccess","removeItem","delete","setItem","id","put","getDb","openDbRequest","indexedDB","onblocked","onupgradeneeded","event","db","createObjectStore","keyPath","action","tx","transaction","close","objectStore","inMemoryStorage","InMemoryStorage","GetIdCommand","serializeAws_json1_1GetIdCommand","deserializeAws_json1_1GetIdCommand","fromCognitoIdentityPool","accountId","localStorage","identityPoolId","userIdentifier","cacheKey","provider","throwOnMissingId","AWS_TEMPLATE","AWS_REGIONS","AWS_CN_REGIONS","AWS_ISO_REGIONS","AWS_ISO_B_REGIONS","AWS_US_GOV_REGIONS","ClientSharedValues","apiVersion","disableHostPrefix","signingName","regionInfoProvider","regionInfo","ClientDefaultValues","sha256","urlParser","bodyLengthChecker","base64Decoder","base64Encoder","utf8Decoder","defaultUserAgent","runtime","credentialDefaultProvider","regionDefaultProvider","CognitoIdentityClient","_config_0","_config_1","_config_2","_config_3","_config_4","_config_5","_config_6","destroy","dt_str","methods","_observer","sendMessage","_observers","to","observer","closed","complete","hasObserver","PushStream","opts","_observable","notifyStart","addObserver","deleteObserver","pause","notifyPause","contentLengthMiddleware","contentLengthMiddlewareOptions","getContentLengthPlugin","invalidFunction","ie11Sha256_1","Ie11Sha256","webCryptoSha256_1","WebCryptoSha256","querystring_parser_1","parseUrl","URL","calculateBodyLength","stream","Response","arrayBuffer","packageName","packageVersion","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","clockseq","seedBytes","msecs","getTime","nsecs","dt","tl","tmh","hasSymbol","getSymbol","hostReportError","getMethod","getSpecies","ctor","addMethods","cleanupSubscription","subscription","cleanup","_cleanup","subscriptionClosed","Subscription","subscriber","start$0","SubscriptionObserver","cleanup$0","unsubscribe","_subscription","_subscriber","observable","m$0","m$1","m$2","subscribe","__$0","__this","hasSeed","hasValue","seed","acc","first","observable$0","__$1","item$0","i$0","of","items","i$1","observableSymbol","setHostReportError","Axios","mergeConfig","createInstance","defaultConfig","axios","instanceConfig","CancelToken","isCancel","promises","spread","InterceptorManager","dispatchRequest","interceptors","chain","interceptor","getUri","handlers","eject","transformData","throwIfCancellationRequested","throwIfRequested","reason","fns","normalizedName","isAxiosError","number","fileName","lineNumber","columnNumber","isAbsoluteURL","combineURLs","requestedURL","relativeURL","ignoreDuplicateOf","originURL","msie","urlParsingNode","createElement","resolveURL","setAttribute","requestURL","toGMTString","RegExp","executor","resolvePromise","nodeType","freeGlobal","maxInt","regexPunycode","regexNonASCII","regexSeparators","errors","stringFromCharCode","mapDomain","ucs2decode","extra","counter","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","baseMinusTMin","base","basic","oldi","baseMinusT","inputLength","bias","handledCPCount","basicLength","currentValue","handledCPCountPlusOne","qMinusT","qs","sep","eq","regexp","maxKeys","kstr","vstr","idx","xs","stringifyPrimitive","objectKeys","ks","normalizeEndpoint","promisified_1","promisified_2","resolveEndpointsConfig","tls","normalizeRegion","resolveRegionConfig","destroyRequestHandlerConfig","HttpResponse","cloned","carry","paramName","param","isValidHostname","retryMiddleware","retryStrategy","retryMiddlewareOptions","priority","getRetryPlugin","AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","PriorRequestNotComplete","BandwidthLimitExceeded","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","defaultStrategy_1","resolveRetryConfig","signature_v4_1","normalizeProvider","resolveAwsAuthConfig","signer","normalizedCreds","credentials","signingEscapePath","systemClockOffset","signingRegion","signingService","SignatureV4","service","uriEscapePath","escape_uri_1","escapeUriPath","e_1","e_1_1","getSkewCorrectedDate","awsAuthMiddleware","dateHeader","serverTime","signingDate","date","newServerTime","abs","awsAuthMiddlewareOptions","relation","toMiddleware","getAwsAuthPlugin","addRelativeTo","resolveUserAgentConfig","userAgentMiddleware","userAgentHeader","customUserAgent","getUserAgentMiddlewareOptions","getUserAgentPlugin","middleware_stack_1","MiddlewareStack","command","optionsOrCb","handler","absoluteEntries","relativeEntries","entriesNameMap","middleware","entry","sort","entries","stepWeights","priorityWeights","_from","toRemove","removeByName","removeByReference","removeByTag","removed","plugin","normalizeRelativeEntries","absoluteMiddlewareNamesMap","accumulator","normalized","relativeMiddlewareNamesMap","anchors","resolvedCurr","resolvedPrev","resolvedNext","orphanedRelativeEntries","visited","WeakSet","geMiddlewareList","middlewareList","entryList","entryList_1","defaultAnchorValue","relativeEntry","orphanedEntry","reverse","initialize","build","finalizeRequest","high","normal","low","Command","isa","ids","StringWrapper","Class","getPrototypeOf","Constructor","LazyJsonString","deserializeJSON","extendedEncodeURIComponent","days","months","dateToUtcString","year","getUTCFullYear","getUTCMonth","dayOfWeek","getUTCDay","dayOfMonthInt","getUTCDate","hoursInt","getUTCHours","minutesInt","getUTCMinutes","secondsInt","getUTCSeconds","sha256_js_1","supports_web_crypto_1","ie11_detection_1","supportsWebCrypto","isMsWindow","surrogatePair","decoded","byte","nextByte","byteValue","RawSha256_1","RawSha256","outer","inner","bufferHash","bufferFromSecret","digestSync","finished","state","temp","bufferLength","bytesHashed","hashBuffer","bitsHashed","bufferView","undecoratedLength","setUint32","state0","state1","state2","state3","state4","state5","state6","state7","t1_1","t2_1","t2","subtleCryptoMethods","supportsSecureRandom","supportsSubtleCrypto","methodName","supportsZeroByteGCM","generateKey","encrypt","iv","additionalData","tagLength","msSubtleCryptoMethods","quacksLikeAnMsWindow","subtle_1","request_timeout_1","querystring_builder_1","FetchHttpHandler","httpOptions","abortSignal","requestTimeoutInMs","requestTimeout","aborted","abortError","queryString","buildQueryString","requestOptions","Headers","AbortController","fetchRequest","Request","raceOfPromises","fetchHeaders","transformedHeaders","pair","bufferBody","blob","race","timeoutInMs","timeoutError","util_uri_escape_1","iLen","qsEntry","ProviderError_1","providers","providers_1","providers_1_1","fromStatic","staticValue","promisified","memoize","isExpired","requiresRefresh","result_1","isConstant","resolved","deserializerMiddleware_1","serializerMiddleware_1","deserializerMiddlewareOption","serializerMiddlewareOption","getSerdePlugin","commandStack","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","len2","encodeChunk","lookup","num","isLE","mLen","eLen","eMax","eBias","nBits","NaN","rt","LN2","_hasher","hasherBlockSize","hasherBlockSizeBytes","oKey","_oKey","iKey","_iKey","oKeyWords","iKeyWords","innerHash","_classCallCheck","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","hasSymbols","SymbolIterator","SymbolObservable","SymbolSpecies","isObservable","enqueue","closeSubscription","_queue","_state","notifySubscription","onNotify","flushSubscription","subscriptionObserver","_len","sources","_key","startNext","subscriptions","completeIfDone","_item","_len2","_key2","symbol","G","V","Map","isFrozen","clear","J","O","S","U","I","R","D","T","X","Y","Proxy","revocable","revoke","proxy","$","ownKeys","getOwnPropertyNames","deleteProperty","nn","useProxies","setUseProxies","autoFreeze","setAutoFreeze","produce","produceWithPatches","createDraft","finishDraft","applyPatches","tn","en","AMZ_DATE_HEADER","GENERATED_HEADERS","SIGNATURE_HEADER","TOKEN_HEADER","ALWAYS_UNSIGNABLE_HEADERS","authorization","connection","pragma","referer","te","trailer","upgrade","PROXY_HEADER_PATTERN","SEC_HEADER_PATTERN","EVENT_ALGORITHM_IDENTIFIER","signingKeyCache","cacheQueue","createScope","shortDate","getSigningKey","sha256Constructor","keyPromise","signable","intermediateKey","clearCredentialCache","getCanonicalHeaders","unsignableHeaders","signableHeaders","canonical","headerName","canonicalHeaderName","getPayloadHash","hashConstructor","hashCtor","cloneRequest","cloneQuery","prepareRequest","iso8601","time","toDate","applyChecksum","regionProvider","credentialProvider","presign","originalRequest","expiresIn","longDate","scope","canonicalHeaders","formatDate","moveHeadersToQuery","getCanonicalHeaderList","getSignature","createCanonicalRequest","toSign","signString","signEvent","signRequest","priorSignature","hashedPayload","hashedHeaders","stringToSign","requestToSign","payloadHash","signature","soughtHeader","hasHeader","ALGORITHM_IDENTIFIER","sortedHeaders","getCanonicalPath","serialized","getCanonicalQuery","createStringToSign","credentialScope","canonicalRequest","hashedRequest","idbProxyableTypes","cursorAdvanceMethods","cursorRequestMap","WeakMap","transactionDoneMap","transactionStoreNamesMap","transformCache","reverseTransformCache","idbProxyTraps","IDBTransaction","objectStoreNames","wrapFunction","func","IDBDatabase","IDBCursor","continue","continuePrimaryKey","unwrap","storeNames","transformCachableValue","unlisten","removeEventListener","cacheDonePromiseForTransaction","IDBObjectStore","IDBIndex","some","IDBRequest","success","promisifyRequest","newValue","openDB","blocked","blocking","openPromise","oldVersion","newVersion","deleteDB","deleteDatabase","readMethods","writeMethods","cachedMethods","targetFuncName","useIndex","isWrite","async","storeName","returnVal","oldTraps"],"mappings":"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","file":"aws-amplify-datastore.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@aws-amplify/pubsub\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"aws_amplify_datastore\", [\"@aws-amplify/pubsub\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"aws_amplify_datastore\"] = factory(require(\"@aws-amplify/pubsub\"));\n\telse\n\t\troot[\"aws_amplify_datastore\"] = factory(root[\"@aws-amplify/pubsub\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__15__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 171);\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { isPredicateGroup, isPredicateObj, } from './types';\nimport { v4 as uuid } from 'uuid';\nexport var exhaustiveCheck = function (obj, throwOnError) {\n    if (throwOnError === void 0) { throwOnError = true; }\n    if (throwOnError) {\n        throw new Error(\"Invalid \" + obj);\n    }\n};\nexport var validatePredicate = function (model, groupType, predicatesOrGroups) {\n    var filterType;\n    var isNegation = false;\n    if (predicatesOrGroups.length === 0) {\n        return true;\n    }\n    switch (groupType) {\n        case 'not':\n            filterType = 'every';\n            isNegation = true;\n            break;\n        case 'and':\n            filterType = 'every';\n            break;\n        case 'or':\n            filterType = 'some';\n            break;\n        default:\n            exhaustiveCheck(groupType);\n    }\n    var result = predicatesOrGroups[filterType](function (predicateOrGroup) {\n        if (isPredicateObj(predicateOrGroup)) {\n            var field = predicateOrGroup.field, operator = predicateOrGroup.operator, operand = predicateOrGroup.operand;\n            var value = model[field];\n            return validatePredicateField(value, operator, operand);\n        }\n        if (isPredicateGroup(predicateOrGroup)) {\n            var type = predicateOrGroup.type, predicates = predicateOrGroup.predicates;\n            return validatePredicate(model, type, predicates);\n        }\n        throw new Error('Not a predicate or group');\n    });\n    return isNegation ? !result : result;\n};\nvar validatePredicateField = function (value, operator, operand) {\n    switch (operator) {\n        case 'ne':\n            return value !== operand;\n        case 'eq':\n            return value === operand;\n        case 'le':\n            return value <= operand;\n        case 'lt':\n            return value < operand;\n        case 'ge':\n            return value >= operand;\n        case 'gt':\n            return value > operand;\n        case 'between':\n            var _a = __read(operand, 2), min = _a[0], max = _a[1];\n            return value >= min && value <= max;\n        case 'beginsWith':\n            return value.startsWith(operand);\n        case 'contains':\n            return (value.indexOf(operand) > -1);\n        case 'notContains':\n            return (value.indexOf(operand) === -1);\n        default:\n            exhaustiveCheck(operator, false);\n            return false;\n    }\n};\nexport var isModelConstructor = function (obj) {\n    return (obj && typeof obj.copyOf === 'function');\n};\nexport var establishRelation = function (namespace) {\n    var relationship = {};\n    Object.keys(namespace.models).forEach(function (mKey) {\n        relationship[mKey] = { indexes: [], relationTypes: [] };\n        var model = namespace.models[mKey];\n        Object.keys(model.fields).forEach(function (attr) {\n            var fieldAttribute = model.fields[attr];\n            if (typeof fieldAttribute.type === 'object' &&\n                'model' in fieldAttribute.type) {\n                var connectionType = fieldAttribute.association.connectionType;\n                relationship[mKey].relationTypes.push({\n                    fieldName: fieldAttribute.name,\n                    modelName: fieldAttribute.type.model,\n                    relationType: connectionType,\n                    targetName: fieldAttribute.association['targetName'],\n                });\n                if (connectionType === 'BELONGS_TO') {\n                    relationship[mKey].indexes.push(fieldAttribute.association['targetName']);\n                }\n            }\n        });\n    });\n    return relationship;\n};\nvar topologicallySortedModels = new WeakMap();\nexport var traverseModel = function (srcModelName, instance, namespace, modelInstanceCreator, getModelConstructorByModelName) {\n    var relationships = namespace.relationships;\n    var modelConstructor = getModelConstructorByModelName(namespace.name, srcModelName);\n    var relation = relationships[srcModelName];\n    var result = [];\n    var newInstance = modelConstructor.copyOf(instance, function (draftInstance) {\n        relation.relationTypes.forEach(function (rItem) {\n            var modelConstructor = getModelConstructorByModelName(namespace.name, rItem.modelName);\n            switch (rItem.relationType) {\n                case 'HAS_ONE':\n                    if (instance[rItem.fieldName]) {\n                        var modelInstance = void 0;\n                        try {\n                            modelInstance = modelInstanceCreator(modelConstructor, instance[rItem.fieldName]);\n                        }\n                        catch (error) {\n                            // Do nothing\n                        }\n                        result.push({\n                            modelName: rItem.modelName,\n                            item: instance[rItem.fieldName],\n                            instance: modelInstance,\n                        });\n                        draftInstance[rItem.fieldName] = (draftInstance[rItem.fieldName]).id;\n                    }\n                    break;\n                case 'BELONGS_TO':\n                    if (instance[rItem.fieldName]) {\n                        var modelInstance = void 0;\n                        try {\n                            modelInstance = modelInstanceCreator(modelConstructor, instance[rItem.fieldName]);\n                        }\n                        catch (error) {\n                            // Do nothing\n                        }\n                        var isDeleted = (draftInstance[rItem.fieldName])._deleted;\n                        if (!isDeleted) {\n                            result.push({\n                                modelName: rItem.modelName,\n                                item: instance[rItem.fieldName],\n                                instance: modelInstance,\n                            });\n                        }\n                    }\n                    draftInstance[rItem.targetName] = draftInstance[rItem.fieldName]\n                        ? draftInstance[rItem.fieldName].id\n                        : null;\n                    delete draftInstance[rItem.fieldName];\n                    break;\n                case 'HAS_MANY':\n                    // Intentionally blank\n                    break;\n                default:\n                    exhaustiveCheck(rItem.relationType);\n                    break;\n            }\n        });\n    });\n    result.unshift({\n        modelName: srcModelName,\n        item: newInstance,\n        instance: newInstance,\n    });\n    if (!topologicallySortedModels.has(namespace)) {\n        topologicallySortedModels.set(namespace, Array.from(namespace.modelTopologicalOrdering.keys()));\n    }\n    var sortedModels = topologicallySortedModels.get(namespace);\n    result.sort(function (a, b) {\n        return (sortedModels.indexOf(a.modelName) - sortedModels.indexOf(b.modelName));\n    });\n    return result;\n};\nexport var getIndex = function (rel, src) {\n    var index = '';\n    rel.some(function (relItem) {\n        if (relItem.modelName === src) {\n            index = relItem.targetName;\n        }\n    });\n    return index;\n};\nexport var NAMESPACES;\n(function (NAMESPACES) {\n    NAMESPACES[\"DATASTORE\"] = \"datastore\";\n    NAMESPACES[\"USER\"] = \"user\";\n    NAMESPACES[\"SYNC\"] = \"sync\";\n    NAMESPACES[\"STORAGE\"] = \"storage\";\n})(NAMESPACES || (NAMESPACES = {}));\nvar DATASTORE = NAMESPACES.DATASTORE;\nvar USER = NAMESPACES.USER;\nvar SYNC = NAMESPACES.SYNC;\nvar STORAGE = NAMESPACES.STORAGE;\nexport { USER, SYNC, STORAGE, DATASTORE };\nvar privateModeCheckResult;\nexport var isPrivateMode = function () {\n    return new Promise(function (resolve) {\n        var dbname = uuid();\n        var db;\n        var isPrivate = function () {\n            privateModeCheckResult = false;\n            resolve(true);\n        };\n        var isNotPrivate = function () { return __awaiter(void 0, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(db && db.result && typeof db.result.close === 'function')) return [3 /*break*/, 2];\n                        return [4 /*yield*/, db.result.close()];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [4 /*yield*/, indexedDB.deleteDatabase(dbname)];\n                    case 3:\n                        _a.sent();\n                        privateModeCheckResult = true;\n                        return [2 /*return*/, resolve(false)];\n                }\n            });\n        }); };\n        if (privateModeCheckResult === true) {\n            return isNotPrivate();\n        }\n        if (privateModeCheckResult === false) {\n            return isPrivate();\n        }\n        if (indexedDB === null)\n            return isPrivate();\n        db = indexedDB.open(dbname);\n        db.onerror = isPrivate;\n        db.onsuccess = isNotPrivate;\n    });\n};\n//# sourceMappingURL=util.js.map","import { exhaustiveCheck } from './util';\nexport function isSchemaModel(obj) {\n    return obj && obj.pluralName !== undefined;\n}\nexport function isAssociatedWith(obj) {\n    return obj && obj.associatedWith;\n}\nexport function isTargetNameAssociation(obj) {\n    return obj && obj.targetName;\n}\nexport var GraphQLScalarType;\n(function (GraphQLScalarType) {\n    GraphQLScalarType[GraphQLScalarType[\"ID\"] = 0] = \"ID\";\n    GraphQLScalarType[GraphQLScalarType[\"String\"] = 1] = \"String\";\n    GraphQLScalarType[GraphQLScalarType[\"Int\"] = 2] = \"Int\";\n    GraphQLScalarType[GraphQLScalarType[\"Float\"] = 3] = \"Float\";\n    GraphQLScalarType[GraphQLScalarType[\"Boolean\"] = 4] = \"Boolean\";\n    GraphQLScalarType[GraphQLScalarType[\"AWSDate\"] = 5] = \"AWSDate\";\n    GraphQLScalarType[GraphQLScalarType[\"AWSTime\"] = 6] = \"AWSTime\";\n    GraphQLScalarType[GraphQLScalarType[\"AWSDateTime\"] = 7] = \"AWSDateTime\";\n    GraphQLScalarType[GraphQLScalarType[\"AWSTimestamp\"] = 8] = \"AWSTimestamp\";\n    GraphQLScalarType[GraphQLScalarType[\"AWSEmail\"] = 9] = \"AWSEmail\";\n    GraphQLScalarType[GraphQLScalarType[\"AWSJSON\"] = 10] = \"AWSJSON\";\n    GraphQLScalarType[GraphQLScalarType[\"AWSURL\"] = 11] = \"AWSURL\";\n    GraphQLScalarType[GraphQLScalarType[\"AWSPhone\"] = 12] = \"AWSPhone\";\n    GraphQLScalarType[GraphQLScalarType[\"AWSIPAddress\"] = 13] = \"AWSIPAddress\";\n})(GraphQLScalarType || (GraphQLScalarType = {}));\n(function (GraphQLScalarType) {\n    function getJSType(scalar) {\n        switch (scalar) {\n            case 'Boolean':\n                return 'boolean';\n            case 'ID':\n            case 'String':\n            case 'AWSDate':\n            case 'AWSTime':\n            case 'AWSDateTime':\n            case 'AWSEmail':\n            case 'AWSJSON':\n            case 'AWSURL':\n            case 'AWSPhone':\n            case 'AWSIPAddress':\n                return 'string';\n            case 'Int':\n            case 'Float':\n            case 'AWSTimestamp':\n                return 'number';\n            default:\n                exhaustiveCheck(scalar);\n        }\n    }\n    GraphQLScalarType.getJSType = getJSType;\n})(GraphQLScalarType || (GraphQLScalarType = {}));\nexport function isGraphQLScalarType(obj) {\n    return obj && GraphQLScalarType[obj] !== undefined;\n}\nexport function isModelFieldType(obj) {\n    var modelField = 'model';\n    if (obj && obj[modelField])\n        return true;\n    return false;\n}\nexport function isNonModelFieldType(obj) {\n    var typeField = 'nonModel';\n    if (obj && obj[typeField])\n        return true;\n    return false;\n}\nexport function isEnumFieldType(obj) {\n    var modelField = 'enum';\n    if (obj && obj[modelField])\n        return true;\n    return false;\n}\n//#endregion\n//#region Subscription messages\nexport var OpType;\n(function (OpType) {\n    OpType[\"INSERT\"] = \"INSERT\";\n    OpType[\"UPDATE\"] = \"UPDATE\";\n    OpType[\"DELETE\"] = \"DELETE\";\n})(OpType || (OpType = {}));\nexport function isPredicateObj(obj) {\n    return obj && obj.field !== undefined;\n}\nexport function isPredicateGroup(obj) {\n    return obj && obj.type !== undefined;\n}\nexport var QueryOne;\n(function (QueryOne) {\n    QueryOne[QueryOne[\"FIRST\"] = 0] = \"FIRST\";\n    QueryOne[QueryOne[\"LAST\"] = 1] = \"LAST\";\n})(QueryOne || (QueryOne = {}));\nexport var DISCARD = Symbol('DISCARD');\n//#endregion\n//# sourceMappingURL=types.js.map","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","import { exhaustiveCheck } from '../util';\nvar predicatesAllSet = new WeakSet();\nexport function isPredicatesAll(predicate) {\n    return predicatesAllSet.has(predicate);\n}\n// This symbol is not used at runtime, only its type (unique symbol)\nexport var PredicateAll = Symbol('A predicate that matches all records');\nvar Predicates = /** @class */ (function () {\n    function Predicates() {\n    }\n    Object.defineProperty(Predicates, \"ALL\", {\n        get: function () {\n            var predicate = (function (c) { return c; });\n            predicatesAllSet.add(predicate);\n            return predicate;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Predicates;\n}());\nexport { Predicates };\nvar ModelPredicateCreator = /** @class */ (function () {\n    function ModelPredicateCreator() {\n    }\n    ModelPredicateCreator.createPredicateBuilder = function (modelDefinition) {\n        var modelName = modelDefinition.name;\n        var fieldNames = new Set(Object.keys(modelDefinition.fields));\n        var handler;\n        var predicate = new Proxy({}, (handler = {\n            get: function (_target, propertyKey, receiver) {\n                var groupType = propertyKey;\n                switch (groupType) {\n                    case 'and':\n                    case 'or':\n                    case 'not':\n                        var result_1 = function (newPredicate) {\n                            var group = {\n                                type: groupType,\n                                predicates: [],\n                            };\n                            // Create a new recorder\n                            var tmpPredicateRecorder = new Proxy({}, handler);\n                            // Set the recorder group\n                            ModelPredicateCreator.predicateGroupsMap.set(tmpPredicateRecorder, group);\n                            // Apply the predicates to the recorder (this is the step that records the changes)\n                            newPredicate(tmpPredicateRecorder);\n                            // Push the group to the top-level recorder\n                            ModelPredicateCreator.predicateGroupsMap\n                                .get(receiver)\n                                .predicates.push(group);\n                            return receiver;\n                        };\n                        return result_1;\n                    default:\n                        exhaustiveCheck(groupType, false);\n                }\n                var field = propertyKey;\n                if (!fieldNames.has(field)) {\n                    throw new Error(\"Invalid field for model. field: \" + field + \", model: \" + modelName);\n                }\n                var result = function (operator, operand) {\n                    ModelPredicateCreator.predicateGroupsMap\n                        .get(receiver)\n                        .predicates.push({ field: field, operator: operator, operand: operand });\n                    return receiver;\n                };\n                return result;\n            },\n        }));\n        var group = {\n            type: 'and',\n            predicates: [],\n        };\n        ModelPredicateCreator.predicateGroupsMap.set(predicate, group);\n        return predicate;\n    };\n    ModelPredicateCreator.isValidPredicate = function (predicate) {\n        return ModelPredicateCreator.predicateGroupsMap.has(predicate);\n    };\n    ModelPredicateCreator.getPredicates = function (predicate, throwOnInvalid) {\n        if (throwOnInvalid === void 0) { throwOnInvalid = true; }\n        if (throwOnInvalid && !ModelPredicateCreator.isValidPredicate(predicate)) {\n            throw new Error('The predicate is not valid');\n        }\n        return ModelPredicateCreator.predicateGroupsMap.get(predicate);\n    };\n    ModelPredicateCreator.createFromExisting = function (modelDefinition, existing) {\n        if (!existing || !modelDefinition) {\n            return undefined;\n        }\n        return existing(ModelPredicateCreator.createPredicateBuilder(modelDefinition));\n    };\n    ModelPredicateCreator.createForId = function (modelDefinition, id) {\n        return ModelPredicateCreator.createPredicateBuilder(modelDefinition).id('eq', id);\n    };\n    ModelPredicateCreator.predicateGroupsMap = new WeakMap();\n    return ModelPredicateCreator;\n}());\nexport { ModelPredicateCreator };\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isEnumFieldType, isGraphQLScalarType, isPredicateObj, isSchemaModel, isTargetNameAssociation, isNonModelFieldType, OpType, } from '../types';\nimport { exhaustiveCheck } from '../util';\nvar GraphQLOperationType;\n(function (GraphQLOperationType) {\n    GraphQLOperationType[\"LIST\"] = \"query\";\n    GraphQLOperationType[\"CREATE\"] = \"mutation\";\n    GraphQLOperationType[\"UPDATE\"] = \"mutation\";\n    GraphQLOperationType[\"DELETE\"] = \"mutation\";\n    GraphQLOperationType[\"GET\"] = \"query\";\n})(GraphQLOperationType || (GraphQLOperationType = {}));\nexport var TransformerMutationType;\n(function (TransformerMutationType) {\n    TransformerMutationType[\"CREATE\"] = \"Create\";\n    TransformerMutationType[\"UPDATE\"] = \"Update\";\n    TransformerMutationType[\"DELETE\"] = \"Delete\";\n    TransformerMutationType[\"GET\"] = \"Get\";\n})(TransformerMutationType || (TransformerMutationType = {}));\nvar dummyMetadata = {\n    _version: undefined,\n    _lastChangedAt: undefined,\n    _deleted: undefined,\n};\nvar metadataFields = (Object.keys(dummyMetadata));\nexport function getMetadataFields() {\n    return metadataFields;\n}\nfunction generateSelectionSet(namespace, modelDefinition) {\n    var scalarFields = getScalarFields(modelDefinition);\n    var nonModelFields = getNonModelFields(namespace, modelDefinition);\n    var scalarAndMetadataFields = Object.values(scalarFields)\n        .map(function (_a) {\n        var name = _a.name;\n        return name;\n    })\n        .concat(nonModelFields);\n    if (isSchemaModel(modelDefinition)) {\n        scalarAndMetadataFields = scalarAndMetadataFields\n            .concat(getMetadataFields())\n            .concat(getConnectionFields(modelDefinition));\n    }\n    var result = scalarAndMetadataFields.join('\\n');\n    return result;\n}\nfunction getScalarFields(modelDefinition) {\n    var fields = modelDefinition.fields;\n    var result = Object.values(fields)\n        .filter(function (field) {\n        if (isGraphQLScalarType(field.type) || isEnumFieldType(field.type)) {\n            return true;\n        }\n        return false;\n    })\n        .reduce(function (acc, field) {\n        acc[field.name] = field;\n        return acc;\n    }, {});\n    return result;\n}\nfunction getConnectionFields(modelDefinition) {\n    var result = [];\n    Object.values(modelDefinition.fields)\n        .filter(function (_a) {\n        var association = _a.association;\n        return association && Object.keys(association).length;\n    })\n        .forEach(function (_a) {\n        var name = _a.name, association = _a.association;\n        var connectionType = association.connectionType;\n        switch (connectionType) {\n            case 'HAS_ONE':\n            case 'HAS_MANY':\n                // Intentionally blank\n                break;\n            case 'BELONGS_TO':\n                if (isTargetNameAssociation(association)) {\n                    result.push(name + \" { id _deleted }\");\n                }\n                break;\n            default:\n                exhaustiveCheck(connectionType);\n        }\n    });\n    return result;\n}\nfunction getNonModelFields(namespace, modelDefinition) {\n    var result = [];\n    Object.values(modelDefinition.fields).forEach(function (_a) {\n        var name = _a.name, type = _a.type;\n        if (isNonModelFieldType(type)) {\n            var typeDefinition = namespace.nonModels[type.nonModel];\n            var scalarFields = Object.values(getScalarFields(typeDefinition)).map(function (_a) {\n                var name = _a.name;\n                return name;\n            });\n            var nested_1 = [];\n            Object.values(typeDefinition.fields).forEach(function (field) {\n                var type = field.type, name = field.name;\n                if (isNonModelFieldType(type)) {\n                    var typeDefinition_1 = namespace.nonModels[type.nonModel];\n                    nested_1.push(name + \" { \" + generateSelectionSet(namespace, typeDefinition_1) + \" }\");\n                }\n            });\n            result.push(name + \" { \" + scalarFields.join(' ') + \" \" + nested_1.join(' ') + \" }\");\n        }\n    });\n    return result;\n}\nexport function getAuthorizationRules(modelDefinition, transformerOpType) {\n    // Searching for owner authorization on attributes\n    var authConfig = []\n        .concat(modelDefinition.attributes)\n        .find(function (attr) { return attr && attr.type === 'auth'; });\n    var _a = (authConfig || {}).properties, _b = (_a === void 0 ? {} : _a).rules, rules = _b === void 0 ? [] : _b;\n    var resultRules = [];\n    // Multiple rules can be declared for allow: owner\n    rules.forEach(function (rule) {\n        // setting defaults for backwards compatibility with old cli\n        var _a = rule.identityClaim, identityClaim = _a === void 0 ? 'cognito:username' : _a, _b = rule.ownerField, ownerField = _b === void 0 ? 'owner' : _b, _c = rule.operations, operations = _c === void 0 ? ['create', 'update', 'delete'] : _c, _d = rule.provider, provider = _d === void 0 ? 'userPools' : _d, _e = rule.groupClaim, groupClaim = _e === void 0 ? 'cognito:groups' : _e, _f = rule.allow, authStrategy = _f === void 0 ? 'iam' : _f, _g = rule.groups, groups = _g === void 0 ? [] : _g;\n        var isOperationAuthorized = operations.find(function (operation) { return operation.toLowerCase() === transformerOpType.toLowerCase(); });\n        if (isOperationAuthorized) {\n            var rule_1 = {\n                identityClaim: identityClaim,\n                ownerField: ownerField,\n                provider: provider,\n                groupClaim: groupClaim,\n                authStrategy: authStrategy,\n                groups: groups,\n            };\n            // owner rules has least priority\n            if (authStrategy === 'owner') {\n                resultRules.push(rule_1);\n            }\n            else {\n                resultRules.unshift(rule_1);\n            }\n        }\n    });\n    return resultRules;\n}\nexport function buildSubscriptionGraphQLOperation(namespace, modelDefinition, transformerMutationType, isOwnerAuthorization, ownerField) {\n    var selectionSet = generateSelectionSet(namespace, modelDefinition);\n    var typeName = modelDefinition.name, pluralTypeName = modelDefinition.pluralName;\n    var opName = \"on\" + transformerMutationType + typeName;\n    var docArgs = '';\n    var opArgs = '';\n    if (isOwnerAuthorization) {\n        docArgs = \"($\" + ownerField + \": String!)\";\n        opArgs = \"(\" + ownerField + \": $\" + ownerField + \")\";\n    }\n    return [\n        transformerMutationType,\n        opName,\n        \"subscription operation\" + docArgs + \"{\\n\\t\\t\\t\" + opName + opArgs + \"{\\n\\t\\t\\t\\t\" + selectionSet + \"\\n\\t\\t\\t}\\n\\t\\t}\",\n    ];\n}\nexport function buildGraphQLOperation(namespace, modelDefinition, graphQLOpType) {\n    var selectionSet = generateSelectionSet(namespace, modelDefinition);\n    var typeName = modelDefinition.name, pluralTypeName = modelDefinition.pluralName;\n    var operation;\n    var documentArgs = ' ';\n    var operationArgs = ' ';\n    var transformerMutationType;\n    switch (graphQLOpType) {\n        case 'LIST':\n            operation = \"sync\" + pluralTypeName;\n            documentArgs = \"($limit: Int, $nextToken: String, $lastSync: AWSTimestamp)\";\n            operationArgs =\n                '(limit: $limit, nextToken: $nextToken, lastSync: $lastSync)';\n            selectionSet = \"items {\\n\\t\\t\\t\\t\\t\\t\\t\" + selectionSet + \"\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tnextToken\\n\\t\\t\\t\\t\\t\\tstartedAt\";\n            break;\n        case 'CREATE':\n            operation = \"create\" + typeName;\n            documentArgs = \"($input: Create\" + typeName + \"Input!)\";\n            operationArgs = '(input: $input)';\n            transformerMutationType = TransformerMutationType.CREATE;\n            break;\n        case 'UPDATE':\n            operation = \"update\" + typeName;\n            documentArgs = \"($input: Update\" + typeName + \"Input!, $condition: Model\" + typeName + \"ConditionInput)\";\n            operationArgs = '(input: $input, condition: $condition)';\n            transformerMutationType = TransformerMutationType.UPDATE;\n            break;\n        case 'DELETE':\n            operation = \"delete\" + typeName;\n            documentArgs = \"($input: Delete\" + typeName + \"Input!, $condition: Model\" + typeName + \"ConditionInput)\";\n            operationArgs = '(input: $input, condition: $condition)';\n            transformerMutationType = TransformerMutationType.DELETE;\n            break;\n        case 'GET':\n            operation = \"get\" + typeName;\n            documentArgs = \"($id: ID!)\";\n            operationArgs = '(id: $id)';\n            transformerMutationType = TransformerMutationType.GET;\n            break;\n        default:\n            exhaustiveCheck(graphQLOpType);\n    }\n    return [\n        [\n            transformerMutationType,\n            operation,\n            GraphQLOperationType[graphQLOpType] + \" operation\" + documentArgs + \"{\\n\\t\\t\" + operation + operationArgs + \"{\\n\\t\\t\\t\" + selectionSet + \"\\n\\t\\t}\\n\\t}\",\n        ],\n    ];\n}\nexport function createMutationInstanceFromModelOperation(relationships, modelDefinition, opType, model, element, condition, MutationEventConstructor, modelInstanceCreator, id) {\n    var operation;\n    switch (opType) {\n        case OpType.INSERT:\n            operation = TransformerMutationType.CREATE;\n            break;\n        case OpType.UPDATE:\n            operation = TransformerMutationType.UPDATE;\n            break;\n        case OpType.DELETE:\n            operation = TransformerMutationType.DELETE;\n            break;\n        default:\n            exhaustiveCheck(opType);\n    }\n    var mutationEvent = modelInstanceCreator(MutationEventConstructor, __assign(__assign({}, (id ? { id: id } : {})), { data: JSON.stringify(element), modelId: element.id, model: model.name, operation: operation, condition: JSON.stringify(condition) }));\n    return mutationEvent;\n}\nexport function predicateToGraphQLCondition(predicate) {\n    var result = {};\n    if (!predicate || !Array.isArray(predicate.predicates)) {\n        return result;\n    }\n    predicate.predicates.forEach(function (p) {\n        var _a;\n        if (isPredicateObj(p)) {\n            var field = p.field, operator = p.operator, operand = p.operand;\n            if (field === 'id') {\n                return;\n            }\n            result[field] = (_a = {}, _a[operator] = operand, _a);\n        }\n        else {\n            result[p.type] = predicateToGraphQLCondition(p);\n        }\n    });\n    return result;\n}\n//# sourceMappingURL=utils.js.map","import { Amplify } from '@aws-amplify/core';\nimport { DataStore, initSchema } from './datastore/datastore';\nimport { Predicates } from './predicates';\nexport * from './types';\nexport { DataStore, initSchema, Predicates };\nAmplify.register(DataStore);\n//# sourceMappingURL=index.js.map","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\t    /*\n\t     * Local polyfil of Object.create\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {};\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }())\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var i = 0; i < thatSigBytes; i += 4) {\n\t                    thisWords[(thisSigBytes + i) >>> 2] = thatWords[i >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            var r = (function (m_w) {\n\t                var m_w = m_w;\n\t                var m_z = 0x3ade68b1;\n\t                var mask = 0xffffffff;\n\n\t                return function () {\n\t                    m_z = (0x9069 * (m_z & 0xFFFF) + (m_z >> 0x10)) & mask;\n\t                    m_w = (0x4650 * (m_w & 0xFFFF) + (m_w >> 0x10)) & mask;\n\t                    var result = ((m_z << 0x10) + m_w) & mask;\n\t                    result /= 0x100000000;\n\t                    result += 0.5;\n\t                    return result * (Math.random() > .5 ? 1 : -1);\n\t                }\n\t            });\n\n\t            for (var i = 0, rcache; i < nBytes; i += 4) {\n\t                var _r = r((rcache || Math.random()) * 0x100000000);\n\n\t                rcache = _r() * 0x3ade67b7;\n\t                words.push((_r() * 0x100000000) | 0);\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                var processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));","import zenObservable from 'zen-observable';\n\nvar Observable = zenObservable;\n\nexport default Observable;\nexport { Observable };\n//# sourceMappingURL=bundle.esm.js.map\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Function equal to merge with the difference being that no reference\n * to original objects is kept.\n *\n * @see merge\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction deepMerge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = deepMerge(result[key], val);\n    } else if (typeof val === 'object') {\n      result[key] = deepMerge({}, val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  deepMerge: deepMerge,\n  extend: extend,\n  trim: trim\n};\n","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar MIME_MAP = [\n    { type: 'text/plain', ext: 'txt' },\n    { type: 'text/html', ext: 'html' },\n    { type: 'text/javascript', ext: 'js' },\n    { type: 'text/css', ext: 'css' },\n    { type: 'text/csv', ext: 'csv' },\n    { type: 'text/yaml', ext: 'yml' },\n    { type: 'text/yaml', ext: 'yaml' },\n    { type: 'text/calendar', ext: 'ics' },\n    { type: 'text/calendar', ext: 'ical' },\n    { type: 'image/png', ext: 'png' },\n    { type: 'image/gif', ext: 'gif' },\n    { type: 'image/jpeg', ext: 'jpg' },\n    { type: 'image/jpeg', ext: 'jpeg' },\n    { type: 'image/bmp', ext: 'bmp' },\n    { type: 'image/x-icon', ext: 'ico' },\n    { type: 'image/tiff', ext: 'tif' },\n    { type: 'image/tiff', ext: 'tiff' },\n    { type: 'image/svg+xml', ext: 'svg' },\n    { type: 'application/json', ext: 'json' },\n    { type: 'application/xml', ext: 'xml' },\n    { type: 'application/x-sh', ext: 'sh' },\n    { type: 'application/zip', ext: 'zip' },\n    { type: 'application/x-rar-compressed', ext: 'rar' },\n    { type: 'application/x-tar', ext: 'tar' },\n    { type: 'application/x-bzip', ext: 'bz' },\n    { type: 'application/x-bzip2', ext: 'bz2' },\n    { type: 'application/pdf', ext: 'pdf' },\n    { type: 'application/java-archive', ext: 'jar' },\n    { type: 'application/msword', ext: 'doc' },\n    { type: 'application/vnd.ms-excel', ext: 'xls' },\n    { type: 'application/vnd.ms-excel', ext: 'xlsx' },\n    { type: 'message/rfc822', ext: 'eml' },\n];\nexport var isEmpty = function (obj) {\n    if (obj === void 0) { obj = {}; }\n    return Object.keys(obj).length === 0;\n};\nexport var sortByField = function (list, field, dir) {\n    if (!list || !list.sort) {\n        return false;\n    }\n    var dirX = dir && dir === 'desc' ? -1 : 1;\n    list.sort(function (a, b) {\n        var a_val = a[field];\n        var b_val = b[field];\n        if (typeof b_val === 'undefined') {\n            return typeof a_val === 'undefined' ? 0 : 1 * dirX;\n        }\n        if (typeof a_val === 'undefined') {\n            return -1 * dirX;\n        }\n        if (a_val < b_val) {\n            return -1 * dirX;\n        }\n        if (a_val > b_val) {\n            return 1 * dirX;\n        }\n        return 0;\n    });\n    return true;\n};\nexport var objectLessAttributes = function (obj, less) {\n    var ret = Object.assign({}, obj);\n    if (less) {\n        if (typeof less === 'string') {\n            delete ret[less];\n        }\n        else {\n            less.forEach(function (attr) {\n                delete ret[attr];\n            });\n        }\n    }\n    return ret;\n};\nexport var filenameToContentType = function (filename, defVal) {\n    if (defVal === void 0) { defVal = 'application/octet-stream'; }\n    var name = filename.toLowerCase();\n    var filtered = MIME_MAP.filter(function (mime) { return name.endsWith('.' + mime.ext); });\n    return filtered.length > 0 ? filtered[0].type : defVal;\n};\nexport var isTextFile = function (contentType) {\n    var type = contentType.toLowerCase();\n    if (type.startsWith('text/')) {\n        return true;\n    }\n    return ('application/json' === type ||\n        'application/xml' === type ||\n        'application/sh' === type);\n};\nexport var generateRandomString = function () {\n    var result = '';\n    var chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    for (var i = 32; i > 0; i -= 1) {\n        result += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return result;\n};\nexport var makeQuerablePromise = function (promise) {\n    if (promise.isResolved)\n        return promise;\n    var isPending = true;\n    var isRejected = false;\n    var isFullfilled = false;\n    var result = promise.then(function (data) {\n        isFullfilled = true;\n        isPending = false;\n        return data;\n    }, function (e) {\n        isRejected = true;\n        isPending = false;\n        throw e;\n    });\n    result.isFullfilled = function () { return isFullfilled; };\n    result.isPending = function () { return isPending; };\n    result.isRejected = function () { return isRejected; };\n    return result;\n};\nexport var browserOrNode = function () {\n    var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n    var isNode = typeof process !== 'undefined' &&\n        process.versions != null &&\n        process.versions.node != null;\n    return {\n        isBrowser: isBrowser,\n        isNode: isNode,\n    };\n};\n/**\n * transfer the first letter of the keys to lowercase\n * @param {Object} obj - the object need to be transferred\n * @param {Array} whiteListForItself - whitelist itself from being transferred\n * @param {Array} whiteListForChildren - whitelist its children keys from being transferred\n */\nexport var transferKeyToLowerCase = function (obj, whiteListForItself, whiteListForChildren) {\n    if (whiteListForItself === void 0) { whiteListForItself = []; }\n    if (whiteListForChildren === void 0) { whiteListForChildren = []; }\n    if (!isStrictObject(obj))\n        return obj;\n    var ret = {};\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            var transferedKey = whiteListForItself.includes(key)\n                ? key\n                : key[0].toLowerCase() + key.slice(1);\n            ret[transferedKey] = whiteListForChildren.includes(key)\n                ? obj[key]\n                : transferKeyToLowerCase(obj[key], whiteListForItself, whiteListForChildren);\n        }\n    }\n    return ret;\n};\n/**\n * transfer the first letter of the keys to lowercase\n * @param {Object} obj - the object need to be transferred\n * @param {Array} whiteListForItself - whitelist itself from being transferred\n * @param {Array} whiteListForChildren - whitelist its children keys from being transferred\n */\nexport var transferKeyToUpperCase = function (obj, whiteListForItself, whiteListForChildren) {\n    if (whiteListForItself === void 0) { whiteListForItself = []; }\n    if (whiteListForChildren === void 0) { whiteListForChildren = []; }\n    if (!isStrictObject(obj))\n        return obj;\n    var ret = {};\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            var transferredKey = whiteListForItself.includes(key)\n                ? key\n                : key[0].toUpperCase() + key.slice(1);\n            ret[transferredKey] = whiteListForChildren.includes(key)\n                ? obj[key]\n                : transferKeyToUpperCase(obj[key], whiteListForItself, whiteListForChildren);\n        }\n    }\n    return ret;\n};\n/**\n * Return true if the object is a strict object\n * which means it's not Array, Function, Number, String, Boolean or Null\n * @param obj the Object\n */\nexport var isStrictObject = function (obj) {\n    return (obj instanceof Object &&\n        !(obj instanceof Array) &&\n        !(obj instanceof Function) &&\n        !(obj instanceof Number) &&\n        !(obj instanceof String) &&\n        !(obj instanceof Boolean));\n};\n/**\n * @deprecated use per-function imports\n */\nvar JS = /** @class */ (function () {\n    function JS() {\n    }\n    JS.isEmpty = isEmpty;\n    JS.sortByField = sortByField;\n    JS.objectLessAttributes = objectLessAttributes;\n    JS.filenameToContentType = filenameToContentType;\n    JS.isTextFile = isTextFile;\n    JS.generateRandomString = generateRandomString;\n    JS.makeQuerablePromise = makeQuerablePromise;\n    JS.browserOrNode = browserOrNode;\n    JS.transferKeyToLowerCase = transferKeyToLowerCase;\n    JS.transferKeyToUpperCase = transferKeyToUpperCase;\n    JS.isStrictObject = isStrictObject;\n    return JS;\n}());\nexport { JS };\n/**\n * @deprecated use per-function imports\n */\nexport default JS;\n//# sourceMappingURL=JS.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SHORT_TO_HEX = {};\nvar HEX_TO_SHORT = {};\nfor (var i = 0; i < 256; i++) {\n    var encodedByte = i.toString(16).toLowerCase();\n    if (encodedByte.length === 1) {\n        encodedByte = \"0\" + encodedByte;\n    }\n    SHORT_TO_HEX[i] = encodedByte;\n    HEX_TO_SHORT[encodedByte] = i;\n}\n/**\n * Converts a hexadecimal encoded string to a Uint8Array of bytes.\n *\n * @param encoded The hexadecimal encoded string\n */\nfunction fromHex(encoded) {\n    if (encoded.length % 2 !== 0) {\n        throw new Error(\"Hex encoded strings must have an even number length\");\n    }\n    var out = new Uint8Array(encoded.length / 2);\n    for (var i = 0; i < encoded.length; i += 2) {\n        var encodedByte = encoded.substr(i, 2).toLowerCase();\n        if (encodedByte in HEX_TO_SHORT) {\n            out[i / 2] = HEX_TO_SHORT[encodedByte];\n        }\n        else {\n            throw new Error(\"Cannot decode unrecognized sequence \" + encodedByte + \" as hexadecimal\");\n        }\n    }\n    return out;\n}\nexports.fromHex = fromHex;\n/**\n * Converts a Uint8Array of binary data to a hexadecimal encoded string.\n *\n * @param bytes The binary data to encode\n */\nfunction toHex(bytes) {\n    var out = \"\";\n    for (var i = 0; i < bytes.byteLength; i++) {\n        out += SHORT_TO_HEX[bytes[i]];\n    }\n    return out;\n}\nexports.toHex = toHex;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sWUFBWSxHQUE4QixFQUFFLENBQUM7QUFDbkQsSUFBTSxZQUFZLEdBQThCLEVBQUUsQ0FBQztBQUVuRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQzVCLElBQUksV0FBVyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDL0MsSUFBSSxXQUFXLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtRQUM1QixXQUFXLEdBQUcsTUFBSSxXQUFhLENBQUM7S0FDakM7SUFFRCxZQUFZLENBQUMsQ0FBQyxDQUFDLEdBQUcsV0FBVyxDQUFDO0lBQzlCLFlBQVksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7Q0FDL0I7QUFFRDs7OztHQUlHO0FBQ0gsU0FBZ0IsT0FBTyxDQUFDLE9BQWU7SUFDckMsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDNUIsTUFBTSxJQUFJLEtBQUssQ0FBQyxxREFBcUQsQ0FBQyxDQUFDO0tBQ3hFO0lBRUQsSUFBTSxHQUFHLEdBQUcsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMvQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQzFDLElBQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3ZELElBQUksV0FBVyxJQUFJLFlBQVksRUFBRTtZQUMvQixHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFlBQVksQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUN4QzthQUFNO1lBQ0wsTUFBTSxJQUFJLEtBQUssQ0FDYix5Q0FBdUMsV0FBVyxvQkFBaUIsQ0FDcEUsQ0FBQztTQUNIO0tBQ0Y7SUFFRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUM7QUFsQkQsMEJBa0JDO0FBRUQ7Ozs7R0FJRztBQUNILFNBQWdCLEtBQUssQ0FBQyxLQUFpQjtJQUNyQyxJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDYixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN6QyxHQUFHLElBQUksWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQy9CO0lBRUQsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDO0FBUEQsc0JBT0MiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTSE9SVF9UT19IRVg6IHsgW2tleTogbnVtYmVyXTogc3RyaW5nIH0gPSB7fTtcbmNvbnN0IEhFWF9UT19TSE9SVDogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuXG5mb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gIGxldCBlbmNvZGVkQnl0ZSA9IGkudG9TdHJpbmcoMTYpLnRvTG93ZXJDYXNlKCk7XG4gIGlmIChlbmNvZGVkQnl0ZS5sZW5ndGggPT09IDEpIHtcbiAgICBlbmNvZGVkQnl0ZSA9IGAwJHtlbmNvZGVkQnl0ZX1gO1xuICB9XG5cbiAgU0hPUlRfVE9fSEVYW2ldID0gZW5jb2RlZEJ5dGU7XG4gIEhFWF9UT19TSE9SVFtlbmNvZGVkQnl0ZV0gPSBpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgaGV4YWRlY2ltYWwgZW5jb2RlZCBzdHJpbmcgdG8gYSBVaW50OEFycmF5IG9mIGJ5dGVzLlxuICpcbiAqIEBwYXJhbSBlbmNvZGVkIFRoZSBoZXhhZGVjaW1hbCBlbmNvZGVkIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUhleChlbmNvZGVkOiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgaWYgKGVuY29kZWQubGVuZ3RoICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkhleCBlbmNvZGVkIHN0cmluZ3MgbXVzdCBoYXZlIGFuIGV2ZW4gbnVtYmVyIGxlbmd0aFwiKTtcbiAgfVxuXG4gIGNvbnN0IG91dCA9IG5ldyBVaW50OEFycmF5KGVuY29kZWQubGVuZ3RoIC8gMik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZW5jb2RlZC5sZW5ndGg7IGkgKz0gMikge1xuICAgIGNvbnN0IGVuY29kZWRCeXRlID0gZW5jb2RlZC5zdWJzdHIoaSwgMikudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoZW5jb2RlZEJ5dGUgaW4gSEVYX1RPX1NIT1JUKSB7XG4gICAgICBvdXRbaSAvIDJdID0gSEVYX1RPX1NIT1JUW2VuY29kZWRCeXRlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQ2Fubm90IGRlY29kZSB1bnJlY29nbml6ZWQgc2VxdWVuY2UgJHtlbmNvZGVkQnl0ZX0gYXMgaGV4YWRlY2ltYWxgXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBVaW50OEFycmF5IG9mIGJpbmFyeSBkYXRhIHRvIGEgaGV4YWRlY2ltYWwgZW5jb2RlZCBzdHJpbmcuXG4gKlxuICogQHBhcmFtIGJ5dGVzIFRoZSBiaW5hcnkgZGF0YSB0byBlbmNvZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvSGV4KGJ5dGVzOiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgbGV0IG91dCA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMuYnl0ZUxlbmd0aDsgaSsrKSB7XG4gICAgb3V0ICs9IFNIT1JUX1RPX0hFWFtieXRlc1tpXV07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuIl19","// generated by genversion\nexport var version = '3.2.2';\n//# sourceMappingURL=version.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { version } from './version';\nvar BASE_USER_AGENT = \"aws-amplify/\" + version;\nexport var Platform = {\n    userAgent: BASE_USER_AGENT + \" js\",\n    product: '',\n    navigator: null,\n    isReactNative: false,\n};\nif (typeof navigator !== 'undefined' && navigator.product) {\n    Platform.product = navigator.product || '';\n    Platform.navigator = navigator || null;\n    switch (navigator.product) {\n        case 'ReactNative':\n            Platform.userAgent = BASE_USER_AGENT + \" react-native\";\n            Platform.isReactNative = true;\n            break;\n        default:\n            Platform.userAgent = BASE_USER_AGENT + \" js\";\n            Platform.isReactNative = false;\n            break;\n    }\n}\nexport var getAmplifyUserAgent = function () {\n    return Platform.userAgent;\n};\n/**\n * @deprecated use named import\n */\nexport default Platform;\n//# sourceMappingURL=index.js.map","/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar LOG_LEVELS = {\n    VERBOSE: 1,\n    DEBUG: 2,\n    INFO: 3,\n    WARN: 4,\n    ERROR: 5,\n};\n/**\n * Write logs\n * @class Logger\n */\nvar ConsoleLogger = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {string} name - Name of the logger\n     */\n    function ConsoleLogger(name, level) {\n        if (level === void 0) { level = 'WARN'; }\n        this.name = name;\n        this.level = level;\n    }\n    ConsoleLogger.prototype._padding = function (n) {\n        return n < 10 ? '0' + n : '' + n;\n    };\n    ConsoleLogger.prototype._ts = function () {\n        var dt = new Date();\n        return ([this._padding(dt.getMinutes()), this._padding(dt.getSeconds())].join(':') +\n            '.' +\n            dt.getMilliseconds());\n    };\n    /**\n     * Write log\n     * @method\n     * @memeberof Logger\n     * @param {string} type - log type, default INFO\n     * @param {string|object} msg - Logging message or object\n     */\n    ConsoleLogger.prototype._log = function (type) {\n        var msg = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            msg[_i - 1] = arguments[_i];\n        }\n        var logger_level_name = this.level;\n        if (ConsoleLogger.LOG_LEVEL) {\n            logger_level_name = ConsoleLogger.LOG_LEVEL;\n        }\n        if (typeof window !== 'undefined' && window.LOG_LEVEL) {\n            logger_level_name = window.LOG_LEVEL;\n        }\n        var logger_level = LOG_LEVELS[logger_level_name];\n        var type_level = LOG_LEVELS[type];\n        if (!(type_level >= logger_level)) {\n            // Do nothing if type is not greater than or equal to logger level (handle undefined)\n            return;\n        }\n        var log = console.log.bind(console);\n        if (type === 'ERROR' && console.error) {\n            log = console.error.bind(console);\n        }\n        if (type === 'WARN' && console.warn) {\n            log = console.warn.bind(console);\n        }\n        var prefix = \"[\" + type + \"] \" + this._ts() + \" \" + this.name;\n        if (msg.length === 1 && typeof msg[0] === 'string') {\n            log(prefix + \" - \" + msg[0]);\n        }\n        else if (msg.length === 1) {\n            log(prefix, msg[0]);\n        }\n        else if (typeof msg[0] === 'string') {\n            var obj = msg.slice(1);\n            if (obj.length === 1) {\n                obj = obj[0];\n            }\n            log(prefix + \" - \" + msg[0], obj);\n        }\n        else {\n            log(prefix, msg);\n        }\n    };\n    /**\n     * Write General log. Default to INFO\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    ConsoleLogger.prototype.log = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, __spread(['INFO'], msg));\n    };\n    /**\n     * Write INFO log\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    ConsoleLogger.prototype.info = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, __spread(['INFO'], msg));\n    };\n    /**\n     * Write WARN log\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    ConsoleLogger.prototype.warn = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, __spread(['WARN'], msg));\n    };\n    /**\n     * Write ERROR log\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    ConsoleLogger.prototype.error = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, __spread(['ERROR'], msg));\n    };\n    /**\n     * Write DEBUG log\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    ConsoleLogger.prototype.debug = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, __spread(['DEBUG'], msg));\n    };\n    /**\n     * Write VERBOSE log\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    ConsoleLogger.prototype.verbose = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, __spread(['VERBOSE'], msg));\n    };\n    ConsoleLogger.LOG_LEVEL = null;\n    return ConsoleLogger;\n}());\nexport { ConsoleLogger };\n//# sourceMappingURL=ConsoleLogger.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE__15__;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./httpResponse\"), exports);\ntslib_1.__exportStar(require(\"./httpRequest\"), exports);\ntslib_1.__exportStar(require(\"./isValidHostname\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEseURBQStCO0FBQy9CLHdEQUE4QjtBQUU5Qiw0REFBa0MiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tIFwiLi9odHRwUmVzcG9uc2VcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2h0dHBSZXF1ZXN0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9odHRwSGFuZGxlclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vaXNWYWxpZEhvc3RuYW1lXCI7XG4iXX0=","import { ConsoleLogger as LoggerClass } from './Logger';\nvar logger = new LoggerClass('Amplify');\nvar Amplify = /** @class */ (function () {\n    function Amplify() {\n    }\n    Amplify.register = function (comp) {\n        logger.debug('component registered in amplify', comp);\n        this._components.push(comp);\n        if (typeof comp.getModuleName === 'function') {\n            Amplify[comp.getModuleName()] = comp;\n        }\n        else {\n            logger.debug('no getModuleName method for component', comp);\n        }\n    };\n    Amplify.configure = function (config) {\n        var _this = this;\n        if (!config)\n            return this._config;\n        this._config = Object.assign(this._config, config);\n        logger.debug('amplify config', this._config);\n        this._components.map(function (comp) {\n            comp.configure(_this._config);\n        });\n        return this._config;\n    };\n    Amplify.addPluggable = function (pluggable) {\n        if (pluggable &&\n            pluggable['getCategory'] &&\n            typeof pluggable['getCategory'] === 'function') {\n            this._components.map(function (comp) {\n                if (comp['addPluggable'] &&\n                    typeof comp['addPluggable'] === 'function') {\n                    comp.addPluggable(pluggable);\n                }\n            });\n        }\n    };\n    Amplify._components = [];\n    Amplify._config = {};\n    // for backward compatibility to avoid breaking change\n    // if someone is using like Amplify.Auth\n    Amplify.Auth = null;\n    Amplify.Analytics = null;\n    Amplify.API = null;\n    Amplify.Storage = null;\n    Amplify.I18n = null;\n    Amplify.Cache = null;\n    Amplify.PubSub = null;\n    Amplify.Interactions = null;\n    Amplify.Pushnotification = null;\n    Amplify.UI = null;\n    Amplify.XR = null;\n    Amplify.Predictions = null;\n    Amplify.DataStore = null;\n    Amplify.Logger = LoggerClass;\n    Amplify.ServiceWorker = null;\n    return Amplify;\n}());\nexport { Amplify };\n/**\n * @deprecated use named import\n */\nexport default Amplify;\n//# sourceMappingURL=Amplify.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { ConsoleLogger as Logger, Signer, Platform, Credentials, } from '@aws-amplify/core';\nimport axios from 'axios';\nimport { parse, format } from 'url';\nvar logger = new Logger('RestClient');\n/**\n* HTTP Client for REST requests. Send and receive JSON data.\n* Sign request with AWS credentials if available\n* Usage:\n<pre>\nconst restClient = new RestClient();\nrestClient.get('...')\n    .then(function(data) {\n        console.log(data);\n    })\n    .catch(err => console.log(err));\n</pre>\n*/\nvar RestClient = /** @class */ (function () {\n    /**\n     * @param {RestClientOptions} [options] - Instance options\n     */\n    function RestClient(options) {\n        this._region = 'us-east-1'; // this will be updated by endpoint function\n        this._service = 'execute-api'; // this can be updated by endpoint function\n        this._custom_header = undefined; // this can be updated by endpoint function\n        var endpoints = options.endpoints;\n        this._options = options;\n        logger.debug('API Options', this._options);\n    }\n    /**\n    * Update AWS credentials\n    * @param {AWSCredentials} credentials - AWS credentials\n    *\n    updateCredentials(credentials: AWSCredentials) {\n        this.options.credentials = credentials;\n    }\n*/\n    /**\n     * Basic HTTP request. Customizable\n     * @param {string} url - Full request URL\n     * @param {string} method - Request HTTP method\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    RestClient.prototype.ajax = function (url, method, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            var parsed_url, params, libraryHeaders, userAgent, initParams, isAllResponse, custom_header, _a, _b, search, parsedUrl;\n            var _this = this;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        logger.debug(method + ' ' + url);\n                        parsed_url = this._parseUrl(url);\n                        params = {\n                            method: method,\n                            url: url,\n                            host: parsed_url.host,\n                            path: parsed_url.path,\n                            headers: {},\n                            data: null,\n                            responseType: 'json',\n                            timeout: 0,\n                        };\n                        libraryHeaders = {};\n                        if (Platform.isReactNative) {\n                            userAgent = Platform.userAgent || 'aws-amplify/0.1.x';\n                            libraryHeaders = {\n                                'User-Agent': userAgent,\n                            };\n                        }\n                        initParams = Object.assign({}, init);\n                        isAllResponse = initParams.response;\n                        if (initParams.body) {\n                            libraryHeaders['Content-Type'] = 'application/json; charset=UTF-8';\n                            params.data = JSON.stringify(initParams.body);\n                        }\n                        if (initParams.responseType) {\n                            params.responseType = initParams.responseType;\n                        }\n                        if (initParams.withCredentials) {\n                            params['withCredentials'] = initParams.withCredentials;\n                        }\n                        if (initParams.timeout) {\n                            params.timeout = initParams.timeout;\n                        }\n                        params['signerServiceInfo'] = initParams.signerServiceInfo;\n                        if (!this._custom_header) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._custom_header()];\n                    case 1:\n                        _a = _c.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        _a = undefined;\n                        _c.label = 3;\n                    case 3:\n                        custom_header = _a;\n                        params.headers = __assign(__assign(__assign({}, libraryHeaders), custom_header), initParams.headers);\n                        _b = parse(url, true, true), search = _b.search, parsedUrl = __rest(_b, [\"search\"]);\n                        params.url = format(__assign(__assign({}, parsedUrl), { query: __assign(__assign({}, parsedUrl.query), (initParams.queryStringParameters || {})) }));\n                        // Do not sign the request if client has added 'Authorization' header,\n                        // which means custom authorizer.\n                        if (typeof params.headers['Authorization'] !== 'undefined') {\n                            params.headers = Object.keys(params.headers).reduce(function (acc, k) {\n                                if (params.headers[k]) {\n                                    acc[k] = params.headers[k];\n                                }\n                                return acc;\n                                // tslint:disable-next-line:align\n                            }, {});\n                            return [2 /*return*/, this._request(params, isAllResponse)];\n                        }\n                        // Signing the request in case there credentials are available\n                        return [2 /*return*/, Credentials.get().then(function (credentials) { return _this._signed(__assign({}, params), credentials, isAllResponse); }, function (err) {\n                                logger.debug('No credentials available, the request will be unsigned');\n                                return _this._request(params, isAllResponse);\n                            })];\n                }\n            });\n        });\n    };\n    /**\n     * GET HTTP request\n     * @param {string} url - Full request URL\n     * @param {JSON} init - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    RestClient.prototype.get = function (url, init) {\n        return this.ajax(url, 'GET', init);\n    };\n    /**\n     * PUT HTTP request\n     * @param {string} url - Full request URL\n     * @param {json} init - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    RestClient.prototype.put = function (url, init) {\n        return this.ajax(url, 'PUT', init);\n    };\n    /**\n     * PATCH HTTP request\n     * @param {string} url - Full request URL\n     * @param {json} init - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    RestClient.prototype.patch = function (url, init) {\n        return this.ajax(url, 'PATCH', init);\n    };\n    /**\n     * POST HTTP request\n     * @param {string} url - Full request URL\n     * @param {json} init - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    RestClient.prototype.post = function (url, init) {\n        return this.ajax(url, 'POST', init);\n    };\n    /**\n     * DELETE HTTP request\n     * @param {string} url - Full request URL\n     * @param {json} init - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    RestClient.prototype.del = function (url, init) {\n        return this.ajax(url, 'DELETE', init);\n    };\n    /**\n     * HEAD HTTP request\n     * @param {string} url - Full request URL\n     * @param {json} init - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    RestClient.prototype.head = function (url, init) {\n        return this.ajax(url, 'HEAD', init);\n    };\n    /**\n     * Getting endpoint for API\n     * @param {string} apiName - The name of the api\n     * @return {string} - The endpoint of the api\n     */\n    RestClient.prototype.endpoint = function (apiName) {\n        var _this = this;\n        var cloud_logic_array = this._options.endpoints;\n        var response = '';\n        if (!Array.isArray(cloud_logic_array)) {\n            return response;\n        }\n        cloud_logic_array.forEach(function (v) {\n            if (v.name === apiName) {\n                response = v.endpoint;\n                if (typeof v.region === 'string') {\n                    _this._region = v.region;\n                }\n                else if (typeof _this._options.region === 'string') {\n                    _this._region = _this._options.region;\n                }\n                if (typeof v.service === 'string') {\n                    _this._service = v.service || 'execute-api';\n                }\n                else {\n                    _this._service = 'execute-api';\n                }\n                if (typeof v.custom_header === 'function') {\n                    _this._custom_header = v.custom_header;\n                }\n                else {\n                    _this._custom_header = undefined;\n                }\n            }\n        });\n        return response;\n    };\n    /** private methods **/\n    RestClient.prototype._signed = function (params, credentials, isAllResponse) {\n        var signerServiceInfoParams = params.signerServiceInfo, otherParams = __rest(params, [\"signerServiceInfo\"]);\n        var endpoint_region = this._region || this._options.region;\n        var endpoint_service = this._service || this._options.service;\n        var creds = {\n            secret_key: credentials.secretAccessKey,\n            access_key: credentials.accessKeyId,\n            session_token: credentials.sessionToken,\n        };\n        var endpointInfo = {\n            region: endpoint_region,\n            service: endpoint_service,\n        };\n        var signerServiceInfo = Object.assign(endpointInfo, signerServiceInfoParams);\n        var signed_params = Signer.sign(otherParams, creds, signerServiceInfo);\n        if (signed_params.data) {\n            signed_params.body = signed_params.data;\n        }\n        logger.debug('Signed Request: ', signed_params);\n        delete signed_params.headers['host'];\n        return axios(signed_params)\n            .then(function (response) { return (isAllResponse ? response : response.data); })\n            .catch(function (error) {\n            logger.debug(error);\n            throw error;\n        });\n    };\n    RestClient.prototype._request = function (params, isAllResponse) {\n        if (isAllResponse === void 0) { isAllResponse = false; }\n        return axios(params)\n            .then(function (response) { return (isAllResponse ? response : response.data); })\n            .catch(function (error) {\n            logger.debug(error);\n            throw error;\n        });\n    };\n    RestClient.prototype._parseUrl = function (url) {\n        var parts = url.split('/');\n        return {\n            host: parts[2],\n            path: '/' + parts.slice(3).join('/'),\n        };\n    };\n    return RestClient;\n}());\nexport { RestClient };\n//# sourceMappingURL=RestClient.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { RestClient } from './RestClient';\nimport Amplify, { ConsoleLogger as Logger } from '@aws-amplify/core';\nvar logger = new Logger('RestAPI');\n/**\n * Export Cloud Logic APIs\n */\nvar RestAPIClass = /** @class */ (function () {\n    /**\n     * Initialize Rest API with AWS configuration\n     * @param {Object} options - Configuration object for API\n     */\n    function RestAPIClass(options) {\n        this._api = null;\n        this._options = options;\n        Amplify.register(this);\n        logger.debug('API Options', this._options);\n    }\n    RestAPIClass.prototype.getModuleName = function () {\n        return 'RestAPI';\n    };\n    /**\n     * Configure API part with aws configurations\n     * @param {Object} config - Configuration of the API\n     * @return {Object} - The current configuration\n     */\n    RestAPIClass.prototype.configure = function (options) {\n        var _a = options || {}, _b = _a.API, API = _b === void 0 ? {} : _b, otherOptions = __rest(_a, [\"API\"]);\n        var opt = __assign(__assign({}, otherOptions), API);\n        logger.debug('configure Rest API', { opt: opt });\n        if (opt['aws_project_region']) {\n            if (opt['aws_cloud_logic_custom']) {\n                var custom = opt['aws_cloud_logic_custom'];\n                opt.endpoints =\n                    typeof custom === 'string' ? JSON.parse(custom) : custom;\n            }\n            opt = Object.assign({}, opt, {\n                region: opt['aws_project_region'],\n                header: {},\n            });\n        }\n        if (!Array.isArray(opt.endpoints)) {\n            opt.endpoints = [];\n        }\n        // Check if endpoints has custom_headers and validate if is a function\n        opt.endpoints.forEach(function (endpoint) {\n            if (typeof endpoint.custom_header !== 'undefined' &&\n                typeof endpoint.custom_header !== 'function') {\n                logger.warn('Rest API ' + endpoint.name + ', custom_header should be a function');\n                endpoint.custom_header = undefined;\n            }\n        });\n        this._options = Object.assign({}, this._options, opt);\n        this.createInstance();\n        return this._options;\n    };\n    /**\n     * Create an instance of API for the library\n     * @return - A promise of true if Success\n     */\n    RestAPIClass.prototype.createInstance = function () {\n        logger.debug('create Rest API instance');\n        if (this._options) {\n            this._api = new RestClient(this._options);\n            return true;\n        }\n        else {\n            return Promise.reject('API not configured');\n        }\n    };\n    /**\n     * Make a GET request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    RestAPIClass.prototype.get = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_1, endpoint;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this._api) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.createInstance()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_1 = _a.sent();\n                        return [2 /*return*/, Promise.reject(error_1)];\n                    case 4:\n                        endpoint = this._api.endpoint(apiName);\n                        if (endpoint.length === 0) {\n                            return [2 /*return*/, Promise.reject('API ' + apiName + ' does not exist')];\n                        }\n                        return [2 /*return*/, this._api.get(endpoint + path, init)];\n                }\n            });\n        });\n    };\n    /**\n     * Make a POST request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    RestAPIClass.prototype.post = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_2, endpoint;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this._api) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.createInstance()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_2 = _a.sent();\n                        return [2 /*return*/, Promise.reject(error_2)];\n                    case 4:\n                        endpoint = this._api.endpoint(apiName);\n                        if (endpoint.length === 0) {\n                            return [2 /*return*/, Promise.reject('API ' + apiName + ' does not exist')];\n                        }\n                        return [2 /*return*/, this._api.post(endpoint + path, init)];\n                }\n            });\n        });\n    };\n    /**\n     * Make a PUT request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    RestAPIClass.prototype.put = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_3, endpoint;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this._api) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.createInstance()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_3 = _a.sent();\n                        return [2 /*return*/, Promise.reject(error_3)];\n                    case 4:\n                        endpoint = this._api.endpoint(apiName);\n                        if (endpoint.length === 0) {\n                            return [2 /*return*/, Promise.reject('API ' + apiName + ' does not exist')];\n                        }\n                        return [2 /*return*/, this._api.put(endpoint + path, init)];\n                }\n            });\n        });\n    };\n    /**\n     * Make a PATCH request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    RestAPIClass.prototype.patch = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_4, endpoint;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this._api) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.createInstance()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_4 = _a.sent();\n                        return [2 /*return*/, Promise.reject(error_4)];\n                    case 4:\n                        endpoint = this._api.endpoint(apiName);\n                        if (endpoint.length === 0) {\n                            return [2 /*return*/, Promise.reject('API ' + apiName + ' does not exist')];\n                        }\n                        return [2 /*return*/, this._api.patch(endpoint + path, init)];\n                }\n            });\n        });\n    };\n    /**\n     * Make a DEL request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    RestAPIClass.prototype.del = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_5, endpoint;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this._api) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.createInstance()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_5 = _a.sent();\n                        return [2 /*return*/, Promise.reject(error_5)];\n                    case 4:\n                        endpoint = this._api.endpoint(apiName);\n                        if (endpoint.length === 0) {\n                            return [2 /*return*/, Promise.reject('API ' + apiName + ' does not exist')];\n                        }\n                        return [2 /*return*/, this._api.del(endpoint + path, init)];\n                }\n            });\n        });\n    };\n    /**\n     * Make a HEAD request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    RestAPIClass.prototype.head = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_6, endpoint;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this._api) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.createInstance()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_6 = _a.sent();\n                        return [2 /*return*/, Promise.reject(error_6)];\n                    case 4:\n                        endpoint = this._api.endpoint(apiName);\n                        if (endpoint.length === 0) {\n                            return [2 /*return*/, Promise.reject('API ' + apiName + ' does not exist')];\n                        }\n                        return [2 /*return*/, this._api.head(endpoint + path, init)];\n                }\n            });\n        });\n    };\n    /**\n     * Getting endpoint for API\n     * @param {string} apiName - The name of the api\n     * @return {string} - The endpoint of the api\n     */\n    RestAPIClass.prototype.endpoint = function (apiName) {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_7;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this._api) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.createInstance()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_7 = _a.sent();\n                        return [2 /*return*/, Promise.reject(error_7)];\n                    case 4: return [2 /*return*/, this._api.endpoint(apiName)];\n                }\n            });\n        });\n    };\n    return RestAPIClass;\n}());\nexport { RestAPIClass };\nexport var RestAPI = new RestAPIClass(null);\n//# sourceMappingURL=RestAPI.js.map","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * Represents a location in a Source.\n */\n\n/**\n * Takes a Source and a UTF-8 character offset, and returns the corresponding\n * line and column as a SourceLocation.\n */\nexport function getLocation(source, position) {\n  var lineRegexp = /\\r\\n|[\\n\\r]/g;\n  var line = 1;\n  var column = position + 1;\n  var match;\n\n  while ((match = lineRegexp.exec(source.body)) && match.index < position) {\n    line += 1;\n    column = position + 1 - (match.index + match[0].length);\n  }\n\n  return {\n    line: line,\n    column: column\n  };\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\nimport { getLocation } from '../language/location';\n\n/**\n * Prints a GraphQLError to a string, representing useful location information\n * about the error's position in the source.\n */\nexport function printError(error) {\n  var printedLocations = [];\n\n  if (error.nodes) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = error.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var node = _step.value;\n\n        if (node.loc) {\n          printedLocations.push(highlightSourceAtLocation(node.loc.source, getLocation(node.loc.source, node.loc.start)));\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else if (error.source && error.locations) {\n    var source = error.source;\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = error.locations[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var location = _step2.value;\n        printedLocations.push(highlightSourceAtLocation(source, location));\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n\n  return printedLocations.length === 0 ? error.message : [error.message].concat(printedLocations).join('\\n\\n') + '\\n';\n}\n/**\n * Render a helpful description of the location of the error in the GraphQL\n * Source document.\n */\n\nfunction highlightSourceAtLocation(source, location) {\n  var firstLineColumnOffset = source.locationOffset.column - 1;\n  var body = whitespace(firstLineColumnOffset) + source.body;\n  var lineIndex = location.line - 1;\n  var lineOffset = source.locationOffset.line - 1;\n  var lineNum = location.line + lineOffset;\n  var columnOffset = location.line === 1 ? firstLineColumnOffset : 0;\n  var columnNum = location.column + columnOffset;\n  var lines = body.split(/\\r\\n|[\\n\\r]/g);\n  return \"\".concat(source.name, \" (\").concat(lineNum, \":\").concat(columnNum, \")\\n\") + printPrefixedLines([// Lines specified like this: [\"prefix\", \"string\"],\n  [\"\".concat(lineNum - 1, \": \"), lines[lineIndex - 1]], [\"\".concat(lineNum, \": \"), lines[lineIndex]], ['', whitespace(columnNum - 1) + '^'], [\"\".concat(lineNum + 1, \": \"), lines[lineIndex + 1]]]);\n}\n\nfunction printPrefixedLines(lines) {\n  var existingLines = lines.filter(function (_ref) {\n    var _ = _ref[0],\n        line = _ref[1];\n    return line !== undefined;\n  });\n  var padLen = 0;\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = existingLines[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var _ref4 = _step3.value;\n      var prefix = _ref4[0];\n      padLen = Math.max(padLen, prefix.length);\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n        _iterator3.return();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  return existingLines.map(function (_ref3) {\n    var prefix = _ref3[0],\n        line = _ref3[1];\n    return lpad(padLen, prefix) + line;\n  }).join('\\n');\n}\n\nfunction whitespace(len) {\n  return Array(len + 1).join(' ');\n}\n\nfunction lpad(len, str) {\n  return whitespace(len - str.length) + str;\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\nimport { printError } from './printError';\nimport { getLocation } from '../language/location';\nexport function GraphQLError( // eslint-disable-line no-redeclare\nmessage, nodes, source, positions, path, originalError, extensions) {\n  // Compute list of blame nodes.\n  var _nodes = Array.isArray(nodes) ? nodes.length !== 0 ? nodes : undefined : nodes ? [nodes] : undefined; // Compute locations in the source for the given nodes/positions.\n\n\n  var _source = source;\n\n  if (!_source && _nodes) {\n    var node = _nodes[0];\n    _source = node && node.loc && node.loc.source;\n  }\n\n  var _positions = positions;\n\n  if (!_positions && _nodes) {\n    _positions = _nodes.reduce(function (list, node) {\n      if (node.loc) {\n        list.push(node.loc.start);\n      }\n\n      return list;\n    }, []);\n  }\n\n  if (_positions && _positions.length === 0) {\n    _positions = undefined;\n  }\n\n  var _locations;\n\n  if (positions && source) {\n    _locations = positions.map(function (pos) {\n      return getLocation(source, pos);\n    });\n  } else if (_nodes) {\n    _locations = _nodes.reduce(function (list, node) {\n      if (node.loc) {\n        list.push(getLocation(node.loc.source, node.loc.start));\n      }\n\n      return list;\n    }, []);\n  }\n\n  var _extensions = extensions || originalError && originalError.extensions;\n\n  Object.defineProperties(this, {\n    message: {\n      value: message,\n      // By being enumerable, JSON.stringify will include `message` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: true,\n      writable: true\n    },\n    locations: {\n      // Coercing falsey values to undefined ensures they will not be included\n      // in JSON.stringify() when not provided.\n      value: _locations || undefined,\n      // By being enumerable, JSON.stringify will include `locations` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: Boolean(_locations)\n    },\n    path: {\n      // Coercing falsey values to undefined ensures they will not be included\n      // in JSON.stringify() when not provided.\n      value: path || undefined,\n      // By being enumerable, JSON.stringify will include `path` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: Boolean(path)\n    },\n    nodes: {\n      value: _nodes || undefined\n    },\n    source: {\n      value: _source || undefined\n    },\n    positions: {\n      value: _positions || undefined\n    },\n    originalError: {\n      value: originalError\n    },\n    extensions: {\n      // Coercing falsey values to undefined ensures they will not be included\n      // in JSON.stringify() when not provided.\n      value: _extensions || undefined,\n      // By being enumerable, JSON.stringify will include `path` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: Boolean(_extensions)\n    }\n  }); // Include (non-enumerable) stack trace.\n\n  if (originalError && originalError.stack) {\n    Object.defineProperty(this, 'stack', {\n      value: originalError.stack,\n      writable: true,\n      configurable: true\n    });\n  } else if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, GraphQLError);\n  } else {\n    Object.defineProperty(this, 'stack', {\n      value: Error().stack,\n      writable: true,\n      configurable: true\n    });\n  }\n}\nGraphQLError.prototype = Object.create(Error.prototype, {\n  constructor: {\n    value: GraphQLError\n  },\n  name: {\n    value: 'GraphQLError'\n  },\n  toString: {\n    value: function toString() {\n      return printError(this);\n    }\n  }\n});","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * A visitor is provided to visit, it contains the collection of\n * relevant functions to be called during the visitor's traversal.\n */\n\n/**\n * A visitor is comprised of visit functions, which are called on each node\n * during the visitor's traversal.\n */\n\n/**\n * A KeyMap describes each the traversable properties of each kind of node.\n */\nexport var QueryDocumentKeys = {\n  Name: [],\n  Document: ['definitions'],\n  OperationDefinition: ['name', 'variableDefinitions', 'directives', 'selectionSet'],\n  VariableDefinition: ['variable', 'type', 'defaultValue', 'directives'],\n  Variable: ['name'],\n  SelectionSet: ['selections'],\n  Field: ['alias', 'name', 'arguments', 'directives', 'selectionSet'],\n  Argument: ['name', 'value'],\n  FragmentSpread: ['name', 'directives'],\n  InlineFragment: ['typeCondition', 'directives', 'selectionSet'],\n  FragmentDefinition: ['name', // Note: fragment variable definitions are experimental and may be changed\n  // or removed in the future.\n  'variableDefinitions', 'typeCondition', 'directives', 'selectionSet'],\n  IntValue: [],\n  FloatValue: [],\n  StringValue: [],\n  BooleanValue: [],\n  NullValue: [],\n  EnumValue: [],\n  ListValue: ['values'],\n  ObjectValue: ['fields'],\n  ObjectField: ['name', 'value'],\n  Directive: ['name', 'arguments'],\n  NamedType: ['name'],\n  ListType: ['type'],\n  NonNullType: ['type'],\n  SchemaDefinition: ['directives', 'operationTypes'],\n  OperationTypeDefinition: ['type'],\n  ScalarTypeDefinition: ['description', 'name', 'directives'],\n  ObjectTypeDefinition: ['description', 'name', 'interfaces', 'directives', 'fields'],\n  FieldDefinition: ['description', 'name', 'arguments', 'type', 'directives'],\n  InputValueDefinition: ['description', 'name', 'type', 'defaultValue', 'directives'],\n  InterfaceTypeDefinition: ['description', 'name', 'directives', 'fields'],\n  UnionTypeDefinition: ['description', 'name', 'directives', 'types'],\n  EnumTypeDefinition: ['description', 'name', 'directives', 'values'],\n  EnumValueDefinition: ['description', 'name', 'directives'],\n  InputObjectTypeDefinition: ['description', 'name', 'directives', 'fields'],\n  DirectiveDefinition: ['description', 'name', 'arguments', 'locations'],\n  SchemaExtension: ['directives', 'operationTypes'],\n  ScalarTypeExtension: ['name', 'directives'],\n  ObjectTypeExtension: ['name', 'interfaces', 'directives', 'fields'],\n  InterfaceTypeExtension: ['name', 'directives', 'fields'],\n  UnionTypeExtension: ['name', 'directives', 'types'],\n  EnumTypeExtension: ['name', 'directives', 'values'],\n  InputObjectTypeExtension: ['name', 'directives', 'fields']\n};\nexport var BREAK = {};\n/**\n * visit() will walk through an AST using a depth first traversal, calling\n * the visitor's enter function at each node in the traversal, and calling the\n * leave function after visiting that node and all of its child nodes.\n *\n * By returning different values from the enter and leave functions, the\n * behavior of the visitor can be altered, including skipping over a sub-tree of\n * the AST (by returning false), editing the AST by returning a value or null\n * to remove the value, or to stop the whole traversal by returning BREAK.\n *\n * When using visit() to edit an AST, the original AST will not be modified, and\n * a new version of the AST with the changes applied will be returned from the\n * visit function.\n *\n *     const editedAST = visit(ast, {\n *       enter(node, key, parent, path, ancestors) {\n *         // @return\n *         //   undefined: no action\n *         //   false: skip visiting this node\n *         //   visitor.BREAK: stop visiting altogether\n *         //   null: delete this node\n *         //   any value: replace this node with the returned value\n *       },\n *       leave(node, key, parent, path, ancestors) {\n *         // @return\n *         //   undefined: no action\n *         //   false: no action\n *         //   visitor.BREAK: stop visiting altogether\n *         //   null: delete this node\n *         //   any value: replace this node with the returned value\n *       }\n *     });\n *\n * Alternatively to providing enter() and leave() functions, a visitor can\n * instead provide functions named the same as the kinds of AST nodes, or\n * enter/leave visitors at a named key, leading to four permutations of\n * visitor API:\n *\n * 1) Named visitors triggered when entering a node a specific kind.\n *\n *     visit(ast, {\n *       Kind(node) {\n *         // enter the \"Kind\" node\n *       }\n *     })\n *\n * 2) Named visitors that trigger upon entering and leaving a node of\n *    a specific kind.\n *\n *     visit(ast, {\n *       Kind: {\n *         enter(node) {\n *           // enter the \"Kind\" node\n *         }\n *         leave(node) {\n *           // leave the \"Kind\" node\n *         }\n *       }\n *     })\n *\n * 3) Generic visitors that trigger upon entering and leaving any node.\n *\n *     visit(ast, {\n *       enter(node) {\n *         // enter any node\n *       },\n *       leave(node) {\n *         // leave any node\n *       }\n *     })\n *\n * 4) Parallel visitors for entering and leaving nodes of a specific kind.\n *\n *     visit(ast, {\n *       enter: {\n *         Kind(node) {\n *           // enter the \"Kind\" node\n *         }\n *       },\n *       leave: {\n *         Kind(node) {\n *           // leave the \"Kind\" node\n *         }\n *       }\n *     })\n */\n\nexport function visit(root, visitor) {\n  var visitorKeys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : QueryDocumentKeys;\n\n  /* eslint-disable no-undef-init */\n  var stack = undefined;\n  var inArray = Array.isArray(root);\n  var keys = [root];\n  var index = -1;\n  var edits = [];\n  var node = undefined;\n  var key = undefined;\n  var parent = undefined;\n  var path = [];\n  var ancestors = [];\n  var newRoot = root;\n  /* eslint-enable no-undef-init */\n\n  do {\n    index++;\n    var isLeaving = index === keys.length;\n    var isEdited = isLeaving && edits.length !== 0;\n\n    if (isLeaving) {\n      key = ancestors.length === 0 ? undefined : path[path.length - 1];\n      node = parent;\n      parent = ancestors.pop();\n\n      if (isEdited) {\n        if (inArray) {\n          node = node.slice();\n        } else {\n          var clone = {};\n\n          for (var k in node) {\n            if (node.hasOwnProperty(k)) {\n              clone[k] = node[k];\n            }\n          }\n\n          node = clone;\n        }\n\n        var editOffset = 0;\n\n        for (var ii = 0; ii < edits.length; ii++) {\n          var editKey = edits[ii][0];\n          var editValue = edits[ii][1];\n\n          if (inArray) {\n            editKey -= editOffset;\n          }\n\n          if (inArray && editValue === null) {\n            node.splice(editKey, 1);\n            editOffset++;\n          } else {\n            node[editKey] = editValue;\n          }\n        }\n      }\n\n      index = stack.index;\n      keys = stack.keys;\n      edits = stack.edits;\n      inArray = stack.inArray;\n      stack = stack.prev;\n    } else {\n      key = parent ? inArray ? index : keys[index] : undefined;\n      node = parent ? parent[key] : newRoot;\n\n      if (node === null || node === undefined) {\n        continue;\n      }\n\n      if (parent) {\n        path.push(key);\n      }\n    }\n\n    var result = void 0;\n\n    if (!Array.isArray(node)) {\n      if (!isNode(node)) {\n        throw new Error('Invalid AST Node: ' + JSON.stringify(node));\n      }\n\n      var visitFn = getVisitFn(visitor, node.kind, isLeaving);\n\n      if (visitFn) {\n        result = visitFn.call(visitor, node, key, parent, path, ancestors);\n\n        if (result === BREAK) {\n          break;\n        }\n\n        if (result === false) {\n          if (!isLeaving) {\n            path.pop();\n            continue;\n          }\n        } else if (result !== undefined) {\n          edits.push([key, result]);\n\n          if (!isLeaving) {\n            if (isNode(result)) {\n              node = result;\n            } else {\n              path.pop();\n              continue;\n            }\n          }\n        }\n      }\n    }\n\n    if (result === undefined && isEdited) {\n      edits.push([key, node]);\n    }\n\n    if (isLeaving) {\n      path.pop();\n    } else {\n      stack = {\n        inArray: inArray,\n        index: index,\n        keys: keys,\n        edits: edits,\n        prev: stack\n      };\n      inArray = Array.isArray(node);\n      keys = inArray ? node : visitorKeys[node.kind] || [];\n      index = -1;\n      edits = [];\n\n      if (parent) {\n        ancestors.push(parent);\n      }\n\n      parent = node;\n    }\n  } while (stack !== undefined);\n\n  if (edits.length !== 0) {\n    newRoot = edits[edits.length - 1][1];\n  }\n\n  return newRoot;\n}\n\nfunction isNode(maybeNode) {\n  return Boolean(maybeNode && typeof maybeNode.kind === 'string');\n}\n/**\n * Creates a new visitor instance which delegates to many visitors to run in\n * parallel. Each visitor will be visited for each node before moving on.\n *\n * If a prior visitor edits a node, no following visitors will see that node.\n */\n\n\nexport function visitInParallel(visitors) {\n  var skipping = new Array(visitors.length);\n  return {\n    enter: function enter(node) {\n      for (var i = 0; i < visitors.length; i++) {\n        if (!skipping[i]) {\n          var fn = getVisitFn(visitors[i], node.kind,\n          /* isLeaving */\n          false);\n\n          if (fn) {\n            var result = fn.apply(visitors[i], arguments);\n\n            if (result === false) {\n              skipping[i] = node;\n            } else if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined) {\n              return result;\n            }\n          }\n        }\n      }\n    },\n    leave: function leave(node) {\n      for (var i = 0; i < visitors.length; i++) {\n        if (!skipping[i]) {\n          var fn = getVisitFn(visitors[i], node.kind,\n          /* isLeaving */\n          true);\n\n          if (fn) {\n            var result = fn.apply(visitors[i], arguments);\n\n            if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined && result !== false) {\n              return result;\n            }\n          }\n        } else if (skipping[i] === node) {\n          skipping[i] = null;\n        }\n      }\n    }\n  };\n}\n/**\n * Creates a new visitor instance which maintains a provided TypeInfo instance\n * along with visiting visitor.\n */\n\nexport function visitWithTypeInfo(typeInfo, visitor) {\n  return {\n    enter: function enter(node) {\n      typeInfo.enter(node);\n      var fn = getVisitFn(visitor, node.kind,\n      /* isLeaving */\n      false);\n\n      if (fn) {\n        var result = fn.apply(visitor, arguments);\n\n        if (result !== undefined) {\n          typeInfo.leave(node);\n\n          if (isNode(result)) {\n            typeInfo.enter(result);\n          }\n        }\n\n        return result;\n      }\n    },\n    leave: function leave(node) {\n      var fn = getVisitFn(visitor, node.kind,\n      /* isLeaving */\n      true);\n      var result;\n\n      if (fn) {\n        result = fn.apply(visitor, arguments);\n      }\n\n      typeInfo.leave(node);\n      return result;\n    }\n  };\n}\n/**\n * Given a visitor instance, if it is leaving or not, and a node kind, return\n * the function the visitor runtime should call.\n */\n\nexport function getVisitFn(visitor, kind, isLeaving) {\n  var kindVisitor = visitor[kind];\n\n  if (kindVisitor) {\n    if (!isLeaving && typeof kindVisitor === 'function') {\n      // { Kind() {} }\n      return kindVisitor;\n    }\n\n    var kindSpecificVisitor = isLeaving ? kindVisitor.leave : kindVisitor.enter;\n\n    if (typeof kindSpecificVisitor === 'function') {\n      // { Kind: { enter() {}, leave() {} } }\n      return kindSpecificVisitor;\n    }\n  } else {\n    var specificVisitor = isLeaving ? visitor.leave : visitor.enter;\n\n    if (specificVisitor) {\n      if (typeof specificVisitor === 'function') {\n        // { enter() {}, leave() {} }\n        return specificVisitor;\n      }\n\n      var specificKindVisitor = specificVisitor[kind];\n\n      if (typeof specificKindVisitor === 'function') {\n        // { enter: { Kind() {} }, leave: { Kind() {} } }\n        return specificKindVisitor;\n      }\n    }\n  }\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { visit } from './visitor';\n/**\n * Converts an AST into a string, using one set of reasonable\n * formatting rules.\n */\n\nexport function print(ast) {\n  return visit(ast, {\n    leave: printDocASTReducer\n  });\n}\nvar printDocASTReducer = {\n  Name: function Name(node) {\n    return node.value;\n  },\n  Variable: function Variable(node) {\n    return '$' + node.name;\n  },\n  // Document\n  Document: function Document(node) {\n    return join(node.definitions, '\\n\\n') + '\\n';\n  },\n  OperationDefinition: function OperationDefinition(node) {\n    var op = node.operation;\n    var name = node.name;\n    var varDefs = wrap('(', join(node.variableDefinitions, ', '), ')');\n    var directives = join(node.directives, ' ');\n    var selectionSet = node.selectionSet; // Anonymous queries with no directives or variable definitions can use\n    // the query short form.\n\n    return !name && !directives && !varDefs && op === 'query' ? selectionSet : join([op, join([name, varDefs]), directives, selectionSet], ' ');\n  },\n  VariableDefinition: function VariableDefinition(_ref) {\n    var variable = _ref.variable,\n        type = _ref.type,\n        defaultValue = _ref.defaultValue,\n        directives = _ref.directives;\n    return variable + ': ' + type + wrap(' = ', defaultValue) + wrap(' ', join(directives, ' '));\n  },\n  SelectionSet: function SelectionSet(_ref2) {\n    var selections = _ref2.selections;\n    return block(selections);\n  },\n  Field: function Field(_ref3) {\n    var alias = _ref3.alias,\n        name = _ref3.name,\n        args = _ref3.arguments,\n        directives = _ref3.directives,\n        selectionSet = _ref3.selectionSet;\n    return join([wrap('', alias, ': ') + name + wrap('(', join(args, ', '), ')'), join(directives, ' '), selectionSet], ' ');\n  },\n  Argument: function Argument(_ref4) {\n    var name = _ref4.name,\n        value = _ref4.value;\n    return name + ': ' + value;\n  },\n  // Fragments\n  FragmentSpread: function FragmentSpread(_ref5) {\n    var name = _ref5.name,\n        directives = _ref5.directives;\n    return '...' + name + wrap(' ', join(directives, ' '));\n  },\n  InlineFragment: function InlineFragment(_ref6) {\n    var typeCondition = _ref6.typeCondition,\n        directives = _ref6.directives,\n        selectionSet = _ref6.selectionSet;\n    return join(['...', wrap('on ', typeCondition), join(directives, ' '), selectionSet], ' ');\n  },\n  FragmentDefinition: function FragmentDefinition(_ref7) {\n    var name = _ref7.name,\n        typeCondition = _ref7.typeCondition,\n        variableDefinitions = _ref7.variableDefinitions,\n        directives = _ref7.directives,\n        selectionSet = _ref7.selectionSet;\n    return (// Note: fragment variable definitions are experimental and may be changed\n      // or removed in the future.\n      \"fragment \".concat(name).concat(wrap('(', join(variableDefinitions, ', '), ')'), \" \") + \"on \".concat(typeCondition, \" \").concat(wrap('', join(directives, ' '), ' ')) + selectionSet\n    );\n  },\n  // Value\n  IntValue: function IntValue(_ref8) {\n    var value = _ref8.value;\n    return value;\n  },\n  FloatValue: function FloatValue(_ref9) {\n    var value = _ref9.value;\n    return value;\n  },\n  StringValue: function StringValue(_ref10, key) {\n    var value = _ref10.value,\n        isBlockString = _ref10.block;\n    return isBlockString ? printBlockString(value, key === 'description') : JSON.stringify(value);\n  },\n  BooleanValue: function BooleanValue(_ref11) {\n    var value = _ref11.value;\n    return value ? 'true' : 'false';\n  },\n  NullValue: function NullValue() {\n    return 'null';\n  },\n  EnumValue: function EnumValue(_ref12) {\n    var value = _ref12.value;\n    return value;\n  },\n  ListValue: function ListValue(_ref13) {\n    var values = _ref13.values;\n    return '[' + join(values, ', ') + ']';\n  },\n  ObjectValue: function ObjectValue(_ref14) {\n    var fields = _ref14.fields;\n    return '{' + join(fields, ', ') + '}';\n  },\n  ObjectField: function ObjectField(_ref15) {\n    var name = _ref15.name,\n        value = _ref15.value;\n    return name + ': ' + value;\n  },\n  // Directive\n  Directive: function Directive(_ref16) {\n    var name = _ref16.name,\n        args = _ref16.arguments;\n    return '@' + name + wrap('(', join(args, ', '), ')');\n  },\n  // Type\n  NamedType: function NamedType(_ref17) {\n    var name = _ref17.name;\n    return name;\n  },\n  ListType: function ListType(_ref18) {\n    var type = _ref18.type;\n    return '[' + type + ']';\n  },\n  NonNullType: function NonNullType(_ref19) {\n    var type = _ref19.type;\n    return type + '!';\n  },\n  // Type System Definitions\n  SchemaDefinition: function SchemaDefinition(_ref20) {\n    var directives = _ref20.directives,\n        operationTypes = _ref20.operationTypes;\n    return join(['schema', join(directives, ' '), block(operationTypes)], ' ');\n  },\n  OperationTypeDefinition: function OperationTypeDefinition(_ref21) {\n    var operation = _ref21.operation,\n        type = _ref21.type;\n    return operation + ': ' + type;\n  },\n  ScalarTypeDefinition: addDescription(function (_ref22) {\n    var name = _ref22.name,\n        directives = _ref22.directives;\n    return join(['scalar', name, join(directives, ' ')], ' ');\n  }),\n  ObjectTypeDefinition: addDescription(function (_ref23) {\n    var name = _ref23.name,\n        interfaces = _ref23.interfaces,\n        directives = _ref23.directives,\n        fields = _ref23.fields;\n    return join(['type', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  }),\n  FieldDefinition: addDescription(function (_ref24) {\n    var name = _ref24.name,\n        args = _ref24.arguments,\n        type = _ref24.type,\n        directives = _ref24.directives;\n    return name + (args.every(function (arg) {\n      return arg.indexOf('\\n') === -1;\n    }) ? wrap('(', join(args, ', '), ')') : wrap('(\\n', indent(join(args, '\\n')), '\\n)')) + ': ' + type + wrap(' ', join(directives, ' '));\n  }),\n  InputValueDefinition: addDescription(function (_ref25) {\n    var name = _ref25.name,\n        type = _ref25.type,\n        defaultValue = _ref25.defaultValue,\n        directives = _ref25.directives;\n    return join([name + ': ' + type, wrap('= ', defaultValue), join(directives, ' ')], ' ');\n  }),\n  InterfaceTypeDefinition: addDescription(function (_ref26) {\n    var name = _ref26.name,\n        directives = _ref26.directives,\n        fields = _ref26.fields;\n    return join(['interface', name, join(directives, ' '), block(fields)], ' ');\n  }),\n  UnionTypeDefinition: addDescription(function (_ref27) {\n    var name = _ref27.name,\n        directives = _ref27.directives,\n        types = _ref27.types;\n    return join(['union', name, join(directives, ' '), types && types.length !== 0 ? '= ' + join(types, ' | ') : ''], ' ');\n  }),\n  EnumTypeDefinition: addDescription(function (_ref28) {\n    var name = _ref28.name,\n        directives = _ref28.directives,\n        values = _ref28.values;\n    return join(['enum', name, join(directives, ' '), block(values)], ' ');\n  }),\n  EnumValueDefinition: addDescription(function (_ref29) {\n    var name = _ref29.name,\n        directives = _ref29.directives;\n    return join([name, join(directives, ' ')], ' ');\n  }),\n  InputObjectTypeDefinition: addDescription(function (_ref30) {\n    var name = _ref30.name,\n        directives = _ref30.directives,\n        fields = _ref30.fields;\n    return join(['input', name, join(directives, ' '), block(fields)], ' ');\n  }),\n  DirectiveDefinition: addDescription(function (_ref31) {\n    var name = _ref31.name,\n        args = _ref31.arguments,\n        locations = _ref31.locations;\n    return 'directive @' + name + (args.every(function (arg) {\n      return arg.indexOf('\\n') === -1;\n    }) ? wrap('(', join(args, ', '), ')') : wrap('(\\n', indent(join(args, '\\n')), '\\n)')) + ' on ' + join(locations, ' | ');\n  }),\n  SchemaExtension: function SchemaExtension(_ref32) {\n    var directives = _ref32.directives,\n        operationTypes = _ref32.operationTypes;\n    return join(['extend schema', join(directives, ' '), block(operationTypes)], ' ');\n  },\n  ScalarTypeExtension: function ScalarTypeExtension(_ref33) {\n    var name = _ref33.name,\n        directives = _ref33.directives;\n    return join(['extend scalar', name, join(directives, ' ')], ' ');\n  },\n  ObjectTypeExtension: function ObjectTypeExtension(_ref34) {\n    var name = _ref34.name,\n        interfaces = _ref34.interfaces,\n        directives = _ref34.directives,\n        fields = _ref34.fields;\n    return join(['extend type', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  },\n  InterfaceTypeExtension: function InterfaceTypeExtension(_ref35) {\n    var name = _ref35.name,\n        directives = _ref35.directives,\n        fields = _ref35.fields;\n    return join(['extend interface', name, join(directives, ' '), block(fields)], ' ');\n  },\n  UnionTypeExtension: function UnionTypeExtension(_ref36) {\n    var name = _ref36.name,\n        directives = _ref36.directives,\n        types = _ref36.types;\n    return join(['extend union', name, join(directives, ' '), types && types.length !== 0 ? '= ' + join(types, ' | ') : ''], ' ');\n  },\n  EnumTypeExtension: function EnumTypeExtension(_ref37) {\n    var name = _ref37.name,\n        directives = _ref37.directives,\n        values = _ref37.values;\n    return join(['extend enum', name, join(directives, ' '), block(values)], ' ');\n  },\n  InputObjectTypeExtension: function InputObjectTypeExtension(_ref38) {\n    var name = _ref38.name,\n        directives = _ref38.directives,\n        fields = _ref38.fields;\n    return join(['extend input', name, join(directives, ' '), block(fields)], ' ');\n  }\n};\n\nfunction addDescription(cb) {\n  return function (node) {\n    return join([node.description, cb(node)], '\\n');\n  };\n}\n/**\n * Given maybeArray, print an empty string if it is null or empty, otherwise\n * print all items together separated by separator if provided\n */\n\n\nfunction join(maybeArray, separator) {\n  return maybeArray ? maybeArray.filter(function (x) {\n    return x;\n  }).join(separator || '') : '';\n}\n/**\n * Given array, print each item on its own line, wrapped in an\n * indented \"{ }\" block.\n */\n\n\nfunction block(array) {\n  return array && array.length !== 0 ? '{\\n' + indent(join(array, '\\n')) + '\\n}' : '';\n}\n/**\n * If maybeString is not null or empty, then wrap with start and end, otherwise\n * print an empty string.\n */\n\n\nfunction wrap(start, maybeString, end) {\n  return maybeString ? start + maybeString + (end || '') : '';\n}\n\nfunction indent(maybeString) {\n  return maybeString && '  ' + maybeString.replace(/\\n/g, '\\n  ');\n}\n/**\n * Print a block string in the indented block form by adding a leading and\n * trailing blank line. However, if a block string starts with whitespace and is\n * a single-line, adding a leading blank line would strip that whitespace.\n */\n\n\nfunction printBlockString(value, isDescription) {\n  var escaped = value.replace(/\"\"\"/g, '\\\\\"\"\"');\n  return (value[0] === ' ' || value[0] === '\\t') && value.indexOf('\\n') === -1 ? \"\\\"\\\"\\\"\".concat(escaped.replace(/\"$/, '\"\\n'), \"\\\"\\\"\\\"\") : \"\\\"\\\"\\\"\\n\".concat(isDescription ? escaped : indent(escaped), \"\\n\\\"\\\"\\\"\");\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * Used to print values in error messages.\n */\nexport default function inspect(value) {\n  return value && _typeof(value) === 'object' ? typeof value.inspect === 'function' ? value.inspect() : Array.isArray(value) ? '[' + value.map(inspect).join(', ') + ']' : '{' + Object.keys(value).map(function (k) {\n    return \"\".concat(k, \": \").concat(inspect(value[k]));\n  }).join(', ') + '}' : typeof value === 'string' ? '\"' + value + '\"' : typeof value === 'function' ? \"[function \".concat(value.name, \"]\") : String(value);\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\nexport default function invariant(condition, message) {\n  /* istanbul ignore else */\n  if (!condition) {\n    throw new Error(message);\n  }\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\nimport invariant from '../jsutils/invariant';\nimport defineToStringTag from '../jsutils/defineToStringTag';\n\n/**\n * A representation of source input to GraphQL.\n * `name` and `locationOffset` are optional. They are useful for clients who\n * store GraphQL documents in source files; for example, if the GraphQL input\n * starts at line 40 in a file named Foo.graphql, it might be useful for name to\n * be \"Foo.graphql\" and location to be `{ line: 40, column: 0 }`.\n * line and column in locationOffset are 1-indexed\n */\nexport var Source = function Source(body, name, locationOffset) {\n  _defineProperty(this, \"body\", void 0);\n\n  _defineProperty(this, \"name\", void 0);\n\n  _defineProperty(this, \"locationOffset\", void 0);\n\n  this.body = body;\n  this.name = name || 'GraphQL request';\n  this.locationOffset = locationOffset || {\n    line: 1,\n    column: 1\n  };\n  !(this.locationOffset.line > 0) ? invariant(0, 'line in locationOffset is 1-indexed and must be positive') : void 0;\n  !(this.locationOffset.column > 0) ? invariant(0, 'column in locationOffset is 1-indexed and must be positive') : void 0;\n}; // Conditionally apply `[Symbol.toStringTag]` if `Symbol`s are supported\n\ndefineToStringTag(Source);","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * The `applyToStringTag()` function checks first to see if the runtime\n * supports the `Symbol` class and then if the `Symbol.toStringTag` constant\n * is defined as a `Symbol` instance. If both conditions are met, the\n * Symbol.toStringTag property is defined as a getter that returns the\n * supplied class constructor's name.\n *\n * @method applyToStringTag\n *\n * @param {Class<any>} classObject a class such as Object, String, Number but\n * typically one of your own creation through the class keyword; `class A {}`,\n * for example.\n */\nexport default function applyToStringTag(classObject) {\n  if (typeof Symbol === 'function' && Symbol.toStringTag) {\n    Object.defineProperty(classObject.prototype, Symbol.toStringTag, {\n      get: function get() {\n        return this.constructor.name;\n      }\n    });\n  }\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\nimport { GraphQLError } from './GraphQLError';\n/**\n * Produces a GraphQLError representing a syntax error, containing useful\n * descriptive information about the syntax error's position in the source.\n */\n\nexport function syntaxError(source, position, description) {\n  return new GraphQLError(\"Syntax Error: \".concat(description), undefined, source, [position]);\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * Produces the value of a block string from its parsed raw value, similar to\n * Coffeescript's block string, Python's docstring trim or Ruby's strip_heredoc.\n *\n * This implements the GraphQL spec's BlockStringValue() static algorithm.\n */\nexport default function blockStringValue(rawString) {\n  // Expand a block string's raw value into independent lines.\n  var lines = rawString.split(/\\r\\n|[\\n\\r]/g); // Remove common indentation from all lines but first.\n\n  var commonIndent = null;\n\n  for (var i = 1; i < lines.length; i++) {\n    var line = lines[i];\n    var indent = leadingWhitespace(line);\n\n    if (indent < line.length && (commonIndent === null || indent < commonIndent)) {\n      commonIndent = indent;\n\n      if (commonIndent === 0) {\n        break;\n      }\n    }\n  }\n\n  if (commonIndent) {\n    for (var _i = 1; _i < lines.length; _i++) {\n      lines[_i] = lines[_i].slice(commonIndent);\n    }\n  } // Remove leading and trailing blank lines.\n\n\n  while (lines.length > 0 && isBlank(lines[0])) {\n    lines.shift();\n  }\n\n  while (lines.length > 0 && isBlank(lines[lines.length - 1])) {\n    lines.pop();\n  } // Return a string of the lines joined with U+000A.\n\n\n  return lines.join('\\n');\n}\n\nfunction leadingWhitespace(str) {\n  var i = 0;\n\n  while (i < str.length && (str[i] === ' ' || str[i] === '\\t')) {\n    i++;\n  }\n\n  return i;\n}\n\nfunction isBlank(str) {\n  return leadingWhitespace(str) === str.length;\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\nimport { syntaxError } from '../error';\nimport blockStringValue from './blockStringValue';\n/**\n * Given a Source object, this returns a Lexer for that source.\n * A Lexer is a stateful stream generator in that every time\n * it is advanced, it returns the next token in the Source. Assuming the\n * source lexes, the final Token emitted by the lexer will be of kind\n * EOF, after which the lexer will repeatedly return the same EOF token\n * whenever called.\n */\n\nexport function createLexer(source, options) {\n  var startOfFileToken = new Tok(TokenKind.SOF, 0, 0, 0, 0, null);\n  var lexer = {\n    source: source,\n    options: options,\n    lastToken: startOfFileToken,\n    token: startOfFileToken,\n    line: 1,\n    lineStart: 0,\n    advance: advanceLexer,\n    lookahead: lookahead\n  };\n  return lexer;\n}\n\nfunction advanceLexer() {\n  this.lastToken = this.token;\n  var token = this.token = this.lookahead();\n  return token;\n}\n\nfunction lookahead() {\n  var token = this.token;\n\n  if (token.kind !== TokenKind.EOF) {\n    do {\n      // Note: next is only mutable during parsing, so we cast to allow this.\n      token = token.next || (token.next = readToken(this, token));\n    } while (token.kind === TokenKind.COMMENT);\n  }\n\n  return token;\n}\n/**\n * The return type of createLexer.\n */\n\n\n/**\n * An exported enum describing the different kinds of tokens that the\n * lexer emits.\n */\nexport var TokenKind = Object.freeze({\n  SOF: '<SOF>',\n  EOF: '<EOF>',\n  BANG: '!',\n  DOLLAR: '$',\n  AMP: '&',\n  PAREN_L: '(',\n  PAREN_R: ')',\n  SPREAD: '...',\n  COLON: ':',\n  EQUALS: '=',\n  AT: '@',\n  BRACKET_L: '[',\n  BRACKET_R: ']',\n  BRACE_L: '{',\n  PIPE: '|',\n  BRACE_R: '}',\n  NAME: 'Name',\n  INT: 'Int',\n  FLOAT: 'Float',\n  STRING: 'String',\n  BLOCK_STRING: 'BlockString',\n  COMMENT: 'Comment'\n});\n/**\n * The enum type representing the token kinds values.\n */\n\n/**\n * A helper function to describe a token as a string for debugging\n */\nexport function getTokenDesc(token) {\n  var value = token.value;\n  return value ? \"\".concat(token.kind, \" \\\"\").concat(value, \"\\\"\") : token.kind;\n}\nvar charCodeAt = String.prototype.charCodeAt;\nvar slice = String.prototype.slice;\n/**\n * Helper function for constructing the Token object.\n */\n\nfunction Tok(kind, start, end, line, column, prev, value) {\n  this.kind = kind;\n  this.start = start;\n  this.end = end;\n  this.line = line;\n  this.column = column;\n  this.value = value;\n  this.prev = prev;\n  this.next = null;\n} // Print a simplified form when appearing in JSON/util.inspect.\n\n\nTok.prototype.toJSON = Tok.prototype.inspect = function toJSON() {\n  return {\n    kind: this.kind,\n    value: this.value,\n    line: this.line,\n    column: this.column\n  };\n};\n\nfunction printCharCode(code) {\n  return (// NaN/undefined represents access beyond the end of the file.\n    isNaN(code) ? TokenKind.EOF : // Trust JSON for ASCII.\n    code < 0x007f ? JSON.stringify(String.fromCharCode(code)) : // Otherwise print the escaped form.\n    \"\\\"\\\\u\".concat(('00' + code.toString(16).toUpperCase()).slice(-4), \"\\\"\")\n  );\n}\n/**\n * Gets the next token from the source starting at the given position.\n *\n * This skips over whitespace and comments until it finds the next lexable\n * token, then lexes punctuators immediately or calls the appropriate helper\n * function for more complicated tokens.\n */\n\n\nfunction readToken(lexer, prev) {\n  var source = lexer.source;\n  var body = source.body;\n  var bodyLength = body.length;\n  var pos = positionAfterWhitespace(body, prev.end, lexer);\n  var line = lexer.line;\n  var col = 1 + pos - lexer.lineStart;\n\n  if (pos >= bodyLength) {\n    return new Tok(TokenKind.EOF, bodyLength, bodyLength, line, col, prev);\n  }\n\n  var code = charCodeAt.call(body, pos); // SourceCharacter\n\n  switch (code) {\n    // !\n    case 33:\n      return new Tok(TokenKind.BANG, pos, pos + 1, line, col, prev);\n    // #\n\n    case 35:\n      return readComment(source, pos, line, col, prev);\n    // $\n\n    case 36:\n      return new Tok(TokenKind.DOLLAR, pos, pos + 1, line, col, prev);\n    // &\n\n    case 38:\n      return new Tok(TokenKind.AMP, pos, pos + 1, line, col, prev);\n    // (\n\n    case 40:\n      return new Tok(TokenKind.PAREN_L, pos, pos + 1, line, col, prev);\n    // )\n\n    case 41:\n      return new Tok(TokenKind.PAREN_R, pos, pos + 1, line, col, prev);\n    // .\n\n    case 46:\n      if (charCodeAt.call(body, pos + 1) === 46 && charCodeAt.call(body, pos + 2) === 46) {\n        return new Tok(TokenKind.SPREAD, pos, pos + 3, line, col, prev);\n      }\n\n      break;\n    // :\n\n    case 58:\n      return new Tok(TokenKind.COLON, pos, pos + 1, line, col, prev);\n    // =\n\n    case 61:\n      return new Tok(TokenKind.EQUALS, pos, pos + 1, line, col, prev);\n    // @\n\n    case 64:\n      return new Tok(TokenKind.AT, pos, pos + 1, line, col, prev);\n    // [\n\n    case 91:\n      return new Tok(TokenKind.BRACKET_L, pos, pos + 1, line, col, prev);\n    // ]\n\n    case 93:\n      return new Tok(TokenKind.BRACKET_R, pos, pos + 1, line, col, prev);\n    // {\n\n    case 123:\n      return new Tok(TokenKind.BRACE_L, pos, pos + 1, line, col, prev);\n    // |\n\n    case 124:\n      return new Tok(TokenKind.PIPE, pos, pos + 1, line, col, prev);\n    // }\n\n    case 125:\n      return new Tok(TokenKind.BRACE_R, pos, pos + 1, line, col, prev);\n    // A-Z _ a-z\n\n    case 65:\n    case 66:\n    case 67:\n    case 68:\n    case 69:\n    case 70:\n    case 71:\n    case 72:\n    case 73:\n    case 74:\n    case 75:\n    case 76:\n    case 77:\n    case 78:\n    case 79:\n    case 80:\n    case 81:\n    case 82:\n    case 83:\n    case 84:\n    case 85:\n    case 86:\n    case 87:\n    case 88:\n    case 89:\n    case 90:\n    case 95:\n    case 97:\n    case 98:\n    case 99:\n    case 100:\n    case 101:\n    case 102:\n    case 103:\n    case 104:\n    case 105:\n    case 106:\n    case 107:\n    case 108:\n    case 109:\n    case 110:\n    case 111:\n    case 112:\n    case 113:\n    case 114:\n    case 115:\n    case 116:\n    case 117:\n    case 118:\n    case 119:\n    case 120:\n    case 121:\n    case 122:\n      return readName(source, pos, line, col, prev);\n    // - 0-9\n\n    case 45:\n    case 48:\n    case 49:\n    case 50:\n    case 51:\n    case 52:\n    case 53:\n    case 54:\n    case 55:\n    case 56:\n    case 57:\n      return readNumber(source, pos, code, line, col, prev);\n    // \"\n\n    case 34:\n      if (charCodeAt.call(body, pos + 1) === 34 && charCodeAt.call(body, pos + 2) === 34) {\n        return readBlockString(source, pos, line, col, prev);\n      }\n\n      return readString(source, pos, line, col, prev);\n  }\n\n  throw syntaxError(source, pos, unexpectedCharacterMessage(code));\n}\n/**\n * Report a message that an unexpected character was encountered.\n */\n\n\nfunction unexpectedCharacterMessage(code) {\n  if (code < 0x0020 && code !== 0x0009 && code !== 0x000a && code !== 0x000d) {\n    return \"Cannot contain the invalid character \".concat(printCharCode(code), \".\");\n  }\n\n  if (code === 39) {\n    // '\n    return \"Unexpected single quote character ('), did you mean to use \" + 'a double quote (\")?';\n  }\n\n  return \"Cannot parse the unexpected character \".concat(printCharCode(code), \".\");\n}\n/**\n * Reads from body starting at startPosition until it finds a non-whitespace\n * or commented character, then returns the position of that character for\n * lexing.\n */\n\n\nfunction positionAfterWhitespace(body, startPosition, lexer) {\n  var bodyLength = body.length;\n  var position = startPosition;\n\n  while (position < bodyLength) {\n    var code = charCodeAt.call(body, position); // tab | space | comma | BOM\n\n    if (code === 9 || code === 32 || code === 44 || code === 0xfeff) {\n      ++position;\n    } else if (code === 10) {\n      // new line\n      ++position;\n      ++lexer.line;\n      lexer.lineStart = position;\n    } else if (code === 13) {\n      // carriage return\n      if (charCodeAt.call(body, position + 1) === 10) {\n        position += 2;\n      } else {\n        ++position;\n      }\n\n      ++lexer.line;\n      lexer.lineStart = position;\n    } else {\n      break;\n    }\n  }\n\n  return position;\n}\n/**\n * Reads a comment token from the source file.\n *\n * #[\\u0009\\u0020-\\uFFFF]*\n */\n\n\nfunction readComment(source, start, line, col, prev) {\n  var body = source.body;\n  var code;\n  var position = start;\n\n  do {\n    code = charCodeAt.call(body, ++position);\n  } while (code !== null && ( // SourceCharacter but not LineTerminator\n  code > 0x001f || code === 0x0009));\n\n  return new Tok(TokenKind.COMMENT, start, position, line, col, prev, slice.call(body, start + 1, position));\n}\n/**\n * Reads a number token from the source file, either a float\n * or an int depending on whether a decimal point appears.\n *\n * Int:   -?(0|[1-9][0-9]*)\n * Float: -?(0|[1-9][0-9]*)(\\.[0-9]+)?((E|e)(+|-)?[0-9]+)?\n */\n\n\nfunction readNumber(source, start, firstCode, line, col, prev) {\n  var body = source.body;\n  var code = firstCode;\n  var position = start;\n  var isFloat = false;\n\n  if (code === 45) {\n    // -\n    code = charCodeAt.call(body, ++position);\n  }\n\n  if (code === 48) {\n    // 0\n    code = charCodeAt.call(body, ++position);\n\n    if (code >= 48 && code <= 57) {\n      throw syntaxError(source, position, \"Invalid number, unexpected digit after 0: \".concat(printCharCode(code), \".\"));\n    }\n  } else {\n    position = readDigits(source, position, code);\n    code = charCodeAt.call(body, position);\n  }\n\n  if (code === 46) {\n    // .\n    isFloat = true;\n    code = charCodeAt.call(body, ++position);\n    position = readDigits(source, position, code);\n    code = charCodeAt.call(body, position);\n  }\n\n  if (code === 69 || code === 101) {\n    // E e\n    isFloat = true;\n    code = charCodeAt.call(body, ++position);\n\n    if (code === 43 || code === 45) {\n      // + -\n      code = charCodeAt.call(body, ++position);\n    }\n\n    position = readDigits(source, position, code);\n  }\n\n  return new Tok(isFloat ? TokenKind.FLOAT : TokenKind.INT, start, position, line, col, prev, slice.call(body, start, position));\n}\n/**\n * Returns the new position in the source after reading digits.\n */\n\n\nfunction readDigits(source, start, firstCode) {\n  var body = source.body;\n  var position = start;\n  var code = firstCode;\n\n  if (code >= 48 && code <= 57) {\n    // 0 - 9\n    do {\n      code = charCodeAt.call(body, ++position);\n    } while (code >= 48 && code <= 57); // 0 - 9\n\n\n    return position;\n  }\n\n  throw syntaxError(source, position, \"Invalid number, expected digit but got: \".concat(printCharCode(code), \".\"));\n}\n/**\n * Reads a string token from the source file.\n *\n * \"([^\"\\\\\\u000A\\u000D]|(\\\\(u[0-9a-fA-F]{4}|[\"\\\\/bfnrt])))*\"\n */\n\n\nfunction readString(source, start, line, col, prev) {\n  var body = source.body;\n  var position = start + 1;\n  var chunkStart = position;\n  var code = 0;\n  var value = '';\n\n  while (position < body.length && (code = charCodeAt.call(body, position)) !== null && // not LineTerminator\n  code !== 0x000a && code !== 0x000d) {\n    // Closing Quote (\")\n    if (code === 34) {\n      value += slice.call(body, chunkStart, position);\n      return new Tok(TokenKind.STRING, start, position + 1, line, col, prev, value);\n    } // SourceCharacter\n\n\n    if (code < 0x0020 && code !== 0x0009) {\n      throw syntaxError(source, position, \"Invalid character within String: \".concat(printCharCode(code), \".\"));\n    }\n\n    ++position;\n\n    if (code === 92) {\n      // \\\n      value += slice.call(body, chunkStart, position - 1);\n      code = charCodeAt.call(body, position);\n\n      switch (code) {\n        case 34:\n          value += '\"';\n          break;\n\n        case 47:\n          value += '/';\n          break;\n\n        case 92:\n          value += '\\\\';\n          break;\n\n        case 98:\n          value += '\\b';\n          break;\n\n        case 102:\n          value += '\\f';\n          break;\n\n        case 110:\n          value += '\\n';\n          break;\n\n        case 114:\n          value += '\\r';\n          break;\n\n        case 116:\n          value += '\\t';\n          break;\n\n        case 117:\n          // u\n          var charCode = uniCharCode(charCodeAt.call(body, position + 1), charCodeAt.call(body, position + 2), charCodeAt.call(body, position + 3), charCodeAt.call(body, position + 4));\n\n          if (charCode < 0) {\n            throw syntaxError(source, position, 'Invalid character escape sequence: ' + \"\\\\u\".concat(body.slice(position + 1, position + 5), \".\"));\n          }\n\n          value += String.fromCharCode(charCode);\n          position += 4;\n          break;\n\n        default:\n          throw syntaxError(source, position, \"Invalid character escape sequence: \\\\\".concat(String.fromCharCode(code), \".\"));\n      }\n\n      ++position;\n      chunkStart = position;\n    }\n  }\n\n  throw syntaxError(source, position, 'Unterminated string.');\n}\n/**\n * Reads a block string token from the source file.\n *\n * \"\"\"(\"?\"?(\\\\\"\"\"|\\\\(?!=\"\"\")|[^\"\\\\]))*\"\"\"\n */\n\n\nfunction readBlockString(source, start, line, col, prev) {\n  var body = source.body;\n  var position = start + 3;\n  var chunkStart = position;\n  var code = 0;\n  var rawValue = '';\n\n  while (position < body.length && (code = charCodeAt.call(body, position)) !== null) {\n    // Closing Triple-Quote (\"\"\")\n    if (code === 34 && charCodeAt.call(body, position + 1) === 34 && charCodeAt.call(body, position + 2) === 34) {\n      rawValue += slice.call(body, chunkStart, position);\n      return new Tok(TokenKind.BLOCK_STRING, start, position + 3, line, col, prev, blockStringValue(rawValue));\n    } // SourceCharacter\n\n\n    if (code < 0x0020 && code !== 0x0009 && code !== 0x000a && code !== 0x000d) {\n      throw syntaxError(source, position, \"Invalid character within String: \".concat(printCharCode(code), \".\"));\n    } // Escape Triple-Quote (\\\"\"\")\n\n\n    if (code === 92 && charCodeAt.call(body, position + 1) === 34 && charCodeAt.call(body, position + 2) === 34 && charCodeAt.call(body, position + 3) === 34) {\n      rawValue += slice.call(body, chunkStart, position) + '\"\"\"';\n      position += 4;\n      chunkStart = position;\n    } else {\n      ++position;\n    }\n  }\n\n  throw syntaxError(source, position, 'Unterminated string.');\n}\n/**\n * Converts four hexidecimal chars to the integer that the\n * string represents. For example, uniCharCode('0','0','0','f')\n * will return 15, and uniCharCode('0','0','f','f') returns 255.\n *\n * Returns a negative number on error, if a char was invalid.\n *\n * This is implemented by noting that char2hex() returns -1 on error,\n * which means the result of ORing the char2hex() will also be negative.\n */\n\n\nfunction uniCharCode(a, b, c, d) {\n  return char2hex(a) << 12 | char2hex(b) << 8 | char2hex(c) << 4 | char2hex(d);\n}\n/**\n * Converts a hex character to its integer value.\n * '0' becomes 0, '9' becomes 9\n * 'A' becomes 10, 'F' becomes 15\n * 'a' becomes 10, 'f' becomes 15\n *\n * Returns -1 on error.\n */\n\n\nfunction char2hex(a) {\n  return a >= 48 && a <= 57 ? a - 48 // 0-9\n  : a >= 65 && a <= 70 ? a - 55 // A-F\n  : a >= 97 && a <= 102 ? a - 87 // a-f\n  : -1;\n}\n/**\n * Reads an alphanumeric + underscore name from the source.\n *\n * [_A-Za-z][_0-9A-Za-z]*\n */\n\n\nfunction readName(source, start, line, col, prev) {\n  var body = source.body;\n  var bodyLength = body.length;\n  var position = start + 1;\n  var code = 0;\n\n  while (position !== bodyLength && (code = charCodeAt.call(body, position)) !== null && (code === 95 || // _\n  code >= 48 && code <= 57 || // 0-9\n  code >= 65 && code <= 90 || // A-Z\n  code >= 97 && code <= 122) // a-z\n  ) {\n    ++position;\n  }\n\n  return new Tok(TokenKind.NAME, start, position, line, col, prev, slice.call(body, start, position));\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * The set of allowed kind values for AST nodes.\n */\nexport var Kind = Object.freeze({\n  // Name\n  NAME: 'Name',\n  // Document\n  DOCUMENT: 'Document',\n  OPERATION_DEFINITION: 'OperationDefinition',\n  VARIABLE_DEFINITION: 'VariableDefinition',\n  SELECTION_SET: 'SelectionSet',\n  FIELD: 'Field',\n  ARGUMENT: 'Argument',\n  // Fragments\n  FRAGMENT_SPREAD: 'FragmentSpread',\n  INLINE_FRAGMENT: 'InlineFragment',\n  FRAGMENT_DEFINITION: 'FragmentDefinition',\n  // Values\n  VARIABLE: 'Variable',\n  INT: 'IntValue',\n  FLOAT: 'FloatValue',\n  STRING: 'StringValue',\n  BOOLEAN: 'BooleanValue',\n  NULL: 'NullValue',\n  ENUM: 'EnumValue',\n  LIST: 'ListValue',\n  OBJECT: 'ObjectValue',\n  OBJECT_FIELD: 'ObjectField',\n  // Directives\n  DIRECTIVE: 'Directive',\n  // Types\n  NAMED_TYPE: 'NamedType',\n  LIST_TYPE: 'ListType',\n  NON_NULL_TYPE: 'NonNullType',\n  // Type System Definitions\n  SCHEMA_DEFINITION: 'SchemaDefinition',\n  OPERATION_TYPE_DEFINITION: 'OperationTypeDefinition',\n  // Type Definitions\n  SCALAR_TYPE_DEFINITION: 'ScalarTypeDefinition',\n  OBJECT_TYPE_DEFINITION: 'ObjectTypeDefinition',\n  FIELD_DEFINITION: 'FieldDefinition',\n  INPUT_VALUE_DEFINITION: 'InputValueDefinition',\n  INTERFACE_TYPE_DEFINITION: 'InterfaceTypeDefinition',\n  UNION_TYPE_DEFINITION: 'UnionTypeDefinition',\n  ENUM_TYPE_DEFINITION: 'EnumTypeDefinition',\n  ENUM_VALUE_DEFINITION: 'EnumValueDefinition',\n  INPUT_OBJECT_TYPE_DEFINITION: 'InputObjectTypeDefinition',\n  // Directive Definitions\n  DIRECTIVE_DEFINITION: 'DirectiveDefinition',\n  // Type System Extensions\n  SCHEMA_EXTENSION: 'SchemaExtension',\n  // Type Extensions\n  SCALAR_TYPE_EXTENSION: 'ScalarTypeExtension',\n  OBJECT_TYPE_EXTENSION: 'ObjectTypeExtension',\n  INTERFACE_TYPE_EXTENSION: 'InterfaceTypeExtension',\n  UNION_TYPE_EXTENSION: 'UnionTypeExtension',\n  ENUM_TYPE_EXTENSION: 'EnumTypeExtension',\n  INPUT_OBJECT_TYPE_EXTENSION: 'InputObjectTypeExtension'\n});\n/**\n * The enum type representing the possible kind values of AST nodes.\n */","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * The set of allowed directive location values.\n */\nexport var DirectiveLocation = Object.freeze({\n  // Request Definitions\n  QUERY: 'QUERY',\n  MUTATION: 'MUTATION',\n  SUBSCRIPTION: 'SUBSCRIPTION',\n  FIELD: 'FIELD',\n  FRAGMENT_DEFINITION: 'FRAGMENT_DEFINITION',\n  FRAGMENT_SPREAD: 'FRAGMENT_SPREAD',\n  INLINE_FRAGMENT: 'INLINE_FRAGMENT',\n  VARIABLE_DEFINITION: 'VARIABLE_DEFINITION',\n  // Type System Definitions\n  SCHEMA: 'SCHEMA',\n  SCALAR: 'SCALAR',\n  OBJECT: 'OBJECT',\n  FIELD_DEFINITION: 'FIELD_DEFINITION',\n  ARGUMENT_DEFINITION: 'ARGUMENT_DEFINITION',\n  INTERFACE: 'INTERFACE',\n  UNION: 'UNION',\n  ENUM: 'ENUM',\n  ENUM_VALUE: 'ENUM_VALUE',\n  INPUT_OBJECT: 'INPUT_OBJECT',\n  INPUT_FIELD_DEFINITION: 'INPUT_FIELD_DEFINITION'\n});\n/**\n * The enum type representing the directive location values.\n */","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\nimport inspect from '../jsutils/inspect';\nimport { Source } from './source';\nimport { syntaxError } from '../error';\nimport { createLexer, TokenKind, getTokenDesc } from './lexer';\nimport { Kind } from './kinds';\nimport { DirectiveLocation } from './directiveLocation';\n/**\n * Configuration options to control parser behavior\n */\n\n/**\n * Given a GraphQL source, parses it into a Document.\n * Throws GraphQLError if a syntax error is encountered.\n */\nexport function parse(source, options) {\n  var sourceObj = typeof source === 'string' ? new Source(source) : source;\n\n  if (!(sourceObj instanceof Source)) {\n    throw new TypeError(\"Must provide Source. Received: \".concat(inspect(sourceObj)));\n  }\n\n  var lexer = createLexer(sourceObj, options || {});\n  return parseDocument(lexer);\n}\n/**\n * Given a string containing a GraphQL value (ex. `[42]`), parse the AST for\n * that value.\n * Throws GraphQLError if a syntax error is encountered.\n *\n * This is useful within tools that operate upon GraphQL Values directly and\n * in isolation of complete GraphQL documents.\n *\n * Consider providing the results to the utility function: valueFromAST().\n */\n\nexport function parseValue(source, options) {\n  var sourceObj = typeof source === 'string' ? new Source(source) : source;\n  var lexer = createLexer(sourceObj, options || {});\n  expect(lexer, TokenKind.SOF);\n  var value = parseValueLiteral(lexer, false);\n  expect(lexer, TokenKind.EOF);\n  return value;\n}\n/**\n * Given a string containing a GraphQL Type (ex. `[Int!]`), parse the AST for\n * that type.\n * Throws GraphQLError if a syntax error is encountered.\n *\n * This is useful within tools that operate upon GraphQL Types directly and\n * in isolation of complete GraphQL documents.\n *\n * Consider providing the results to the utility function: typeFromAST().\n */\n\nexport function parseType(source, options) {\n  var sourceObj = typeof source === 'string' ? new Source(source) : source;\n  var lexer = createLexer(sourceObj, options || {});\n  expect(lexer, TokenKind.SOF);\n  var type = parseTypeReference(lexer);\n  expect(lexer, TokenKind.EOF);\n  return type;\n}\n/**\n * Converts a name lex token into a name parse node.\n */\n\nfunction parseName(lexer) {\n  var token = expect(lexer, TokenKind.NAME);\n  return {\n    kind: Kind.NAME,\n    value: token.value,\n    loc: loc(lexer, token)\n  };\n} // Implements the parsing rules in the Document section.\n\n/**\n * Document : Definition+\n */\n\n\nfunction parseDocument(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.DOCUMENT,\n    definitions: many(lexer, TokenKind.SOF, parseDefinition, TokenKind.EOF),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * Definition :\n *   - ExecutableDefinition\n *   - TypeSystemDefinition\n *   - TypeSystemExtension\n */\n\n\nfunction parseDefinition(lexer) {\n  if (peek(lexer, TokenKind.NAME)) {\n    switch (lexer.token.value) {\n      case 'query':\n      case 'mutation':\n      case 'subscription':\n      case 'fragment':\n        return parseExecutableDefinition(lexer);\n\n      case 'schema':\n      case 'scalar':\n      case 'type':\n      case 'interface':\n      case 'union':\n      case 'enum':\n      case 'input':\n      case 'directive':\n        return parseTypeSystemDefinition(lexer);\n\n      case 'extend':\n        return parseTypeSystemExtension(lexer);\n    }\n  } else if (peek(lexer, TokenKind.BRACE_L)) {\n    return parseExecutableDefinition(lexer);\n  } else if (peekDescription(lexer)) {\n    return parseTypeSystemDefinition(lexer);\n  }\n\n  throw unexpected(lexer);\n}\n/**\n * ExecutableDefinition :\n *   - OperationDefinition\n *   - FragmentDefinition\n */\n\n\nfunction parseExecutableDefinition(lexer) {\n  if (peek(lexer, TokenKind.NAME)) {\n    switch (lexer.token.value) {\n      case 'query':\n      case 'mutation':\n      case 'subscription':\n        return parseOperationDefinition(lexer);\n\n      case 'fragment':\n        return parseFragmentDefinition(lexer);\n    }\n  } else if (peek(lexer, TokenKind.BRACE_L)) {\n    return parseOperationDefinition(lexer);\n  }\n\n  throw unexpected(lexer);\n} // Implements the parsing rules in the Operations section.\n\n/**\n * OperationDefinition :\n *  - SelectionSet\n *  - OperationType Name? VariableDefinitions? Directives? SelectionSet\n */\n\n\nfunction parseOperationDefinition(lexer) {\n  var start = lexer.token;\n\n  if (peek(lexer, TokenKind.BRACE_L)) {\n    return {\n      kind: Kind.OPERATION_DEFINITION,\n      operation: 'query',\n      name: undefined,\n      variableDefinitions: [],\n      directives: [],\n      selectionSet: parseSelectionSet(lexer),\n      loc: loc(lexer, start)\n    };\n  }\n\n  var operation = parseOperationType(lexer);\n  var name;\n\n  if (peek(lexer, TokenKind.NAME)) {\n    name = parseName(lexer);\n  }\n\n  return {\n    kind: Kind.OPERATION_DEFINITION,\n    operation: operation,\n    name: name,\n    variableDefinitions: parseVariableDefinitions(lexer),\n    directives: parseDirectives(lexer, false),\n    selectionSet: parseSelectionSet(lexer),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * OperationType : one of query mutation subscription\n */\n\n\nfunction parseOperationType(lexer) {\n  var operationToken = expect(lexer, TokenKind.NAME);\n\n  switch (operationToken.value) {\n    case 'query':\n      return 'query';\n\n    case 'mutation':\n      return 'mutation';\n\n    case 'subscription':\n      return 'subscription';\n  }\n\n  throw unexpected(lexer, operationToken);\n}\n/**\n * VariableDefinitions : ( VariableDefinition+ )\n */\n\n\nfunction parseVariableDefinitions(lexer) {\n  return peek(lexer, TokenKind.PAREN_L) ? many(lexer, TokenKind.PAREN_L, parseVariableDefinition, TokenKind.PAREN_R) : [];\n}\n/**\n * VariableDefinition : Variable : Type DefaultValue? Directives[Const]?\n */\n\n\nfunction parseVariableDefinition(lexer) {\n  var start = lexer.token;\n\n  if (lexer.options.experimentalVariableDefinitionDirectives) {\n    return {\n      kind: Kind.VARIABLE_DEFINITION,\n      variable: parseVariable(lexer),\n      type: (expect(lexer, TokenKind.COLON), parseTypeReference(lexer)),\n      defaultValue: skip(lexer, TokenKind.EQUALS) ? parseValueLiteral(lexer, true) : undefined,\n      directives: parseDirectives(lexer, true),\n      loc: loc(lexer, start)\n    };\n  }\n\n  return {\n    kind: Kind.VARIABLE_DEFINITION,\n    variable: parseVariable(lexer),\n    type: (expect(lexer, TokenKind.COLON), parseTypeReference(lexer)),\n    defaultValue: skip(lexer, TokenKind.EQUALS) ? parseValueLiteral(lexer, true) : undefined,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * Variable : $ Name\n */\n\n\nfunction parseVariable(lexer) {\n  var start = lexer.token;\n  expect(lexer, TokenKind.DOLLAR);\n  return {\n    kind: Kind.VARIABLE,\n    name: parseName(lexer),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * SelectionSet : { Selection+ }\n */\n\n\nfunction parseSelectionSet(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.SELECTION_SET,\n    selections: many(lexer, TokenKind.BRACE_L, parseSelection, TokenKind.BRACE_R),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * Selection :\n *   - Field\n *   - FragmentSpread\n *   - InlineFragment\n */\n\n\nfunction parseSelection(lexer) {\n  return peek(lexer, TokenKind.SPREAD) ? parseFragment(lexer) : parseField(lexer);\n}\n/**\n * Field : Alias? Name Arguments? Directives? SelectionSet?\n *\n * Alias : Name :\n */\n\n\nfunction parseField(lexer) {\n  var start = lexer.token;\n  var nameOrAlias = parseName(lexer);\n  var alias;\n  var name;\n\n  if (skip(lexer, TokenKind.COLON)) {\n    alias = nameOrAlias;\n    name = parseName(lexer);\n  } else {\n    name = nameOrAlias;\n  }\n\n  return {\n    kind: Kind.FIELD,\n    alias: alias,\n    name: name,\n    arguments: parseArguments(lexer, false),\n    directives: parseDirectives(lexer, false),\n    selectionSet: peek(lexer, TokenKind.BRACE_L) ? parseSelectionSet(lexer) : undefined,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * Arguments[Const] : ( Argument[?Const]+ )\n */\n\n\nfunction parseArguments(lexer, isConst) {\n  var item = isConst ? parseConstArgument : parseArgument;\n  return peek(lexer, TokenKind.PAREN_L) ? many(lexer, TokenKind.PAREN_L, item, TokenKind.PAREN_R) : [];\n}\n/**\n * Argument[Const] : Name : Value[?Const]\n */\n\n\nfunction parseArgument(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.ARGUMENT,\n    name: parseName(lexer),\n    value: (expect(lexer, TokenKind.COLON), parseValueLiteral(lexer, false)),\n    loc: loc(lexer, start)\n  };\n}\n\nfunction parseConstArgument(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.ARGUMENT,\n    name: parseName(lexer),\n    value: (expect(lexer, TokenKind.COLON), parseConstValue(lexer)),\n    loc: loc(lexer, start)\n  };\n} // Implements the parsing rules in the Fragments section.\n\n/**\n * Corresponds to both FragmentSpread and InlineFragment in the spec.\n *\n * FragmentSpread : ... FragmentName Directives?\n *\n * InlineFragment : ... TypeCondition? Directives? SelectionSet\n */\n\n\nfunction parseFragment(lexer) {\n  var start = lexer.token;\n  expect(lexer, TokenKind.SPREAD);\n\n  if (peek(lexer, TokenKind.NAME) && lexer.token.value !== 'on') {\n    return {\n      kind: Kind.FRAGMENT_SPREAD,\n      name: parseFragmentName(lexer),\n      directives: parseDirectives(lexer, false),\n      loc: loc(lexer, start)\n    };\n  }\n\n  var typeCondition;\n\n  if (lexer.token.value === 'on') {\n    lexer.advance();\n    typeCondition = parseNamedType(lexer);\n  }\n\n  return {\n    kind: Kind.INLINE_FRAGMENT,\n    typeCondition: typeCondition,\n    directives: parseDirectives(lexer, false),\n    selectionSet: parseSelectionSet(lexer),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * FragmentDefinition :\n *   - fragment FragmentName on TypeCondition Directives? SelectionSet\n *\n * TypeCondition : NamedType\n */\n\n\nfunction parseFragmentDefinition(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'fragment'); // Experimental support for defining variables within fragments changes\n  // the grammar of FragmentDefinition:\n  //   - fragment FragmentName VariableDefinitions? on TypeCondition Directives? SelectionSet\n\n  if (lexer.options.experimentalFragmentVariables) {\n    return {\n      kind: Kind.FRAGMENT_DEFINITION,\n      name: parseFragmentName(lexer),\n      variableDefinitions: parseVariableDefinitions(lexer),\n      typeCondition: (expectKeyword(lexer, 'on'), parseNamedType(lexer)),\n      directives: parseDirectives(lexer, false),\n      selectionSet: parseSelectionSet(lexer),\n      loc: loc(lexer, start)\n    };\n  }\n\n  return {\n    kind: Kind.FRAGMENT_DEFINITION,\n    name: parseFragmentName(lexer),\n    typeCondition: (expectKeyword(lexer, 'on'), parseNamedType(lexer)),\n    directives: parseDirectives(lexer, false),\n    selectionSet: parseSelectionSet(lexer),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * FragmentName : Name but not `on`\n */\n\n\nfunction parseFragmentName(lexer) {\n  if (lexer.token.value === 'on') {\n    throw unexpected(lexer);\n  }\n\n  return parseName(lexer);\n} // Implements the parsing rules in the Values section.\n\n/**\n * Value[Const] :\n *   - [~Const] Variable\n *   - IntValue\n *   - FloatValue\n *   - StringValue\n *   - BooleanValue\n *   - NullValue\n *   - EnumValue\n *   - ListValue[?Const]\n *   - ObjectValue[?Const]\n *\n * BooleanValue : one of `true` `false`\n *\n * NullValue : `null`\n *\n * EnumValue : Name but not `true`, `false` or `null`\n */\n\n\nfunction parseValueLiteral(lexer, isConst) {\n  var token = lexer.token;\n\n  switch (token.kind) {\n    case TokenKind.BRACKET_L:\n      return parseList(lexer, isConst);\n\n    case TokenKind.BRACE_L:\n      return parseObject(lexer, isConst);\n\n    case TokenKind.INT:\n      lexer.advance();\n      return {\n        kind: Kind.INT,\n        value: token.value,\n        loc: loc(lexer, token)\n      };\n\n    case TokenKind.FLOAT:\n      lexer.advance();\n      return {\n        kind: Kind.FLOAT,\n        value: token.value,\n        loc: loc(lexer, token)\n      };\n\n    case TokenKind.STRING:\n    case TokenKind.BLOCK_STRING:\n      return parseStringLiteral(lexer);\n\n    case TokenKind.NAME:\n      if (token.value === 'true' || token.value === 'false') {\n        lexer.advance();\n        return {\n          kind: Kind.BOOLEAN,\n          value: token.value === 'true',\n          loc: loc(lexer, token)\n        };\n      } else if (token.value === 'null') {\n        lexer.advance();\n        return {\n          kind: Kind.NULL,\n          loc: loc(lexer, token)\n        };\n      }\n\n      lexer.advance();\n      return {\n        kind: Kind.ENUM,\n        value: token.value,\n        loc: loc(lexer, token)\n      };\n\n    case TokenKind.DOLLAR:\n      if (!isConst) {\n        return parseVariable(lexer);\n      }\n\n      break;\n  }\n\n  throw unexpected(lexer);\n}\n\nfunction parseStringLiteral(lexer) {\n  var token = lexer.token;\n  lexer.advance();\n  return {\n    kind: Kind.STRING,\n    value: token.value,\n    block: token.kind === TokenKind.BLOCK_STRING,\n    loc: loc(lexer, token)\n  };\n}\n\nexport function parseConstValue(lexer) {\n  return parseValueLiteral(lexer, true);\n}\n\nfunction parseValueValue(lexer) {\n  return parseValueLiteral(lexer, false);\n}\n/**\n * ListValue[Const] :\n *   - [ ]\n *   - [ Value[?Const]+ ]\n */\n\n\nfunction parseList(lexer, isConst) {\n  var start = lexer.token;\n  var item = isConst ? parseConstValue : parseValueValue;\n  return {\n    kind: Kind.LIST,\n    values: any(lexer, TokenKind.BRACKET_L, item, TokenKind.BRACKET_R),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ObjectValue[Const] :\n *   - { }\n *   - { ObjectField[?Const]+ }\n */\n\n\nfunction parseObject(lexer, isConst) {\n  var start = lexer.token;\n  expect(lexer, TokenKind.BRACE_L);\n  var fields = [];\n\n  while (!skip(lexer, TokenKind.BRACE_R)) {\n    fields.push(parseObjectField(lexer, isConst));\n  }\n\n  return {\n    kind: Kind.OBJECT,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ObjectField[Const] : Name : Value[?Const]\n */\n\n\nfunction parseObjectField(lexer, isConst) {\n  var start = lexer.token;\n  return {\n    kind: Kind.OBJECT_FIELD,\n    name: parseName(lexer),\n    value: (expect(lexer, TokenKind.COLON), parseValueLiteral(lexer, isConst)),\n    loc: loc(lexer, start)\n  };\n} // Implements the parsing rules in the Directives section.\n\n/**\n * Directives[Const] : Directive[?Const]+\n */\n\n\nfunction parseDirectives(lexer, isConst) {\n  var directives = [];\n\n  while (peek(lexer, TokenKind.AT)) {\n    directives.push(parseDirective(lexer, isConst));\n  }\n\n  return directives;\n}\n/**\n * Directive[Const] : @ Name Arguments[?Const]?\n */\n\n\nfunction parseDirective(lexer, isConst) {\n  var start = lexer.token;\n  expect(lexer, TokenKind.AT);\n  return {\n    kind: Kind.DIRECTIVE,\n    name: parseName(lexer),\n    arguments: parseArguments(lexer, isConst),\n    loc: loc(lexer, start)\n  };\n} // Implements the parsing rules in the Types section.\n\n/**\n * Type :\n *   - NamedType\n *   - ListType\n *   - NonNullType\n */\n\n\nexport function parseTypeReference(lexer) {\n  var start = lexer.token;\n  var type;\n\n  if (skip(lexer, TokenKind.BRACKET_L)) {\n    type = parseTypeReference(lexer);\n    expect(lexer, TokenKind.BRACKET_R);\n    type = {\n      kind: Kind.LIST_TYPE,\n      type: type,\n      loc: loc(lexer, start)\n    };\n  } else {\n    type = parseNamedType(lexer);\n  }\n\n  if (skip(lexer, TokenKind.BANG)) {\n    return {\n      kind: Kind.NON_NULL_TYPE,\n      type: type,\n      loc: loc(lexer, start)\n    };\n  }\n\n  return type;\n}\n/**\n * NamedType : Name\n */\n\nexport function parseNamedType(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.NAMED_TYPE,\n    name: parseName(lexer),\n    loc: loc(lexer, start)\n  };\n} // Implements the parsing rules in the Type Definition section.\n\n/**\n * TypeSystemDefinition :\n *   - SchemaDefinition\n *   - TypeDefinition\n *   - DirectiveDefinition\n *\n * TypeDefinition :\n *   - ScalarTypeDefinition\n *   - ObjectTypeDefinition\n *   - InterfaceTypeDefinition\n *   - UnionTypeDefinition\n *   - EnumTypeDefinition\n *   - InputObjectTypeDefinition\n */\n\nfunction parseTypeSystemDefinition(lexer) {\n  // Many definitions begin with a description and require a lookahead.\n  var keywordToken = peekDescription(lexer) ? lexer.lookahead() : lexer.token;\n\n  if (keywordToken.kind === TokenKind.NAME) {\n    switch (keywordToken.value) {\n      case 'schema':\n        return parseSchemaDefinition(lexer);\n\n      case 'scalar':\n        return parseScalarTypeDefinition(lexer);\n\n      case 'type':\n        return parseObjectTypeDefinition(lexer);\n\n      case 'interface':\n        return parseInterfaceTypeDefinition(lexer);\n\n      case 'union':\n        return parseUnionTypeDefinition(lexer);\n\n      case 'enum':\n        return parseEnumTypeDefinition(lexer);\n\n      case 'input':\n        return parseInputObjectTypeDefinition(lexer);\n\n      case 'directive':\n        return parseDirectiveDefinition(lexer);\n    }\n  }\n\n  throw unexpected(lexer, keywordToken);\n}\n\nfunction peekDescription(lexer) {\n  return peek(lexer, TokenKind.STRING) || peek(lexer, TokenKind.BLOCK_STRING);\n}\n/**\n * Description : StringValue\n */\n\n\nfunction parseDescription(lexer) {\n  if (peekDescription(lexer)) {\n    return parseStringLiteral(lexer);\n  }\n}\n/**\n * SchemaDefinition : schema Directives[Const]? { OperationTypeDefinition+ }\n */\n\n\nfunction parseSchemaDefinition(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'schema');\n  var directives = parseDirectives(lexer, true);\n  var operationTypes = many(lexer, TokenKind.BRACE_L, parseOperationTypeDefinition, TokenKind.BRACE_R);\n  return {\n    kind: Kind.SCHEMA_DEFINITION,\n    directives: directives,\n    operationTypes: operationTypes,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * OperationTypeDefinition : OperationType : NamedType\n */\n\n\nfunction parseOperationTypeDefinition(lexer) {\n  var start = lexer.token;\n  var operation = parseOperationType(lexer);\n  expect(lexer, TokenKind.COLON);\n  var type = parseNamedType(lexer);\n  return {\n    kind: Kind.OPERATION_TYPE_DEFINITION,\n    operation: operation,\n    type: type,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ScalarTypeDefinition : Description? scalar Name Directives[Const]?\n */\n\n\nfunction parseScalarTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'scalar');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  return {\n    kind: Kind.SCALAR_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ObjectTypeDefinition :\n *   Description?\n *   type Name ImplementsInterfaces? Directives[Const]? FieldsDefinition?\n */\n\n\nfunction parseObjectTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'type');\n  var name = parseName(lexer);\n  var interfaces = parseImplementsInterfaces(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseFieldsDefinition(lexer);\n  return {\n    kind: Kind.OBJECT_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    interfaces: interfaces,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ImplementsInterfaces :\n *   - implements `&`? NamedType\n *   - ImplementsInterfaces & NamedType\n */\n\n\nfunction parseImplementsInterfaces(lexer) {\n  var types = [];\n\n  if (lexer.token.value === 'implements') {\n    lexer.advance(); // Optional leading ampersand\n\n    skip(lexer, TokenKind.AMP);\n\n    do {\n      types.push(parseNamedType(lexer));\n    } while (skip(lexer, TokenKind.AMP) || // Legacy support for the SDL?\n    lexer.options.allowLegacySDLImplementsInterfaces && peek(lexer, TokenKind.NAME));\n  }\n\n  return types;\n}\n/**\n * FieldsDefinition : { FieldDefinition+ }\n */\n\n\nfunction parseFieldsDefinition(lexer) {\n  // Legacy support for the SDL?\n  if (lexer.options.allowLegacySDLEmptyFields && peek(lexer, TokenKind.BRACE_L) && lexer.lookahead().kind === TokenKind.BRACE_R) {\n    lexer.advance();\n    lexer.advance();\n    return [];\n  }\n\n  return peek(lexer, TokenKind.BRACE_L) ? many(lexer, TokenKind.BRACE_L, parseFieldDefinition, TokenKind.BRACE_R) : [];\n}\n/**\n * FieldDefinition :\n *   - Description? Name ArgumentsDefinition? : Type Directives[Const]?\n */\n\n\nfunction parseFieldDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  var name = parseName(lexer);\n  var args = parseArgumentDefs(lexer);\n  expect(lexer, TokenKind.COLON);\n  var type = parseTypeReference(lexer);\n  var directives = parseDirectives(lexer, true);\n  return {\n    kind: Kind.FIELD_DEFINITION,\n    description: description,\n    name: name,\n    arguments: args,\n    type: type,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ArgumentsDefinition : ( InputValueDefinition+ )\n */\n\n\nfunction parseArgumentDefs(lexer) {\n  if (!peek(lexer, TokenKind.PAREN_L)) {\n    return [];\n  }\n\n  return many(lexer, TokenKind.PAREN_L, parseInputValueDef, TokenKind.PAREN_R);\n}\n/**\n * InputValueDefinition :\n *   - Description? Name : Type DefaultValue? Directives[Const]?\n */\n\n\nfunction parseInputValueDef(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  var name = parseName(lexer);\n  expect(lexer, TokenKind.COLON);\n  var type = parseTypeReference(lexer);\n  var defaultValue;\n\n  if (skip(lexer, TokenKind.EQUALS)) {\n    defaultValue = parseConstValue(lexer);\n  }\n\n  var directives = parseDirectives(lexer, true);\n  return {\n    kind: Kind.INPUT_VALUE_DEFINITION,\n    description: description,\n    name: name,\n    type: type,\n    defaultValue: defaultValue,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * InterfaceTypeDefinition :\n *   - Description? interface Name Directives[Const]? FieldsDefinition?\n */\n\n\nfunction parseInterfaceTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'interface');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseFieldsDefinition(lexer);\n  return {\n    kind: Kind.INTERFACE_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * UnionTypeDefinition :\n *   - Description? union Name Directives[Const]? UnionMemberTypes?\n */\n\n\nfunction parseUnionTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'union');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var types = parseUnionMemberTypes(lexer);\n  return {\n    kind: Kind.UNION_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    types: types,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * UnionMemberTypes :\n *   - = `|`? NamedType\n *   - UnionMemberTypes | NamedType\n */\n\n\nfunction parseUnionMemberTypes(lexer) {\n  var types = [];\n\n  if (skip(lexer, TokenKind.EQUALS)) {\n    // Optional leading pipe\n    skip(lexer, TokenKind.PIPE);\n\n    do {\n      types.push(parseNamedType(lexer));\n    } while (skip(lexer, TokenKind.PIPE));\n  }\n\n  return types;\n}\n/**\n * EnumTypeDefinition :\n *   - Description? enum Name Directives[Const]? EnumValuesDefinition?\n */\n\n\nfunction parseEnumTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'enum');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var values = parseEnumValuesDefinition(lexer);\n  return {\n    kind: Kind.ENUM_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    values: values,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * EnumValuesDefinition : { EnumValueDefinition+ }\n */\n\n\nfunction parseEnumValuesDefinition(lexer) {\n  return peek(lexer, TokenKind.BRACE_L) ? many(lexer, TokenKind.BRACE_L, parseEnumValueDefinition, TokenKind.BRACE_R) : [];\n}\n/**\n * EnumValueDefinition : Description? EnumValue Directives[Const]?\n *\n * EnumValue : Name\n */\n\n\nfunction parseEnumValueDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  return {\n    kind: Kind.ENUM_VALUE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * InputObjectTypeDefinition :\n *   - Description? input Name Directives[Const]? InputFieldsDefinition?\n */\n\n\nfunction parseInputObjectTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'input');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseInputFieldsDefinition(lexer);\n  return {\n    kind: Kind.INPUT_OBJECT_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * InputFieldsDefinition : { InputValueDefinition+ }\n */\n\n\nfunction parseInputFieldsDefinition(lexer) {\n  return peek(lexer, TokenKind.BRACE_L) ? many(lexer, TokenKind.BRACE_L, parseInputValueDef, TokenKind.BRACE_R) : [];\n}\n/**\n * TypeSystemExtension :\n *   - SchemaExtension\n *   - TypeExtension\n *\n * TypeExtension :\n *   - ScalarTypeExtension\n *   - ObjectTypeExtension\n *   - InterfaceTypeExtension\n *   - UnionTypeExtension\n *   - EnumTypeExtension\n *   - InputObjectTypeDefinition\n */\n\n\nfunction parseTypeSystemExtension(lexer) {\n  var keywordToken = lexer.lookahead();\n\n  if (keywordToken.kind === TokenKind.NAME) {\n    switch (keywordToken.value) {\n      case 'schema':\n        return parseSchemaExtension(lexer);\n\n      case 'scalar':\n        return parseScalarTypeExtension(lexer);\n\n      case 'type':\n        return parseObjectTypeExtension(lexer);\n\n      case 'interface':\n        return parseInterfaceTypeExtension(lexer);\n\n      case 'union':\n        return parseUnionTypeExtension(lexer);\n\n      case 'enum':\n        return parseEnumTypeExtension(lexer);\n\n      case 'input':\n        return parseInputObjectTypeExtension(lexer);\n    }\n  }\n\n  throw unexpected(lexer, keywordToken);\n}\n/**\n * SchemaExtension :\n *  - extend schema Directives[Const]? { OperationTypeDefinition+ }\n *  - extend schema Directives[Const]\n */\n\n\nfunction parseSchemaExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'schema');\n  var directives = parseDirectives(lexer, true);\n  var operationTypes = peek(lexer, TokenKind.BRACE_L) ? many(lexer, TokenKind.BRACE_L, parseOperationTypeDefinition, TokenKind.BRACE_R) : [];\n\n  if (directives.length === 0 && operationTypes.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.SCHEMA_EXTENSION,\n    directives: directives,\n    operationTypes: operationTypes,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ScalarTypeExtension :\n *   - extend scalar Name Directives[Const]\n */\n\n\nfunction parseScalarTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'scalar');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n\n  if (directives.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.SCALAR_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ObjectTypeExtension :\n *  - extend type Name ImplementsInterfaces? Directives[Const]? FieldsDefinition\n *  - extend type Name ImplementsInterfaces? Directives[Const]\n *  - extend type Name ImplementsInterfaces\n */\n\n\nfunction parseObjectTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'type');\n  var name = parseName(lexer);\n  var interfaces = parseImplementsInterfaces(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseFieldsDefinition(lexer);\n\n  if (interfaces.length === 0 && directives.length === 0 && fields.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.OBJECT_TYPE_EXTENSION,\n    name: name,\n    interfaces: interfaces,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * InterfaceTypeExtension :\n *   - extend interface Name Directives[Const]? FieldsDefinition\n *   - extend interface Name Directives[Const]\n */\n\n\nfunction parseInterfaceTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'interface');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseFieldsDefinition(lexer);\n\n  if (directives.length === 0 && fields.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.INTERFACE_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * UnionTypeExtension :\n *   - extend union Name Directives[Const]? UnionMemberTypes\n *   - extend union Name Directives[Const]\n */\n\n\nfunction parseUnionTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'union');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var types = parseUnionMemberTypes(lexer);\n\n  if (directives.length === 0 && types.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.UNION_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    types: types,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * EnumTypeExtension :\n *   - extend enum Name Directives[Const]? EnumValuesDefinition\n *   - extend enum Name Directives[Const]\n */\n\n\nfunction parseEnumTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'enum');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var values = parseEnumValuesDefinition(lexer);\n\n  if (directives.length === 0 && values.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.ENUM_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    values: values,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * InputObjectTypeExtension :\n *   - extend input Name Directives[Const]? InputFieldsDefinition\n *   - extend input Name Directives[Const]\n */\n\n\nfunction parseInputObjectTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'input');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseInputFieldsDefinition(lexer);\n\n  if (directives.length === 0 && fields.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.INPUT_OBJECT_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * DirectiveDefinition :\n *   - Description? directive @ Name ArgumentsDefinition? on DirectiveLocations\n */\n\n\nfunction parseDirectiveDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'directive');\n  expect(lexer, TokenKind.AT);\n  var name = parseName(lexer);\n  var args = parseArgumentDefs(lexer);\n  expectKeyword(lexer, 'on');\n  var locations = parseDirectiveLocations(lexer);\n  return {\n    kind: Kind.DIRECTIVE_DEFINITION,\n    description: description,\n    name: name,\n    arguments: args,\n    locations: locations,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * DirectiveLocations :\n *   - `|`? DirectiveLocation\n *   - DirectiveLocations | DirectiveLocation\n */\n\n\nfunction parseDirectiveLocations(lexer) {\n  // Optional leading pipe\n  skip(lexer, TokenKind.PIPE);\n  var locations = [];\n\n  do {\n    locations.push(parseDirectiveLocation(lexer));\n  } while (skip(lexer, TokenKind.PIPE));\n\n  return locations;\n}\n/*\n * DirectiveLocation :\n *   - ExecutableDirectiveLocation\n *   - TypeSystemDirectiveLocation\n *\n * ExecutableDirectiveLocation : one of\n *   `QUERY`\n *   `MUTATION`\n *   `SUBSCRIPTION`\n *   `FIELD`\n *   `FRAGMENT_DEFINITION`\n *   `FRAGMENT_SPREAD`\n *   `INLINE_FRAGMENT`\n *\n * TypeSystemDirectiveLocation : one of\n *   `SCHEMA`\n *   `SCALAR`\n *   `OBJECT`\n *   `FIELD_DEFINITION`\n *   `ARGUMENT_DEFINITION`\n *   `INTERFACE`\n *   `UNION`\n *   `ENUM`\n *   `ENUM_VALUE`\n *   `INPUT_OBJECT`\n *   `INPUT_FIELD_DEFINITION`\n */\n\n\nfunction parseDirectiveLocation(lexer) {\n  var start = lexer.token;\n  var name = parseName(lexer);\n\n  if (DirectiveLocation.hasOwnProperty(name.value)) {\n    return name;\n  }\n\n  throw unexpected(lexer, start);\n} // Core parsing utility functions\n\n/**\n * Returns a location object, used to identify the place in\n * the source that created a given parsed object.\n */\n\n\nfunction loc(lexer, startToken) {\n  if (!lexer.options.noLocation) {\n    return new Loc(startToken, lexer.lastToken, lexer.source);\n  }\n}\n\nfunction Loc(startToken, endToken, source) {\n  this.start = startToken.start;\n  this.end = endToken.end;\n  this.startToken = startToken;\n  this.endToken = endToken;\n  this.source = source;\n} // Print a simplified form when appearing in JSON/util.inspect.\n\n\nLoc.prototype.toJSON = Loc.prototype.inspect = function toJSON() {\n  return {\n    start: this.start,\n    end: this.end\n  };\n};\n/**\n * Determines if the next token is of a given kind\n */\n\n\nfunction peek(lexer, kind) {\n  return lexer.token.kind === kind;\n}\n/**\n * If the next token is of the given kind, return true after advancing\n * the lexer. Otherwise, do not change the parser state and return false.\n */\n\n\nfunction skip(lexer, kind) {\n  var match = lexer.token.kind === kind;\n\n  if (match) {\n    lexer.advance();\n  }\n\n  return match;\n}\n/**\n * If the next token is of the given kind, return that token after advancing\n * the lexer. Otherwise, do not change the parser state and throw an error.\n */\n\n\nfunction expect(lexer, kind) {\n  var token = lexer.token;\n\n  if (token.kind === kind) {\n    lexer.advance();\n    return token;\n  }\n\n  throw syntaxError(lexer.source, token.start, \"Expected \".concat(kind, \", found \").concat(getTokenDesc(token)));\n}\n/**\n * If the next token is a keyword with the given value, return that token after\n * advancing the lexer. Otherwise, do not change the parser state and return\n * false.\n */\n\n\nfunction expectKeyword(lexer, value) {\n  var token = lexer.token;\n\n  if (token.kind === TokenKind.NAME && token.value === value) {\n    lexer.advance();\n    return token;\n  }\n\n  throw syntaxError(lexer.source, token.start, \"Expected \\\"\".concat(value, \"\\\", found \").concat(getTokenDesc(token)));\n}\n/**\n * Helper function for creating an error when an unexpected lexed token\n * is encountered.\n */\n\n\nfunction unexpected(lexer, atToken) {\n  var token = atToken || lexer.token;\n  return syntaxError(lexer.source, token.start, \"Unexpected \".concat(getTokenDesc(token)));\n}\n/**\n * Returns a possibly empty list of parse nodes, determined by\n * the parseFn. This list begins with a lex token of openKind\n * and ends with a lex token of closeKind. Advances the parser\n * to the next lex token after the closing token.\n */\n\n\nfunction any(lexer, openKind, parseFn, closeKind) {\n  expect(lexer, openKind);\n  var nodes = [];\n\n  while (!skip(lexer, closeKind)) {\n    nodes.push(parseFn(lexer));\n  }\n\n  return nodes;\n}\n/**\n * Returns a non-empty list of parse nodes, determined by\n * the parseFn. This list begins with a lex token of openKind\n * and ends with a lex token of closeKind. Advances the parser\n * to the next lex token after the closing token.\n */\n\n\nfunction many(lexer, openKind, parseFn, closeKind) {\n  expect(lexer, openKind);\n  var nodes = [parseFn(lexer)];\n\n  while (!skip(lexer, closeKind)) {\n    nodes.push(parseFn(lexer));\n  }\n\n  return nodes;\n}","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\n/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { GraphQLError } from 'graphql/error/GraphQLError';\nimport { print } from 'graphql/language/printer';\nimport { parse } from 'graphql/language/parser';\nimport Amplify, { ConsoleLogger as Logger, Credentials, Constants, INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER, } from '@aws-amplify/core';\nimport PubSub from '@aws-amplify/pubsub';\nimport Auth from '@aws-amplify/auth';\nimport Cache from '@aws-amplify/cache';\nimport { RestClient } from '@aws-amplify/api-rest';\nvar USER_AGENT_HEADER = 'x-amz-user-agent';\nvar logger = new Logger('GraphQLAPI');\nexport var graphqlOperation = function (query, variables) {\n    if (variables === void 0) { variables = {}; }\n    return ({\n        query: query,\n        variables: variables,\n    });\n};\n/**\n * Export Cloud Logic APIs\n */\nvar GraphQLAPIClass = /** @class */ (function () {\n    /**\n     * Initialize GraphQL API with AWS configuration\n     * @param {Object} options - Configuration object for API\n     */\n    function GraphQLAPIClass(options) {\n        this._api = null;\n        this._options = options;\n        Amplify.register(this);\n        logger.debug('API Options', this._options);\n    }\n    GraphQLAPIClass.prototype.getModuleName = function () {\n        return 'GraphQLAPI';\n    };\n    /**\n     * Configure API\n     * @param {Object} config - Configuration of the API\n     * @return {Object} - The current configuration\n     */\n    GraphQLAPIClass.prototype.configure = function (options) {\n        var _a = options || {}, _b = _a.API, API = _b === void 0 ? {} : _b, otherOptions = __rest(_a, [\"API\"]);\n        var opt = __assign(__assign({}, otherOptions), API);\n        logger.debug('configure GraphQL API', { opt: opt });\n        if (opt['aws_project_region']) {\n            opt = Object.assign({}, opt, {\n                region: opt['aws_project_region'],\n                header: {},\n            });\n        }\n        if (typeof opt.graphql_headers !== 'undefined' &&\n            typeof opt.graphql_headers !== 'function') {\n            logger.warn('graphql_headers should be a function');\n            opt.graphql_headers = undefined;\n        }\n        this._options = Object.assign({}, this._options, opt);\n        this.createInstance();\n        return this._options;\n    };\n    /**\n     * Create an instance of API for the library\n     * @return - A promise of true if Success\n     */\n    GraphQLAPIClass.prototype.createInstance = function () {\n        logger.debug('create Rest instance');\n        if (this._options) {\n            this._api = new RestClient(this._options);\n            return true;\n        }\n        else {\n            return Promise.reject('API not configured');\n        }\n    };\n    GraphQLAPIClass.prototype._headerBasedAuth = function (defaultAuthenticationType) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, aws_appsync_authenticationType, apiKey, authenticationType, headers, _b, credentialsOK, federatedInfo, session;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _a = this._options, aws_appsync_authenticationType = _a.aws_appsync_authenticationType, apiKey = _a.aws_appsync_apiKey;\n                        authenticationType = defaultAuthenticationType || aws_appsync_authenticationType || 'AWS_IAM';\n                        headers = {};\n                        _b = authenticationType;\n                        switch (_b) {\n                            case 'API_KEY': return [3 /*break*/, 1];\n                            case 'AWS_IAM': return [3 /*break*/, 2];\n                            case 'OPENID_CONNECT': return [3 /*break*/, 4];\n                            case 'AMAZON_COGNITO_USER_POOLS': return [3 /*break*/, 6];\n                        }\n                        return [3 /*break*/, 8];\n                    case 1:\n                        if (!apiKey) {\n                            throw new Error('No api-key configured');\n                        }\n                        headers = {\n                            Authorization: null,\n                            'X-Api-Key': apiKey,\n                        };\n                        return [3 /*break*/, 9];\n                    case 2: return [4 /*yield*/, this._ensureCredentials()];\n                    case 3:\n                        credentialsOK = _c.sent();\n                        if (!credentialsOK) {\n                            throw new Error('No credentials');\n                        }\n                        return [3 /*break*/, 9];\n                    case 4: return [4 /*yield*/, Cache.getItem('federatedInfo')];\n                    case 5:\n                        federatedInfo = _c.sent();\n                        if (!federatedInfo || !federatedInfo.token) {\n                            throw new Error('No federated jwt');\n                        }\n                        headers = {\n                            Authorization: federatedInfo.token,\n                        };\n                        return [3 /*break*/, 9];\n                    case 6: return [4 /*yield*/, Auth.currentSession()];\n                    case 7:\n                        session = _c.sent();\n                        headers = {\n                            Authorization: session.getAccessToken().getJwtToken(),\n                        };\n                        return [3 /*break*/, 9];\n                    case 8:\n                        headers = {\n                            Authorization: null,\n                        };\n                        return [3 /*break*/, 9];\n                    case 9: return [2 /*return*/, headers];\n                }\n            });\n        });\n    };\n    /**\n     * to get the operation type\n     * @param operation\n     */\n    GraphQLAPIClass.prototype.getGraphqlOperationType = function (operation) {\n        var doc = parse(operation);\n        var _a = __read(doc.definitions, 1), operationType = _a[0].operation;\n        return operationType;\n    };\n    /**\n     * Executes a GraphQL operation\n     *\n     * @param {GraphQLOptions} GraphQL Options\n     * @param {object} additionalHeaders headers to merge in after any `graphql_headers` set in the config\n     * @returns {Promise<GraphQLResult> | Observable<object>}\n     */\n    GraphQLAPIClass.prototype.graphql = function (_a, additionalHeaders) {\n        var paramQuery = _a.query, _b = _a.variables, variables = _b === void 0 ? {} : _b, authMode = _a.authMode;\n        var query = typeof paramQuery === 'string'\n            ? parse(paramQuery)\n            : parse(print(paramQuery));\n        var _c = __read(query.definitions.filter(function (def) { return def.kind === 'OperationDefinition'; }), 1), _d = _c[0], operationDef = _d === void 0 ? {} : _d;\n        var operationType = operationDef.operation;\n        switch (operationType) {\n            case 'query':\n            case 'mutation':\n                return this._graphql({ query: query, variables: variables, authMode: authMode }, additionalHeaders);\n            case 'subscription':\n                return this._graphqlSubscribe({ query: query, variables: variables, authMode: authMode });\n        }\n        throw new Error(\"invalid operation type: \" + operationType);\n    };\n    GraphQLAPIClass.prototype._graphql = function (_a, additionalHeaders) {\n        var query = _a.query, variables = _a.variables, authMode = _a.authMode;\n        if (additionalHeaders === void 0) { additionalHeaders = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            var _b, region, appSyncGraphqlEndpoint, _c, graphql_headers, customGraphqlEndpoint, customEndpointRegion, headers, _d, _e, _f, _g, _h, _j, body, init, endpoint, error, response, err_1, errors;\n            var _k;\n            return __generator(this, function (_l) {\n                switch (_l.label) {\n                    case 0:\n                        if (!!this._api) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.createInstance()];\n                    case 1:\n                        _l.sent();\n                        _l.label = 2;\n                    case 2:\n                        _b = this._options, region = _b.aws_appsync_region, appSyncGraphqlEndpoint = _b.aws_appsync_graphqlEndpoint, _c = _b.graphql_headers, graphql_headers = _c === void 0 ? function () { return ({}); } : _c, customGraphqlEndpoint = _b.graphql_endpoint, customEndpointRegion = _b.graphql_endpoint_iam_region;\n                        _d = [{}];\n                        _e = !customGraphqlEndpoint;\n                        if (!_e) return [3 /*break*/, 4];\n                        return [4 /*yield*/, this._headerBasedAuth(authMode)];\n                    case 3:\n                        _e = (_l.sent());\n                        _l.label = 4;\n                    case 4:\n                        _f = [__assign.apply(void 0, _d.concat([(_e)]))];\n                        _g = customGraphqlEndpoint;\n                        if (!_g) return [3 /*break*/, 8];\n                        if (!customEndpointRegion) return [3 /*break*/, 6];\n                        return [4 /*yield*/, this._headerBasedAuth(authMode)];\n                    case 5:\n                        _h = _l.sent();\n                        return [3 /*break*/, 7];\n                    case 6:\n                        _h = { Authorization: null };\n                        _l.label = 7;\n                    case 7:\n                        _g = (_h);\n                        _l.label = 8;\n                    case 8:\n                        _j = [__assign.apply(void 0, _f.concat([(_g)]))];\n                        return [4 /*yield*/, graphql_headers({ query: query, variables: variables })];\n                    case 9:\n                        headers = __assign.apply(void 0, [__assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_l.sent())])), additionalHeaders]), (!customGraphqlEndpoint && (_k = {},\n                                _k[USER_AGENT_HEADER] = Constants.userAgent,\n                                _k))]);\n                        body = {\n                            query: print(query),\n                            variables: variables,\n                        };\n                        init = {\n                            headers: headers,\n                            body: body,\n                            signerServiceInfo: {\n                                service: !customGraphqlEndpoint ? 'appsync' : 'execute-api',\n                                region: !customGraphqlEndpoint ? region : customEndpointRegion,\n                            },\n                        };\n                        endpoint = customGraphqlEndpoint || appSyncGraphqlEndpoint;\n                        if (!endpoint) {\n                            error = new GraphQLError('No graphql endpoint provided.');\n                            throw {\n                                data: {},\n                                errors: [error],\n                            };\n                        }\n                        _l.label = 10;\n                    case 10:\n                        _l.trys.push([10, 12, , 13]);\n                        return [4 /*yield*/, this._api.post(endpoint, init)];\n                    case 11:\n                        response = _l.sent();\n                        return [3 /*break*/, 13];\n                    case 12:\n                        err_1 = _l.sent();\n                        response = {\n                            data: {},\n                            errors: [new GraphQLError(err_1.message)],\n                        };\n                        return [3 /*break*/, 13];\n                    case 13:\n                        errors = response.errors;\n                        if (errors && errors.length) {\n                            throw response;\n                        }\n                        return [2 /*return*/, response];\n                }\n            });\n        });\n    };\n    GraphQLAPIClass.prototype._graphqlSubscribe = function (_a) {\n        var query = _a.query, variables = _a.variables, defaultAuthenticationType = _a.authMode;\n        var _b = this._options, region = _b.aws_appsync_region, appSyncGraphqlEndpoint = _b.aws_appsync_graphqlEndpoint, aws_appsync_authenticationType = _b.aws_appsync_authenticationType, apiKey = _b.aws_appsync_apiKey, _c = _b.graphql_headers, graphql_headers = _c === void 0 ? function () { return ({}); } : _c;\n        var authenticationType = defaultAuthenticationType || aws_appsync_authenticationType || 'AWS_IAM';\n        if (PubSub && typeof PubSub.subscribe === 'function') {\n            return PubSub.subscribe('', {\n                provider: INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER,\n                appSyncGraphqlEndpoint: appSyncGraphqlEndpoint,\n                authenticationType: authenticationType,\n                apiKey: apiKey,\n                query: print(query),\n                region: region,\n                variables: variables,\n                graphql_headers: graphql_headers,\n            });\n        }\n        else {\n            logger.debug('No pubsub module applied for subscription');\n            throw new Error('No pubsub module applied for subscription');\n        }\n    };\n    /**\n     * @private\n     */\n    GraphQLAPIClass.prototype._ensureCredentials = function () {\n        return Credentials.get()\n            .then(function (credentials) {\n            if (!credentials)\n                return false;\n            var cred = Credentials.shear(credentials);\n            logger.debug('set credentials for api', cred);\n            return true;\n        })\n            .catch(function (err) {\n            logger.warn('ensure credentials error', err);\n            return false;\n        });\n    };\n    return GraphQLAPIClass;\n}());\nexport { GraphQLAPIClass };\nexport var GraphQLAPI = new GraphQLAPIClass(null);\n//# sourceMappingURL=GraphQLAPI.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { RestAPIClass } from '@aws-amplify/api-rest';\nimport { GraphQLAPIClass, } from '@aws-amplify/api-graphql';\nimport { Amplify, ConsoleLogger as Logger } from '@aws-amplify/core';\nvar logger = new Logger('API');\n/**\n * @deprecated\n * Use RestApi or GraphQLAPI to reduce your application bundle size\n * Export Cloud Logic APIs\n */\nvar APIClass = /** @class */ (function () {\n    /**\n     * Initialize API with AWS configuration\n     * @param {Object} options - Configuration object for API\n     */\n    function APIClass(options) {\n        this._options = options;\n        this._restApi = new RestAPIClass(options);\n        this._graphqlApi = new GraphQLAPIClass(options);\n        Amplify.register(this);\n        logger.debug('API Options', this._options);\n    }\n    APIClass.prototype.getModuleName = function () {\n        return 'API';\n    };\n    /**\n     * Configure API part with aws configurations\n     * @param {Object} config - Configuration of the API\n     * @return {Object} - The current configuration\n     */\n    APIClass.prototype.configure = function (options) {\n        this._options = Object.assign({}, this._options, options);\n        var restAPIConfig = this._restApi.configure(this._options);\n        var graphQLAPIConfig = this._graphqlApi.configure(this._options);\n        return __assign(__assign({}, restAPIConfig), graphQLAPIConfig);\n    };\n    /**\n     * Make a GET request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    APIClass.prototype.get = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this._restApi.get(apiName, path, init)];\n            });\n        });\n    };\n    /**\n     * Make a POST request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    APIClass.prototype.post = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this._restApi.post(apiName, path, init)];\n            });\n        });\n    };\n    /**\n     * Make a PUT request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    APIClass.prototype.put = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this._restApi.put(apiName, path, init)];\n            });\n        });\n    };\n    /**\n     * Make a PATCH request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    APIClass.prototype.patch = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this._restApi.patch(apiName, path, init)];\n            });\n        });\n    };\n    /**\n     * Make a DEL request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    APIClass.prototype.del = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this._restApi.del(apiName, path, init)];\n            });\n        });\n    };\n    /**\n     * Make a HEAD request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    APIClass.prototype.head = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this._restApi.head(apiName, path, init)];\n            });\n        });\n    };\n    /**\n     * Getting endpoint for API\n     * @param {string} apiName - The name of the api\n     * @return {string} - The endpoint of the api\n     */\n    APIClass.prototype.endpoint = function (apiName) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this._restApi.endpoint(apiName)];\n            });\n        });\n    };\n    /**\n     * to get the operation type\n     * @param operation\n     */\n    APIClass.prototype.getGraphqlOperationType = function (operation) {\n        return this._graphqlApi.getGraphqlOperationType(operation);\n    };\n    /**\n     * Executes a GraphQL operation\n     *\n     * @param {GraphQLOptions} GraphQL Options\n     * @param {object} additionalHeaders headers to merge in after any `graphql_headers` set in the config\n     * @returns {Promise<GraphQLResult> | Observable<object>}\n     */\n    APIClass.prototype.graphql = function (options) {\n        return this._graphqlApi.graphql(options);\n    };\n    return APIClass;\n}());\nexport { APIClass };\nexport var API = new APIClass(null);\n//# sourceMappingURL=API.js.map","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","export var GRAPHQL_AUTH_MODE;\n(function (GRAPHQL_AUTH_MODE) {\n    GRAPHQL_AUTH_MODE[\"API_KEY\"] = \"API_KEY\";\n    GRAPHQL_AUTH_MODE[\"AWS_IAM\"] = \"AWS_IAM\";\n    GRAPHQL_AUTH_MODE[\"OPENID_CONNECT\"] = \"OPENID_CONNECT\";\n    GRAPHQL_AUTH_MODE[\"AMAZON_COGNITO_USER_POOLS\"] = \"AMAZON_COGNITO_USER_POOLS\";\n})(GRAPHQL_AUTH_MODE || (GRAPHQL_AUTH_MODE = {}));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar pureJs_1 = require(\"./pureJs\");\nvar whatwgEncodingApi_1 = require(\"./whatwgEncodingApi\");\nfunction fromUtf8(input) {\n    if (typeof TextEncoder === \"function\") {\n        return whatwgEncodingApi_1.fromUtf8(input);\n    }\n    return pureJs_1.fromUtf8(input);\n}\nexports.fromUtf8 = fromUtf8;\nfunction toUtf8(input) {\n    if (typeof TextDecoder === \"function\") {\n        return whatwgEncodingApi_1.toUtf8(input);\n    }\n    return pureJs_1.toUtf8(input);\n}\nexports.toUtf8 = toUtf8;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxtQ0FBc0U7QUFDdEUseURBRzZCO0FBSzdCLFNBQWdCLFFBQVEsQ0FBQyxLQUFhO0lBQ3BDLElBQUksT0FBTyxXQUFXLEtBQUssVUFBVSxFQUFFO1FBQ3JDLE9BQU8sNEJBQW1CLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDbkM7SUFFRCxPQUFPLGlCQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDM0IsQ0FBQztBQU5ELDRCQU1DO0FBRUQsU0FBZ0IsTUFBTSxDQUFDLEtBQWlCO0lBQ3RDLElBQUksT0FBTyxXQUFXLEtBQUssVUFBVSxFQUFFO1FBQ3JDLE9BQU8sMEJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDakM7SUFFRCxPQUFPLGVBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN6QixDQUFDO0FBTkQsd0JBTUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcm9tVXRmOCBhcyBqc0Zyb21VdGY4LCB0b1V0ZjggYXMganNUb1V0ZjggfSBmcm9tIFwiLi9wdXJlSnNcIjtcbmltcG9ydCB7XG4gIGZyb21VdGY4IGFzIHRleHRFbmNvZGVyRnJvbVV0ZjgsXG4gIHRvVXRmOCBhcyB0ZXh0RW5jb2RlclRvVXRmOFxufSBmcm9tIFwiLi93aGF0d2dFbmNvZGluZ0FwaVwiO1xuXG5kZWNsYXJlIGNvbnN0IFRleHREZWNvZGVyOiBGdW5jdGlvbiB8IHVuZGVmaW5lZDtcbmRlY2xhcmUgY29uc3QgVGV4dEVuY29kZXI6IEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVV0ZjgoaW5wdXQ6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICBpZiAodHlwZW9mIFRleHRFbmNvZGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gdGV4dEVuY29kZXJGcm9tVXRmOChpbnB1dCk7XG4gIH1cblxuICByZXR1cm4ganNGcm9tVXRmOChpbnB1dCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1V0ZjgoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICBpZiAodHlwZW9mIFRleHREZWNvZGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gdGV4dEVuY29kZXJUb1V0ZjgoaW5wdXQpO1xuICB9XG5cbiAgcmV0dXJuIGpzVG9VdGY4KGlucHV0KTtcbn1cbiJdfQ==","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { ConsoleLogger as Logger } from '../Logger';\nimport { browserOrNode } from '../JS';\nvar logger = new Logger('CognitoCredentials');\nvar waitForInit = new Promise(function (res, rej) {\n    if (!browserOrNode().isBrowser) {\n        logger.debug('not in the browser, directly resolved');\n        return res();\n    }\n    var ga = window['gapi'] && window['gapi'].auth2 ? window['gapi'].auth2 : null;\n    if (ga) {\n        logger.debug('google api already loaded');\n        return res();\n    }\n    else {\n        setTimeout(function () {\n            return res();\n        }, 2000);\n    }\n});\nvar GoogleOAuth = /** @class */ (function () {\n    function GoogleOAuth() {\n        this.initialized = false;\n        this.refreshGoogleToken = this.refreshGoogleToken.bind(this);\n        this._refreshGoogleTokenImpl = this._refreshGoogleTokenImpl.bind(this);\n    }\n    GoogleOAuth.prototype.refreshGoogleToken = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this.initialized) return [3 /*break*/, 2];\n                        logger.debug('need to wait for the Google SDK loaded');\n                        return [4 /*yield*/, waitForInit];\n                    case 1:\n                        _a.sent();\n                        this.initialized = true;\n                        logger.debug('finish waiting');\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, this._refreshGoogleTokenImpl()];\n                }\n            });\n        });\n    };\n    GoogleOAuth.prototype._refreshGoogleTokenImpl = function () {\n        var ga = null;\n        if (browserOrNode().isBrowser)\n            ga = window['gapi'] && window['gapi'].auth2 ? window['gapi'].auth2 : null;\n        if (!ga) {\n            logger.debug('no gapi auth2 available');\n            return Promise.reject('no gapi auth2 available');\n        }\n        return new Promise(function (res, rej) {\n            ga.getAuthInstance()\n                .then(function (googleAuth) {\n                if (!googleAuth) {\n                    console.log('google Auth undefiend');\n                    rej('google Auth undefiend');\n                }\n                var googleUser = googleAuth.currentUser.get();\n                // refresh the token\n                if (googleUser.isSignedIn()) {\n                    logger.debug('refreshing the google access token');\n                    googleUser.reloadAuthResponse().then(function (authResponse) {\n                        var id_token = authResponse.id_token, expires_at = authResponse.expires_at;\n                        var profile = googleUser.getBasicProfile();\n                        var user = {\n                            email: profile.getEmail(),\n                            name: profile.getName(),\n                        };\n                        res({ token: id_token, expires_at: expires_at });\n                    });\n                }\n                else {\n                    rej('User is not signed in with Google');\n                }\n            })\n                .catch(function (err) {\n                logger.debug('Failed to refresh google token', err);\n                rej('Failed to refresh google token');\n            });\n        });\n    };\n    return GoogleOAuth;\n}());\nexport { GoogleOAuth };\n/**\n * @deprecated use named import\n */\nexport default GoogleOAuth;\n//# sourceMappingURL=GoogleOAuth.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { ConsoleLogger as Logger } from '../Logger';\nimport { browserOrNode } from '../JS';\nvar logger = new Logger('CognitoCredentials');\nvar waitForInit = new Promise(function (res, rej) {\n    if (!browserOrNode().isBrowser) {\n        logger.debug('not in the browser, directly resolved');\n        return res();\n    }\n    var fb = window['FB'];\n    if (fb) {\n        logger.debug('FB SDK already loaded');\n        return res();\n    }\n    else {\n        setTimeout(function () {\n            return res();\n        }, 2000);\n    }\n});\nvar FacebookOAuth = /** @class */ (function () {\n    function FacebookOAuth() {\n        this.initialized = false;\n        this.refreshFacebookToken = this.refreshFacebookToken.bind(this);\n        this._refreshFacebookTokenImpl = this._refreshFacebookTokenImpl.bind(this);\n    }\n    FacebookOAuth.prototype.refreshFacebookToken = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this.initialized) return [3 /*break*/, 2];\n                        logger.debug('need to wait for the Facebook SDK loaded');\n                        return [4 /*yield*/, waitForInit];\n                    case 1:\n                        _a.sent();\n                        this.initialized = true;\n                        logger.debug('finish waiting');\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, this._refreshFacebookTokenImpl()];\n                }\n            });\n        });\n    };\n    FacebookOAuth.prototype._refreshFacebookTokenImpl = function () {\n        var fb = null;\n        if (browserOrNode().isBrowser)\n            fb = window['FB'];\n        if (!fb) {\n            logger.debug('no fb sdk available');\n            return Promise.reject('no fb sdk available');\n        }\n        return new Promise(function (res, rej) {\n            fb.getLoginStatus(function (fbResponse) {\n                if (!fbResponse || !fbResponse.authResponse) {\n                    logger.debug('no response from facebook when refreshing the jwt token');\n                    rej('no response from facebook when refreshing the jwt token');\n                }\n                var response = fbResponse.authResponse;\n                var accessToken = response.accessToken, expiresIn = response.expiresIn;\n                var date = new Date();\n                var expires_at = expiresIn * 1000 + date.getTime();\n                if (!accessToken) {\n                    logger.debug('the jwtToken is undefined');\n                    rej('the jwtToken is undefined');\n                }\n                res({ token: accessToken, expires_at: expires_at });\n            }, { scope: 'public_profile,email' });\n        });\n    };\n    return FacebookOAuth;\n}());\nexport { FacebookOAuth };\n/**\n * @deprecated use named import\n */\nexport default FacebookOAuth;\n//# sourceMappingURL=FacebookOAuth.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { GoogleOAuth as GoogleOAuthClass } from './GoogleOAuth';\nimport { FacebookOAuth as FacebookOAuthClass } from './FacebookOAuth';\nexport var GoogleOAuth = new GoogleOAuthClass();\nexport var FacebookOAuth = new FacebookOAuthClass();\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./client\"), exports);\ntslib_1.__exportStar(require(\"./command\"), exports);\ntslib_1.__exportStar(require(\"./isa\"), exports);\ntslib_1.__exportStar(require(\"./lazy-json\"), exports);\ntslib_1.__exportStar(require(\"./extended-encode-uri-component\"), exports);\ntslib_1.__exportStar(require(\"./date-utils\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsbURBQXlCO0FBQ3pCLG9EQUEwQjtBQUcxQixnREFBc0I7QUFDdEIsc0RBQTRCO0FBQzVCLDBFQUFnRDtBQUNoRCx1REFBNkIiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tIFwiLi9jbGllbnRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbW1hbmRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2RvY3VtZW50LXR5cGVcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2V4Y2VwdGlvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vaXNhXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9sYXp5LWpzb25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2V4dGVuZGVkLWVuY29kZS11cmktY29tcG9uZW50XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kYXRlLXV0aWxzXCI7XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./escape-uri\"), exports);\ntslib_1.__exportStar(require(\"./escape-uri-path\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsdURBQTZCO0FBQzdCLDREQUFrQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gXCIuL2VzY2FwZS11cmlcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2VzY2FwZS11cmktcGF0aFwiO1xuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./chain\"), exports);\ntslib_1.__exportStar(require(\"./fromStatic\"), exports);\ntslib_1.__exportStar(require(\"./memoize\"), exports);\ntslib_1.__exportStar(require(\"./ProviderError\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsa0RBQXdCO0FBQ3hCLHVEQUE2QjtBQUM3QixvREFBMEI7QUFDMUIsMERBQWdDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi4vY2hhaW5cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2Zyb21TdGF0aWNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL21lbW9pemVcIjtcbmV4cG9ydCAqIGZyb20gXCIuL1Byb3ZpZGVyRXJyb3JcIjtcbiJdfQ==",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./sha256\"), require(\"./hmac\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./sha256\", \"./hmac\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.HmacSHA256;\n\n}));","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar dataMemory = {};\n/** @class */\nvar MemoryStorage = /** @class */ (function () {\n    function MemoryStorage() {\n    }\n    /**\n     * This is used to set a specific item in storage\n     * @param {string} key - the key for the item\n     * @param {object} value - the value\n     * @returns {string} value that was set\n     */\n    MemoryStorage.setItem = function (key, value) {\n        dataMemory[key] = value;\n        return dataMemory[key];\n    };\n    /**\n     * This is used to get a specific key from storage\n     * @param {string} key - the key for the item\n     * This is used to clear the storage\n     * @returns {string} the data item\n     */\n    MemoryStorage.getItem = function (key) {\n        return Object.prototype.hasOwnProperty.call(dataMemory, key)\n            ? dataMemory[key]\n            : undefined;\n    };\n    /**\n     * This is used to remove an item from storage\n     * @param {string} key - the key being set\n     * @returns {string} value - value that was deleted\n     */\n    MemoryStorage.removeItem = function (key) {\n        return delete dataMemory[key];\n    };\n    /**\n     * This is used to clear the storage\n     * @returns {string} nothing\n     */\n    MemoryStorage.clear = function () {\n        dataMemory = {};\n        return dataMemory;\n    };\n    return MemoryStorage;\n}());\nexport { MemoryStorage };\nvar StorageHelper = /** @class */ (function () {\n    /**\n     * This is used to get a storage object\n     * @returns {object} the storage\n     */\n    function StorageHelper() {\n        try {\n            this.storageWindow = window.localStorage;\n            this.storageWindow.setItem('aws.amplify.test-ls', 1);\n            this.storageWindow.removeItem('aws.amplify.test-ls');\n        }\n        catch (exception) {\n            this.storageWindow = MemoryStorage;\n        }\n    }\n    /**\n     * This is used to return the storage\n     * @returns {object} the storage\n     */\n    StorageHelper.prototype.getStorage = function () {\n        return this.storageWindow;\n    };\n    return StorageHelper;\n}());\nexport { StorageHelper };\n/**\n * @deprecated use named import\n */\nexport default StorageHelper;\n//# sourceMappingURL=index.js.map",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Initialization and round constants tables\n\t    var H = [];\n\t    var K = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        function isPrime(n) {\n\t            var sqrtN = Math.sqrt(n);\n\t            for (var factor = 2; factor <= sqrtN; factor++) {\n\t                if (!(n % factor)) {\n\t                    return false;\n\t                }\n\t            }\n\n\t            return true;\n\t        }\n\n\t        function getFractionalBits(n) {\n\t            return ((n - (n | 0)) * 0x100000000) | 0;\n\t        }\n\n\t        var n = 2;\n\t        var nPrime = 0;\n\t        while (nPrime < 64) {\n\t            if (isPrime(n)) {\n\t                if (nPrime < 8) {\n\t                    H[nPrime] = getFractionalBits(Math.pow(n, 1 / 2));\n\t                }\n\t                K[nPrime] = getFractionalBits(Math.pow(n, 1 / 3));\n\n\t                nPrime++;\n\t            }\n\n\t            n++;\n\t        }\n\t    }());\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-256 hash algorithm.\n\t     */\n\t    var SHA256 = C_algo.SHA256 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init(H.slice(0));\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\t            var f = H[5];\n\t            var g = H[6];\n\t            var h = H[7];\n\n\t            // Computation\n\t            for (var i = 0; i < 64; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var gamma0x = W[i - 15];\n\t                    var gamma0  = ((gamma0x << 25) | (gamma0x >>> 7))  ^\n\t                                  ((gamma0x << 14) | (gamma0x >>> 18)) ^\n\t                                   (gamma0x >>> 3);\n\n\t                    var gamma1x = W[i - 2];\n\t                    var gamma1  = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n\t                                  ((gamma1x << 13) | (gamma1x >>> 19)) ^\n\t                                   (gamma1x >>> 10);\n\n\t                    W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n\t                }\n\n\t                var ch  = (e & f) ^ (~e & g);\n\t                var maj = (a & b) ^ (a & c) ^ (b & c);\n\n\t                var sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n\t                var sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7)  | (e >>> 25));\n\n\t                var t1 = h + sigma1 + ch + K[i] + W[i];\n\t                var t2 = sigma0 + maj;\n\n\t                h = g;\n\t                g = f;\n\t                f = e;\n\t                e = (d + t1) | 0;\n\t                d = c;\n\t                c = b;\n\t                b = a;\n\t                a = (t1 + t2) | 0;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t            H[5] = (H[5] + f) | 0;\n\t            H[6] = (H[6] + g) | 0;\n\t            H[7] = (H[7] + h) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA256('message');\n\t     *     var hash = CryptoJS.SHA256(wordArray);\n\t     */\n\t    C.SHA256 = Hasher._createHelper(SHA256);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA256(message, key);\n\t     */\n\t    C.HmacSHA256 = Hasher._createHmacHelper(SHA256);\n\t}(Math));\n\n\n\treturn CryptoJS.SHA256;\n\n}));","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_enc = C.enc;\n\n\t    /**\n\t     * Base64 encoding strategy.\n\t     */\n\t    var Base64 = C_enc.Base64 = {\n\t        /**\n\t         * Converts a word array to a Base64 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Base64 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\t            var map = this._map;\n\n\t            // Clamp excess bits\n\t            wordArray.clamp();\n\n\t            // Convert\n\t            var base64Chars = [];\n\t            for (var i = 0; i < sigBytes; i += 3) {\n\t                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n\t                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n\t                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n\t                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n\t                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n\t                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n\t                }\n\t            }\n\n\t            // Add padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                while (base64Chars.length % 4) {\n\t                    base64Chars.push(paddingChar);\n\t                }\n\t            }\n\n\t            return base64Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Base64 string to a word array.\n\t         *\n\t         * @param {string} base64Str The Base64 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n\t         */\n\t        parse: function (base64Str) {\n\t            // Shortcuts\n\t            var base64StrLength = base64Str.length;\n\t            var map = this._map;\n\t            var reverseMap = this._reverseMap;\n\n\t            if (!reverseMap) {\n\t                    reverseMap = this._reverseMap = [];\n\t                    for (var j = 0; j < map.length; j++) {\n\t                        reverseMap[map.charCodeAt(j)] = j;\n\t                    }\n\t            }\n\n\t            // Ignore padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                var paddingIndex = base64Str.indexOf(paddingChar);\n\t                if (paddingIndex !== -1) {\n\t                    base64StrLength = paddingIndex;\n\t                }\n\t            }\n\n\t            // Convert\n\t            return parseLoop(base64Str, base64StrLength, reverseMap);\n\n\t        },\n\n\t        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n\t    };\n\n\t    function parseLoop(base64Str, base64StrLength, reverseMap) {\n\t      var words = [];\n\t      var nBytes = 0;\n\t      for (var i = 0; i < base64StrLength; i++) {\n\t          if (i % 4) {\n\t              var bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n\t              var bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n\t              words[nBytes >>> 2] |= (bits1 | bits2) << (24 - (nBytes % 4) * 8);\n\t              nBytes++;\n\t          }\n\t      }\n\t      return WordArray.create(words, nBytes);\n\t    }\n\t}());\n\n\n\treturn CryptoJS.enc.Base64;\n\n}));","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nexport var CognitoHostedUIIdentityProvider;\n(function (CognitoHostedUIIdentityProvider) {\n    CognitoHostedUIIdentityProvider[\"Cognito\"] = \"COGNITO\";\n    CognitoHostedUIIdentityProvider[\"Google\"] = \"Google\";\n    CognitoHostedUIIdentityProvider[\"Facebook\"] = \"Facebook\";\n    CognitoHostedUIIdentityProvider[\"Amazon\"] = \"LoginWithAmazon\";\n})(CognitoHostedUIIdentityProvider || (CognitoHostedUIIdentityProvider = {}));\nexport function isFederatedSignInOptions(obj) {\n    var keys = ['provider', 'customState'];\n    return obj && !!keys.find(function (k) { return obj.hasOwnProperty(k); });\n}\nexport function isFederatedSignInOptionsCustom(obj) {\n    var keys = [\n        'customProvider',\n        'customState',\n    ];\n    return obj && !!keys.find(function (k) { return obj.hasOwnProperty(k); });\n}\nexport function isCognitoHostedOpts(oauth) {\n    return oauth.redirectSignIn !== undefined;\n}\nexport var AuthErrorTypes;\n(function (AuthErrorTypes) {\n    AuthErrorTypes[\"NoConfig\"] = \"noConfig\";\n    AuthErrorTypes[\"MissingAuthConfig\"] = \"missingAuthConfig\";\n    AuthErrorTypes[\"EmptyUsername\"] = \"emptyUsername\";\n    AuthErrorTypes[\"InvalidUsername\"] = \"invalidUsername\";\n    AuthErrorTypes[\"EmptyPassword\"] = \"emptyPassword\";\n    AuthErrorTypes[\"EmptyCode\"] = \"emptyCode\";\n    AuthErrorTypes[\"SignUpError\"] = \"signUpError\";\n    AuthErrorTypes[\"NoMFA\"] = \"noMFA\";\n    AuthErrorTypes[\"InvalidMFA\"] = \"invalidMFA\";\n    AuthErrorTypes[\"EmptyChallengeResponse\"] = \"emptyChallengeResponse\";\n    AuthErrorTypes[\"NoUserSession\"] = \"noUserSession\";\n    AuthErrorTypes[\"Default\"] = \"default\";\n})(AuthErrorTypes || (AuthErrorTypes = {}));\nexport function isUsernamePasswordOpts(obj) {\n    return !!obj.username;\n}\n//# sourceMappingURL=Auth.js.map","// A small implementation of BigInteger based on http://www-cs-students.stanford.edu/~tjw/jsbn/\n//\n// All public methods have been removed except the following:\n//   new BigInteger(a, b) (only radix 2, 4, 8, 16 and 32 supported)\n//   toString (only radix 2, 4, 8, 16 and 32 supported)\n//   negate\n//   abs\n//   compareTo\n//   bitLength\n//   mod\n//   equals\n//   add\n//   subtract\n//   multiply\n//   divide\n//   modPow\nexport default BigInteger;\n/*\n * Copyright (c) 2003-2005  Tom Wu\n * All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS-IS\" AND WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY\n * WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.\n *\n * IN NO EVENT SHALL TOM WU BE LIABLE FOR ANY SPECIAL, INCIDENTAL,\n * INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND, OR ANY DAMAGES WHATSOEVER\n * RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER OR NOT ADVISED OF\n * THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF LIABILITY, ARISING OUT\n * OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n *\n * In addition, the following condition applies:\n *\n * All redistributions must retain an intact copy of this copyright notice\n * and disclaimer.\n */\n// (public) Constructor\n\nfunction BigInteger(a, b) {\n  if (a != null) this.fromString(a, b);\n} // return new, unset BigInteger\n\n\nfunction nbi() {\n  return new BigInteger(null);\n} // Bits per digit\n\n\nvar dbits; // JavaScript engine analysis\n\nvar canary = 0xdeadbeefcafe;\nvar j_lm = (canary & 0xffffff) == 0xefcafe; // am: Compute w_j += (x*this_i), propagate carries,\n// c is initial carry, returns final carry.\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n// We need to select the fastest one that works in this environment.\n// am1: use a single mult and divide to get the high bits,\n// max digit bits should be 26 because\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\n\nfunction am1(i, x, w, j, c, n) {\n  while (--n >= 0) {\n    var v = x * this[i++] + w[j] + c;\n    c = Math.floor(v / 0x4000000);\n    w[j++] = v & 0x3ffffff;\n  }\n\n  return c;\n} // am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\n\n\nfunction am2(i, x, w, j, c, n) {\n  var xl = x & 0x7fff,\n      xh = x >> 15;\n\n  while (--n >= 0) {\n    var l = this[i] & 0x7fff;\n    var h = this[i++] >> 15;\n    var m = xh * l + h * xl;\n    l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);\n    c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);\n    w[j++] = l & 0x3fffffff;\n  }\n\n  return c;\n} // Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\n\n\nfunction am3(i, x, w, j, c, n) {\n  var xl = x & 0x3fff,\n      xh = x >> 14;\n\n  while (--n >= 0) {\n    var l = this[i] & 0x3fff;\n    var h = this[i++] >> 14;\n    var m = xh * l + h * xl;\n    l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;\n    c = (l >> 28) + (m >> 14) + xh * h;\n    w[j++] = l & 0xfffffff;\n  }\n\n  return c;\n}\n\nvar inBrowser = typeof navigator !== 'undefined';\n\nif (inBrowser && j_lm && navigator.appName == 'Microsoft Internet Explorer') {\n  BigInteger.prototype.am = am2;\n  dbits = 30;\n} else if (inBrowser && j_lm && navigator.appName != 'Netscape') {\n  BigInteger.prototype.am = am1;\n  dbits = 26;\n} else {\n  // Mozilla/Netscape seems to prefer am3\n  BigInteger.prototype.am = am3;\n  dbits = 28;\n}\n\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = (1 << dbits) - 1;\nBigInteger.prototype.DV = 1 << dbits;\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2, BI_FP);\nBigInteger.prototype.F1 = BI_FP - dbits;\nBigInteger.prototype.F2 = 2 * dbits - BI_FP; // Digit conversions\n\nvar BI_RM = '0123456789abcdefghijklmnopqrstuvwxyz';\nvar BI_RC = new Array();\nvar rr, vv;\nrr = '0'.charCodeAt(0);\n\nfor (vv = 0; vv <= 9; ++vv) {\n  BI_RC[rr++] = vv;\n}\n\nrr = 'a'.charCodeAt(0);\n\nfor (vv = 10; vv < 36; ++vv) {\n  BI_RC[rr++] = vv;\n}\n\nrr = 'A'.charCodeAt(0);\n\nfor (vv = 10; vv < 36; ++vv) {\n  BI_RC[rr++] = vv;\n}\n\nfunction int2char(n) {\n  return BI_RM.charAt(n);\n}\n\nfunction intAt(s, i) {\n  var c = BI_RC[s.charCodeAt(i)];\n  return c == null ? -1 : c;\n} // (protected) copy this to r\n\n\nfunction bnpCopyTo(r) {\n  for (var i = this.t - 1; i >= 0; --i) {\n    r[i] = this[i];\n  }\n\n  r.t = this.t;\n  r.s = this.s;\n} // (protected) set from integer value x, -DV <= x < DV\n\n\nfunction bnpFromInt(x) {\n  this.t = 1;\n  this.s = x < 0 ? -1 : 0;\n  if (x > 0) this[0] = x;else if (x < -1) this[0] = x + this.DV;else this.t = 0;\n} // return bigint initialized to value\n\n\nfunction nbv(i) {\n  var r = nbi();\n  r.fromInt(i);\n  return r;\n} // (protected) set from string and radix\n\n\nfunction bnpFromString(s, b) {\n  var k;\n  if (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else throw new Error('Only radix 2, 4, 8, 16, 32 are supported');\n  this.t = 0;\n  this.s = 0;\n  var i = s.length,\n      mi = false,\n      sh = 0;\n\n  while (--i >= 0) {\n    var x = intAt(s, i);\n\n    if (x < 0) {\n      if (s.charAt(i) == '-') mi = true;\n      continue;\n    }\n\n    mi = false;\n    if (sh == 0) this[this.t++] = x;else if (sh + k > this.DB) {\n      this[this.t - 1] |= (x & (1 << this.DB - sh) - 1) << sh;\n      this[this.t++] = x >> this.DB - sh;\n    } else this[this.t - 1] |= x << sh;\n    sh += k;\n    if (sh >= this.DB) sh -= this.DB;\n  }\n\n  this.clamp();\n  if (mi) BigInteger.ZERO.subTo(this, this);\n} // (protected) clamp off excess high words\n\n\nfunction bnpClamp() {\n  var c = this.s & this.DM;\n\n  while (this.t > 0 && this[this.t - 1] == c) {\n    --this.t;\n  }\n} // (public) return string representation in given radix\n\n\nfunction bnToString(b) {\n  if (this.s < 0) return '-' + this.negate().toString(b);\n  var k;\n  if (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else throw new Error('Only radix 2, 4, 8, 16, 32 are supported');\n  var km = (1 << k) - 1,\n      d,\n      m = false,\n      r = '',\n      i = this.t;\n  var p = this.DB - i * this.DB % k;\n\n  if (i-- > 0) {\n    if (p < this.DB && (d = this[i] >> p) > 0) {\n      m = true;\n      r = int2char(d);\n    }\n\n    while (i >= 0) {\n      if (p < k) {\n        d = (this[i] & (1 << p) - 1) << k - p;\n        d |= this[--i] >> (p += this.DB - k);\n      } else {\n        d = this[i] >> (p -= k) & km;\n\n        if (p <= 0) {\n          p += this.DB;\n          --i;\n        }\n      }\n\n      if (d > 0) m = true;\n      if (m) r += int2char(d);\n    }\n  }\n\n  return m ? r : '0';\n} // (public) -this\n\n\nfunction bnNegate() {\n  var r = nbi();\n  BigInteger.ZERO.subTo(this, r);\n  return r;\n} // (public) |this|\n\n\nfunction bnAbs() {\n  return this.s < 0 ? this.negate() : this;\n} // (public) return + if this > a, - if this < a, 0 if equal\n\n\nfunction bnCompareTo(a) {\n  var r = this.s - a.s;\n  if (r != 0) return r;\n  var i = this.t;\n  r = i - a.t;\n  if (r != 0) return this.s < 0 ? -r : r;\n\n  while (--i >= 0) {\n    if ((r = this[i] - a[i]) != 0) return r;\n  }\n\n  return 0;\n} // returns bit length of the integer x\n\n\nfunction nbits(x) {\n  var r = 1,\n      t;\n\n  if ((t = x >>> 16) != 0) {\n    x = t;\n    r += 16;\n  }\n\n  if ((t = x >> 8) != 0) {\n    x = t;\n    r += 8;\n  }\n\n  if ((t = x >> 4) != 0) {\n    x = t;\n    r += 4;\n  }\n\n  if ((t = x >> 2) != 0) {\n    x = t;\n    r += 2;\n  }\n\n  if ((t = x >> 1) != 0) {\n    x = t;\n    r += 1;\n  }\n\n  return r;\n} // (public) return the number of bits in \"this\"\n\n\nfunction bnBitLength() {\n  if (this.t <= 0) return 0;\n  return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM);\n} // (protected) r = this << n*DB\n\n\nfunction bnpDLShiftTo(n, r) {\n  var i;\n\n  for (i = this.t - 1; i >= 0; --i) {\n    r[i + n] = this[i];\n  }\n\n  for (i = n - 1; i >= 0; --i) {\n    r[i] = 0;\n  }\n\n  r.t = this.t + n;\n  r.s = this.s;\n} // (protected) r = this >> n*DB\n\n\nfunction bnpDRShiftTo(n, r) {\n  for (var i = n; i < this.t; ++i) {\n    r[i - n] = this[i];\n  }\n\n  r.t = Math.max(this.t - n, 0);\n  r.s = this.s;\n} // (protected) r = this << n\n\n\nfunction bnpLShiftTo(n, r) {\n  var bs = n % this.DB;\n  var cbs = this.DB - bs;\n  var bm = (1 << cbs) - 1;\n  var ds = Math.floor(n / this.DB),\n      c = this.s << bs & this.DM,\n      i;\n\n  for (i = this.t - 1; i >= 0; --i) {\n    r[i + ds + 1] = this[i] >> cbs | c;\n    c = (this[i] & bm) << bs;\n  }\n\n  for (i = ds - 1; i >= 0; --i) {\n    r[i] = 0;\n  }\n\n  r[ds] = c;\n  r.t = this.t + ds + 1;\n  r.s = this.s;\n  r.clamp();\n} // (protected) r = this >> n\n\n\nfunction bnpRShiftTo(n, r) {\n  r.s = this.s;\n  var ds = Math.floor(n / this.DB);\n\n  if (ds >= this.t) {\n    r.t = 0;\n    return;\n  }\n\n  var bs = n % this.DB;\n  var cbs = this.DB - bs;\n  var bm = (1 << bs) - 1;\n  r[0] = this[ds] >> bs;\n\n  for (var i = ds + 1; i < this.t; ++i) {\n    r[i - ds - 1] |= (this[i] & bm) << cbs;\n    r[i - ds] = this[i] >> bs;\n  }\n\n  if (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;\n  r.t = this.t - ds;\n  r.clamp();\n} // (protected) r = this - a\n\n\nfunction bnpSubTo(a, r) {\n  var i = 0,\n      c = 0,\n      m = Math.min(a.t, this.t);\n\n  while (i < m) {\n    c += this[i] - a[i];\n    r[i++] = c & this.DM;\n    c >>= this.DB;\n  }\n\n  if (a.t < this.t) {\n    c -= a.s;\n\n    while (i < this.t) {\n      c += this[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    c += this.s;\n  } else {\n    c += this.s;\n\n    while (i < a.t) {\n      c -= a[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    c -= a.s;\n  }\n\n  r.s = c < 0 ? -1 : 0;\n  if (c < -1) r[i++] = this.DV + c;else if (c > 0) r[i++] = c;\n  r.t = i;\n  r.clamp();\n} // (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\n\n\nfunction bnpMultiplyTo(a, r) {\n  var x = this.abs(),\n      y = a.abs();\n  var i = x.t;\n  r.t = i + y.t;\n\n  while (--i >= 0) {\n    r[i] = 0;\n  }\n\n  for (i = 0; i < y.t; ++i) {\n    r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);\n  }\n\n  r.s = 0;\n  r.clamp();\n  if (this.s != a.s) BigInteger.ZERO.subTo(r, r);\n} // (protected) r = this^2, r != this (HAC 14.16)\n\n\nfunction bnpSquareTo(r) {\n  var x = this.abs();\n  var i = r.t = 2 * x.t;\n\n  while (--i >= 0) {\n    r[i] = 0;\n  }\n\n  for (i = 0; i < x.t - 1; ++i) {\n    var c = x.am(i, x[i], r, 2 * i, 0, 1);\n\n    if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\n      r[i + x.t] -= x.DV;\n      r[i + x.t + 1] = 1;\n    }\n  }\n\n  if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);\n  r.s = 0;\n  r.clamp();\n} // (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\n\n\nfunction bnpDivRemTo(m, q, r) {\n  var pm = m.abs();\n  if (pm.t <= 0) return;\n  var pt = this.abs();\n\n  if (pt.t < pm.t) {\n    if (q != null) q.fromInt(0);\n    if (r != null) this.copyTo(r);\n    return;\n  }\n\n  if (r == null) r = nbi();\n  var y = nbi(),\n      ts = this.s,\n      ms = m.s;\n  var nsh = this.DB - nbits(pm[pm.t - 1]); // normalize modulus\n\n  if (nsh > 0) {\n    pm.lShiftTo(nsh, y);\n    pt.lShiftTo(nsh, r);\n  } else {\n    pm.copyTo(y);\n    pt.copyTo(r);\n  }\n\n  var ys = y.t;\n  var y0 = y[ys - 1];\n  if (y0 == 0) return;\n  var yt = y0 * (1 << this.F1) + (ys > 1 ? y[ys - 2] >> this.F2 : 0);\n  var d1 = this.FV / yt,\n      d2 = (1 << this.F1) / yt,\n      e = 1 << this.F2;\n  var i = r.t,\n      j = i - ys,\n      t = q == null ? nbi() : q;\n  y.dlShiftTo(j, t);\n\n  if (r.compareTo(t) >= 0) {\n    r[r.t++] = 1;\n    r.subTo(t, r);\n  }\n\n  BigInteger.ONE.dlShiftTo(ys, t);\n  t.subTo(y, y); // \"negative\" y so we can replace sub with am later\n\n  while (y.t < ys) {\n    y[y.t++] = 0;\n  }\n\n  while (--j >= 0) {\n    // Estimate quotient digit\n    var qd = r[--i] == y0 ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);\n\n    if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {\n      // Try it out\n      y.dlShiftTo(j, t);\n      r.subTo(t, r);\n\n      while (r[i] < --qd) {\n        r.subTo(t, r);\n      }\n    }\n  }\n\n  if (q != null) {\n    r.drShiftTo(ys, q);\n    if (ts != ms) BigInteger.ZERO.subTo(q, q);\n  }\n\n  r.t = ys;\n  r.clamp();\n  if (nsh > 0) r.rShiftTo(nsh, r); // Denormalize remainder\n\n  if (ts < 0) BigInteger.ZERO.subTo(r, r);\n} // (public) this mod a\n\n\nfunction bnMod(a) {\n  var r = nbi();\n  this.abs().divRemTo(a, null, r);\n  if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r);\n  return r;\n} // (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n// justification:\n//         xy == 1 (mod m)\n//         xy =  1+km\n//   xy(2-xy) = (1+km)(1-km)\n// x[y(2-xy)] = 1-k^2m^2\n// x[y(2-xy)] == 1 (mod m^2)\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\n\n\nfunction bnpInvDigit() {\n  if (this.t < 1) return 0;\n  var x = this[0];\n  if ((x & 1) == 0) return 0;\n  var y = x & 3; // y == 1/x mod 2^2\n\n  y = y * (2 - (x & 0xf) * y) & 0xf; // y == 1/x mod 2^4\n\n  y = y * (2 - (x & 0xff) * y) & 0xff; // y == 1/x mod 2^8\n\n  y = y * (2 - ((x & 0xffff) * y & 0xffff)) & 0xffff; // y == 1/x mod 2^16\n  // last step - calculate inverse mod DV directly;\n  // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n\n  y = y * (2 - x * y % this.DV) % this.DV; // y == 1/x mod 2^dbits\n  // we really want the negative inverse, and -DV < y < DV\n\n  return y > 0 ? this.DV - y : -y;\n}\n\nfunction bnEquals(a) {\n  return this.compareTo(a) == 0;\n} // (protected) r = this + a\n\n\nfunction bnpAddTo(a, r) {\n  var i = 0,\n      c = 0,\n      m = Math.min(a.t, this.t);\n\n  while (i < m) {\n    c += this[i] + a[i];\n    r[i++] = c & this.DM;\n    c >>= this.DB;\n  }\n\n  if (a.t < this.t) {\n    c += a.s;\n\n    while (i < this.t) {\n      c += this[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    c += this.s;\n  } else {\n    c += this.s;\n\n    while (i < a.t) {\n      c += a[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    c += a.s;\n  }\n\n  r.s = c < 0 ? -1 : 0;\n  if (c > 0) r[i++] = c;else if (c < -1) r[i++] = this.DV + c;\n  r.t = i;\n  r.clamp();\n} // (public) this + a\n\n\nfunction bnAdd(a) {\n  var r = nbi();\n  this.addTo(a, r);\n  return r;\n} // (public) this - a\n\n\nfunction bnSubtract(a) {\n  var r = nbi();\n  this.subTo(a, r);\n  return r;\n} // (public) this * a\n\n\nfunction bnMultiply(a) {\n  var r = nbi();\n  this.multiplyTo(a, r);\n  return r;\n} // (public) this / a\n\n\nfunction bnDivide(a) {\n  var r = nbi();\n  this.divRemTo(a, r, null);\n  return r;\n} // Montgomery reduction\n\n\nfunction Montgomery(m) {\n  this.m = m;\n  this.mp = m.invDigit();\n  this.mpl = this.mp & 0x7fff;\n  this.mph = this.mp >> 15;\n  this.um = (1 << m.DB - 15) - 1;\n  this.mt2 = 2 * m.t;\n} // xR mod m\n\n\nfunction montConvert(x) {\n  var r = nbi();\n  x.abs().dlShiftTo(this.m.t, r);\n  r.divRemTo(this.m, null, r);\n  if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r);\n  return r;\n} // x/R mod m\n\n\nfunction montRevert(x) {\n  var r = nbi();\n  x.copyTo(r);\n  this.reduce(r);\n  return r;\n} // x = x/R mod m (HAC 14.32)\n\n\nfunction montReduce(x) {\n  while (x.t <= this.mt2) {\n    // pad x so am has enough room later\n    x[x.t++] = 0;\n  }\n\n  for (var i = 0; i < this.m.t; ++i) {\n    // faster way of calculating u0 = x[i]*mp mod DV\n    var j = x[i] & 0x7fff;\n    var u0 = j * this.mpl + ((j * this.mph + (x[i] >> 15) * this.mpl & this.um) << 15) & x.DM; // use am to combine the multiply-shift-add into one call\n\n    j = i + this.m.t;\n    x[j] += this.m.am(0, u0, x, i, 0, this.m.t); // propagate carry\n\n    while (x[j] >= x.DV) {\n      x[j] -= x.DV;\n      x[++j]++;\n    }\n  }\n\n  x.clamp();\n  x.drShiftTo(this.m.t, x);\n  if (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\n} // r = \"x^2/R mod m\"; x != r\n\n\nfunction montSqrTo(x, r) {\n  x.squareTo(r);\n  this.reduce(r);\n} // r = \"xy/R mod m\"; x,y != r\n\n\nfunction montMulTo(x, y, r) {\n  x.multiplyTo(y, r);\n  this.reduce(r);\n}\n\nMontgomery.prototype.convert = montConvert;\nMontgomery.prototype.revert = montRevert;\nMontgomery.prototype.reduce = montReduce;\nMontgomery.prototype.mulTo = montMulTo;\nMontgomery.prototype.sqrTo = montSqrTo; // (public) this^e % m (HAC 14.85)\n\nfunction bnModPow(e, m, callback) {\n  var i = e.bitLength(),\n      k,\n      r = nbv(1),\n      z = new Montgomery(m);\n  if (i <= 0) return r;else if (i < 18) k = 1;else if (i < 48) k = 3;else if (i < 144) k = 4;else if (i < 768) k = 5;else k = 6; // precomputation\n\n  var g = new Array(),\n      n = 3,\n      k1 = k - 1,\n      km = (1 << k) - 1;\n  g[1] = z.convert(this);\n\n  if (k > 1) {\n    var g2 = nbi();\n    z.sqrTo(g[1], g2);\n\n    while (n <= km) {\n      g[n] = nbi();\n      z.mulTo(g2, g[n - 2], g[n]);\n      n += 2;\n    }\n  }\n\n  var j = e.t - 1,\n      w,\n      is1 = true,\n      r2 = nbi(),\n      t;\n  i = nbits(e[j]) - 1;\n\n  while (j >= 0) {\n    if (i >= k1) w = e[j] >> i - k1 & km;else {\n      w = (e[j] & (1 << i + 1) - 1) << k1 - i;\n      if (j > 0) w |= e[j - 1] >> this.DB + i - k1;\n    }\n    n = k;\n\n    while ((w & 1) == 0) {\n      w >>= 1;\n      --n;\n    }\n\n    if ((i -= n) < 0) {\n      i += this.DB;\n      --j;\n    }\n\n    if (is1) {\n      // ret == 1, don't bother squaring or multiplying it\n      g[w].copyTo(r);\n      is1 = false;\n    } else {\n      while (n > 1) {\n        z.sqrTo(r, r2);\n        z.sqrTo(r2, r);\n        n -= 2;\n      }\n\n      if (n > 0) z.sqrTo(r, r2);else {\n        t = r;\n        r = r2;\n        r2 = t;\n      }\n      z.mulTo(r2, g[w], r);\n    }\n\n    while (j >= 0 && (e[j] & 1 << i) == 0) {\n      z.sqrTo(r, r2);\n      t = r;\n      r = r2;\n      r2 = t;\n\n      if (--i < 0) {\n        i = this.DB - 1;\n        --j;\n      }\n    }\n  }\n\n  var result = z.revert(r);\n  callback(null, result);\n  return result;\n} // protected\n\n\nBigInteger.prototype.copyTo = bnpCopyTo;\nBigInteger.prototype.fromInt = bnpFromInt;\nBigInteger.prototype.fromString = bnpFromString;\nBigInteger.prototype.clamp = bnpClamp;\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\nBigInteger.prototype.subTo = bnpSubTo;\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\nBigInteger.prototype.squareTo = bnpSquareTo;\nBigInteger.prototype.divRemTo = bnpDivRemTo;\nBigInteger.prototype.invDigit = bnpInvDigit;\nBigInteger.prototype.addTo = bnpAddTo; // public\n\nBigInteger.prototype.toString = bnToString;\nBigInteger.prototype.negate = bnNegate;\nBigInteger.prototype.abs = bnAbs;\nBigInteger.prototype.compareTo = bnCompareTo;\nBigInteger.prototype.bitLength = bnBitLength;\nBigInteger.prototype.mod = bnMod;\nBigInteger.prototype.equals = bnEquals;\nBigInteger.prototype.add = bnAdd;\nBigInteger.prototype.subtract = bnSubtract;\nBigInteger.prototype.multiply = bnMultiply;\nBigInteger.prototype.divide = bnDivide;\nBigInteger.prototype.modPow = bnModPow; // \"constants\"\n\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar AuthenticationDetails = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AuthenticationDetails object\n   * @param {object=} data Creation options.\n   * @param {string} data.Username User being authenticated.\n   * @param {string} data.Password Plain-text password to authenticate with.\n   * @param {(AttributeArg[])?} data.ValidationData Application extra metadata.\n   * @param {(AttributeArg[])?} data.AuthParamaters Authentication paramaters for custom auth.\n   */\n  function AuthenticationDetails(data) {\n    var _ref = data || {},\n        ValidationData = _ref.ValidationData,\n        Username = _ref.Username,\n        Password = _ref.Password,\n        AuthParameters = _ref.AuthParameters,\n        ClientMetadata = _ref.ClientMetadata;\n\n    this.validationData = ValidationData || {};\n    this.authParameters = AuthParameters || {};\n    this.clientMetadata = ClientMetadata || {};\n    this.username = Username;\n    this.password = Password;\n  }\n  /**\n   * @returns {string} the record's username\n   */\n\n\n  var _proto = AuthenticationDetails.prototype;\n\n  _proto.getUsername = function getUsername() {\n    return this.username;\n  }\n  /**\n   * @returns {string} the record's password\n   */\n  ;\n\n  _proto.getPassword = function getPassword() {\n    return this.password;\n  }\n  /**\n   * @returns {Array} the record's validationData\n   */\n  ;\n\n  _proto.getValidationData = function getValidationData() {\n    return this.validationData;\n  }\n  /**\n   * @returns {Array} the record's authParameters\n   */\n  ;\n\n  _proto.getAuthParameters = function getAuthParameters() {\n    return this.authParameters;\n  }\n  /**\n   * @returns {ClientMetadata} the clientMetadata for a Lambda trigger\n   */\n  ;\n\n  _proto.getClientMetadata = function getClientMetadata() {\n    return this.clientMetadata;\n  };\n\n  return AuthenticationDetails;\n}();\n\nexport { AuthenticationDetails as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Buffer } from 'buffer';\nimport CryptoJS from 'crypto-js/core';\nimport 'crypto-js/lib-typedarrays'; // necessary for crypto js\n\nimport SHA256 from 'crypto-js/sha256';\nimport HmacSHA256 from 'crypto-js/hmac-sha256';\n\nvar randomBytes = function randomBytes(nBytes) {\n  return Buffer.from(CryptoJS.lib.WordArray.random(nBytes).toString(), 'hex');\n};\n\nimport BigInteger from './BigInteger';\nvar initN = 'FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD1' + '29024E088A67CC74020BBEA63B139B22514A08798E3404DD' + 'EF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245' + 'E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7ED' + 'EE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3D' + 'C2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F' + '83655D23DCA3AD961C62F356208552BB9ED529077096966D' + '670C354E4ABC9804F1746C08CA18217C32905E462E36CE3B' + 'E39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9' + 'DE2BCBF6955817183995497CEA956AE515D2261898FA0510' + '15728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64' + 'ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7' + 'ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6B' + 'F12FFA06D98A0864D87602733EC86A64521F2B18177B200C' + 'BBE117577A615D6C770988C0BAD946E208E24FA074E5AB31' + '43DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF';\nvar newPasswordRequiredChallengeUserAttributePrefix = 'userAttributes.';\n/** @class */\n\nvar AuthenticationHelper = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AuthenticationHelper object\n   * @param {string} PoolName Cognito user pool name.\n   */\n  function AuthenticationHelper(PoolName) {\n    this.N = new BigInteger(initN, 16);\n    this.g = new BigInteger('2', 16);\n    this.k = new BigInteger(this.hexHash(\"00\" + this.N.toString(16) + \"0\" + this.g.toString(16)), 16);\n    this.smallAValue = this.generateRandomSmallA();\n    this.getLargeAValue(function () {});\n    this.infoBits = Buffer.from('Caldera Derived Key', 'utf8');\n    this.poolName = PoolName;\n  }\n  /**\n   * @returns {BigInteger} small A, a random number\n   */\n\n\n  var _proto = AuthenticationHelper.prototype;\n\n  _proto.getSmallAValue = function getSmallAValue() {\n    return this.smallAValue;\n  }\n  /**\n   * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n   * @returns {void}\n   */\n  ;\n\n  _proto.getLargeAValue = function getLargeAValue(callback) {\n    var _this = this;\n\n    if (this.largeAValue) {\n      callback(null, this.largeAValue);\n    } else {\n      this.calculateA(this.smallAValue, function (err, largeAValue) {\n        if (err) {\n          callback(err, null);\n        }\n\n        _this.largeAValue = largeAValue;\n        callback(null, _this.largeAValue);\n      });\n    }\n  }\n  /**\n   * helper function to generate a random big integer\n   * @returns {BigInteger} a random value.\n   * @private\n   */\n  ;\n\n  _proto.generateRandomSmallA = function generateRandomSmallA() {\n    var hexRandom = randomBytes(128).toString('hex');\n    var randomBigInt = new BigInteger(hexRandom, 16);\n    var smallABigInt = randomBigInt.mod(this.N);\n    return smallABigInt;\n  }\n  /**\n   * helper function to generate a random string\n   * @returns {string} a random value.\n   * @private\n   */\n  ;\n\n  _proto.generateRandomString = function generateRandomString() {\n    return randomBytes(40).toString('base64');\n  }\n  /**\n   * @returns {string} Generated random value included in password hash.\n   */\n  ;\n\n  _proto.getRandomPassword = function getRandomPassword() {\n    return this.randomPassword;\n  }\n  /**\n   * @returns {string} Generated random value included in devices hash.\n   */\n  ;\n\n  _proto.getSaltDevices = function getSaltDevices() {\n    return this.SaltToHashDevices;\n  }\n  /**\n   * @returns {string} Value used to verify devices.\n   */\n  ;\n\n  _proto.getVerifierDevices = function getVerifierDevices() {\n    return this.verifierDevices;\n  }\n  /**\n   * Generate salts and compute verifier.\n   * @param {string} deviceGroupKey Devices to generate verifier for.\n   * @param {string} username User to generate verifier for.\n   * @param {nodeCallback<null>} callback Called with (err, null)\n   * @returns {void}\n   */\n  ;\n\n  _proto.generateHashDevice = function generateHashDevice(deviceGroupKey, username, callback) {\n    var _this2 = this;\n\n    this.randomPassword = this.generateRandomString();\n    var combinedString = \"\" + deviceGroupKey + username + \":\" + this.randomPassword;\n    var hashedString = this.hash(combinedString);\n    var hexRandom = randomBytes(16).toString('hex');\n    this.SaltToHashDevices = this.padHex(new BigInteger(hexRandom, 16));\n    this.g.modPow(new BigInteger(this.hexHash(this.SaltToHashDevices + hashedString), 16), this.N, function (err, verifierDevicesNotPadded) {\n      if (err) {\n        callback(err, null);\n      }\n\n      _this2.verifierDevices = _this2.padHex(verifierDevicesNotPadded);\n      callback(null, null);\n    });\n  }\n  /**\n   * Calculate the client's public value A = g^a%N\n   * with the generated random number a\n   * @param {BigInteger} a Randomly generated small A.\n   * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n   * @returns {void}\n   * @private\n   */\n  ;\n\n  _proto.calculateA = function calculateA(a, callback) {\n    var _this3 = this;\n\n    this.g.modPow(a, this.N, function (err, A) {\n      if (err) {\n        callback(err, null);\n      }\n\n      if (A.mod(_this3.N).equals(BigInteger.ZERO)) {\n        callback(new Error('Illegal paramater. A mod N cannot be 0.'), null);\n      }\n\n      callback(null, A);\n    });\n  }\n  /**\n   * Calculate the client's value U which is the hash of A and B\n   * @param {BigInteger} A Large A value.\n   * @param {BigInteger} B Server B value.\n   * @returns {BigInteger} Computed U value.\n   * @private\n   */\n  ;\n\n  _proto.calculateU = function calculateU(A, B) {\n    this.UHexHash = this.hexHash(this.padHex(A) + this.padHex(B));\n    var finalU = new BigInteger(this.UHexHash, 16);\n    return finalU;\n  }\n  /**\n   * Calculate a hash from a bitArray\n   * @param {Buffer} buf Value to hash.\n   * @returns {String} Hex-encoded hash.\n   * @private\n   */\n  ;\n\n  _proto.hash = function hash(buf) {\n    var str = buf instanceof Buffer ? CryptoJS.lib.WordArray.create(buf) : buf;\n    var hashHex = SHA256(str).toString();\n    return new Array(64 - hashHex.length).join('0') + hashHex;\n  }\n  /**\n   * Calculate a hash from a hex string\n   * @param {String} hexStr Value to hash.\n   * @returns {String} Hex-encoded hash.\n   * @private\n   */\n  ;\n\n  _proto.hexHash = function hexHash(hexStr) {\n    return this.hash(Buffer.from(hexStr, 'hex'));\n  }\n  /**\n   * Standard hkdf algorithm\n   * @param {Buffer} ikm Input key material.\n   * @param {Buffer} salt Salt value.\n   * @returns {Buffer} Strong key material.\n   * @private\n   */\n  ;\n\n  _proto.computehkdf = function computehkdf(ikm, salt) {\n    var infoBitsWordArray = CryptoJS.lib.WordArray.create(Buffer.concat([this.infoBits, Buffer.from(String.fromCharCode(1), 'utf8')]));\n    var ikmWordArray = ikm instanceof Buffer ? CryptoJS.lib.WordArray.create(ikm) : ikm;\n    var saltWordArray = salt instanceof Buffer ? CryptoJS.lib.WordArray.create(salt) : salt;\n    var prk = HmacSHA256(ikmWordArray, saltWordArray);\n    var hmac = HmacSHA256(infoBitsWordArray, prk);\n    return Buffer.from(hmac.toString(), 'hex').slice(0, 16);\n  }\n  /**\n   * Calculates the final hkdf based on computed S value, and computed U value and the key\n   * @param {String} username Username.\n   * @param {String} password Password.\n   * @param {BigInteger} serverBValue Server B value.\n   * @param {BigInteger} salt Generated salt.\n   * @param {nodeCallback<Buffer>} callback Called with (err, hkdfValue)\n   * @returns {void}\n   */\n  ;\n\n  _proto.getPasswordAuthenticationKey = function getPasswordAuthenticationKey(username, password, serverBValue, salt, callback) {\n    var _this4 = this;\n\n    if (serverBValue.mod(this.N).equals(BigInteger.ZERO)) {\n      throw new Error('B cannot be zero.');\n    }\n\n    this.UValue = this.calculateU(this.largeAValue, serverBValue);\n\n    if (this.UValue.equals(BigInteger.ZERO)) {\n      throw new Error('U cannot be zero.');\n    }\n\n    var usernamePassword = \"\" + this.poolName + username + \":\" + password;\n    var usernamePasswordHash = this.hash(usernamePassword);\n    var xValue = new BigInteger(this.hexHash(this.padHex(salt) + usernamePasswordHash), 16);\n    this.calculateS(xValue, serverBValue, function (err, sValue) {\n      if (err) {\n        callback(err, null);\n      }\n\n      var hkdf = _this4.computehkdf(Buffer.from(_this4.padHex(sValue), 'hex'), Buffer.from(_this4.padHex(_this4.UValue.toString(16)), 'hex'));\n\n      callback(null, hkdf);\n    });\n  }\n  /**\n   * Calculates the S value used in getPasswordAuthenticationKey\n   * @param {BigInteger} xValue Salted password hash value.\n   * @param {BigInteger} serverBValue Server B value.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.calculateS = function calculateS(xValue, serverBValue, callback) {\n    var _this5 = this;\n\n    this.g.modPow(xValue, this.N, function (err, gModPowXN) {\n      if (err) {\n        callback(err, null);\n      }\n\n      var intValue2 = serverBValue.subtract(_this5.k.multiply(gModPowXN));\n      intValue2.modPow(_this5.smallAValue.add(_this5.UValue.multiply(xValue)), _this5.N, function (err2, result) {\n        if (err2) {\n          callback(err2, null);\n        }\n\n        callback(null, result.mod(_this5.N));\n      });\n    });\n  }\n  /**\n   * Return constant newPasswordRequiredChallengeUserAttributePrefix\n   * @return {newPasswordRequiredChallengeUserAttributePrefix} constant prefix value\n   */\n  ;\n\n  _proto.getNewPasswordRequiredChallengeUserAttributePrefix = function getNewPasswordRequiredChallengeUserAttributePrefix() {\n    return newPasswordRequiredChallengeUserAttributePrefix;\n  }\n  /**\n   * Converts a BigInteger (or hex string) to hex format padded with zeroes for hashing\n   * @param {BigInteger|String} bigInt Number or string to pad.\n   * @returns {String} Padded hex string.\n   */\n  ;\n\n  _proto.padHex = function padHex(bigInt) {\n    var hashStr = bigInt.toString(16);\n\n    if (hashStr.length % 2 === 1) {\n      hashStr = \"0\" + hashStr;\n    } else if ('89ABCDEFabcdef'.indexOf(hashStr[0]) !== -1) {\n      hashStr = \"00\" + hashStr;\n    }\n\n    return hashStr;\n  };\n\n  return AuthenticationHelper;\n}();\n\nexport { AuthenticationHelper as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Buffer } from 'buffer';\n/** @class */\n\nvar CognitoJwtToken = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoJwtToken object\n   * @param {string=} token The JWT token.\n   */\n  function CognitoJwtToken(token) {\n    // Assign object\n    this.jwtToken = token || '';\n    this.payload = this.decodePayload();\n  }\n  /**\n   * @returns {string} the record's token.\n   */\n\n\n  var _proto = CognitoJwtToken.prototype;\n\n  _proto.getJwtToken = function getJwtToken() {\n    return this.jwtToken;\n  }\n  /**\n   * @returns {int} the token's expiration (exp member).\n   */\n  ;\n\n  _proto.getExpiration = function getExpiration() {\n    return this.payload.exp;\n  }\n  /**\n   * @returns {int} the token's \"issued at\" (iat member).\n   */\n  ;\n\n  _proto.getIssuedAt = function getIssuedAt() {\n    return this.payload.iat;\n  }\n  /**\n   * @returns {object} the token's payload.\n   */\n  ;\n\n  _proto.decodePayload = function decodePayload() {\n    var payload = this.jwtToken.split('.')[1];\n\n    try {\n      return JSON.parse(Buffer.from(payload, 'base64').toString('utf8'));\n    } catch (err) {\n      return {};\n    }\n  };\n\n  return CognitoJwtToken;\n}();\n\nexport { CognitoJwtToken as default };","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport CognitoJwtToken from './CognitoJwtToken';\n/** @class */\n\nvar CognitoAccessToken = /*#__PURE__*/function (_CognitoJwtToken) {\n  _inheritsLoose(CognitoAccessToken, _CognitoJwtToken);\n\n  /**\n   * Constructs a new CognitoAccessToken object\n   * @param {string=} AccessToken The JWT access token.\n   */\n  function CognitoAccessToken(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        AccessToken = _ref.AccessToken;\n\n    return _CognitoJwtToken.call(this, AccessToken || '') || this;\n  }\n\n  return CognitoAccessToken;\n}(CognitoJwtToken);\n\nexport { CognitoAccessToken as default };","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport CognitoJwtToken from './CognitoJwtToken';\n/** @class */\n\nvar CognitoIdToken = /*#__PURE__*/function (_CognitoJwtToken) {\n  _inheritsLoose(CognitoIdToken, _CognitoJwtToken);\n\n  /**\n   * Constructs a new CognitoIdToken object\n   * @param {string=} IdToken The JWT Id token\n   */\n  function CognitoIdToken(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        IdToken = _ref.IdToken;\n\n    return _CognitoJwtToken.call(this, IdToken || '') || this;\n  }\n\n  return CognitoIdToken;\n}(CognitoJwtToken);\n\nexport { CognitoIdToken as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoRefreshToken = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoRefreshToken object\n   * @param {string=} RefreshToken The JWT refresh token.\n   */\n  function CognitoRefreshToken(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        RefreshToken = _ref.RefreshToken;\n\n    // Assign object\n    this.token = RefreshToken || '';\n  }\n  /**\n   * @returns {string} the record's token.\n   */\n\n\n  var _proto = CognitoRefreshToken.prototype;\n\n  _proto.getToken = function getToken() {\n    return this.token;\n  };\n\n  return CognitoRefreshToken;\n}();\n\nexport { CognitoRefreshToken as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoUserSession = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUserSession object\n   * @param {CognitoIdToken} IdToken The session's Id token.\n   * @param {CognitoRefreshToken=} RefreshToken The session's refresh token.\n   * @param {CognitoAccessToken} AccessToken The session's access token.\n   * @param {int} ClockDrift The saved computer's clock drift or undefined to force calculation.\n   */\n  function CognitoUserSession(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        IdToken = _ref.IdToken,\n        RefreshToken = _ref.RefreshToken,\n        AccessToken = _ref.AccessToken,\n        ClockDrift = _ref.ClockDrift;\n\n    if (AccessToken == null || IdToken == null) {\n      throw new Error('Id token and Access Token must be present.');\n    }\n\n    this.idToken = IdToken;\n    this.refreshToken = RefreshToken;\n    this.accessToken = AccessToken;\n    this.clockDrift = ClockDrift === undefined ? this.calculateClockDrift() : ClockDrift;\n  }\n  /**\n   * @returns {CognitoIdToken} the session's Id token\n   */\n\n\n  var _proto = CognitoUserSession.prototype;\n\n  _proto.getIdToken = function getIdToken() {\n    return this.idToken;\n  }\n  /**\n   * @returns {CognitoRefreshToken} the session's refresh token\n   */\n  ;\n\n  _proto.getRefreshToken = function getRefreshToken() {\n    return this.refreshToken;\n  }\n  /**\n   * @returns {CognitoAccessToken} the session's access token\n   */\n  ;\n\n  _proto.getAccessToken = function getAccessToken() {\n    return this.accessToken;\n  }\n  /**\n   * @returns {int} the session's clock drift\n   */\n  ;\n\n  _proto.getClockDrift = function getClockDrift() {\n    return this.clockDrift;\n  }\n  /**\n   * @returns {int} the computer's clock drift\n   */\n  ;\n\n  _proto.calculateClockDrift = function calculateClockDrift() {\n    var now = Math.floor(new Date() / 1000);\n    var iat = Math.min(this.accessToken.getIssuedAt(), this.idToken.getIssuedAt());\n    return now - iat;\n  }\n  /**\n   * Checks to see if the session is still valid based on session expiry information found\n   * in tokens and the current time (adjusted with clock drift)\n   * @returns {boolean} if the session is still valid\n   */\n  ;\n\n  _proto.isValid = function isValid() {\n    var now = Math.floor(new Date() / 1000);\n    var adjusted = now - this.clockDrift;\n    return adjusted < this.accessToken.getExpiration() && adjusted < this.idToken.getExpiration();\n  };\n\n  return CognitoUserSession;\n}();\n\nexport { CognitoUserSession as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nvar monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nvar weekNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n/** @class */\n\nvar DateHelper = /*#__PURE__*/function () {\n  function DateHelper() {}\n\n  var _proto = DateHelper.prototype;\n\n  /**\n   * @returns {string} The current time in \"ddd MMM D HH:mm:ss UTC YYYY\" format.\n   */\n  _proto.getNowString = function getNowString() {\n    var now = new Date();\n    var weekDay = weekNames[now.getUTCDay()];\n    var month = monthNames[now.getUTCMonth()];\n    var day = now.getUTCDate();\n    var hours = now.getUTCHours();\n\n    if (hours < 10) {\n      hours = \"0\" + hours;\n    }\n\n    var minutes = now.getUTCMinutes();\n\n    if (minutes < 10) {\n      minutes = \"0\" + minutes;\n    }\n\n    var seconds = now.getUTCSeconds();\n\n    if (seconds < 10) {\n      seconds = \"0\" + seconds;\n    }\n\n    var year = now.getUTCFullYear(); // ddd MMM D HH:mm:ss UTC YYYY\n\n    var dateNow = weekDay + \" \" + month + \" \" + day + \" \" + hours + \":\" + minutes + \":\" + seconds + \" UTC \" + year;\n    return dateNow;\n  };\n\n  return DateHelper;\n}();\n\nexport { DateHelper as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoUserAttribute = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUserAttribute object\n   * @param {string=} Name The record's name\n   * @param {string=} Value The record's value\n   */\n  function CognitoUserAttribute(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        Name = _ref.Name,\n        Value = _ref.Value;\n\n    this.Name = Name || '';\n    this.Value = Value || '';\n  }\n  /**\n   * @returns {string} the record's value.\n   */\n\n\n  var _proto = CognitoUserAttribute.prototype;\n\n  _proto.getValue = function getValue() {\n    return this.Value;\n  }\n  /**\n   * Sets the record's value.\n   * @param {string} value The new value.\n   * @returns {CognitoUserAttribute} The record for method chaining.\n   */\n  ;\n\n  _proto.setValue = function setValue(value) {\n    this.Value = value;\n    return this;\n  }\n  /**\n   * @returns {string} the record's name.\n   */\n  ;\n\n  _proto.getName = function getName() {\n    return this.Name;\n  }\n  /**\n   * Sets the record's name\n   * @param {string} name The new name.\n   * @returns {CognitoUserAttribute} The record for method chaining.\n   */\n  ;\n\n  _proto.setName = function setName(name) {\n    this.Name = name;\n    return this;\n  }\n  /**\n   * @returns {string} a string representation of the record.\n   */\n  ;\n\n  _proto.toString = function toString() {\n    return JSON.stringify(this);\n  }\n  /**\n   * @returns {object} a flat object representing the record.\n   */\n  ;\n\n  _proto.toJSON = function toJSON() {\n    return {\n      Name: this.Name,\n      Value: this.Value\n    };\n  };\n\n  return CognitoUserAttribute;\n}();\n\nexport { CognitoUserAttribute as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nvar dataMemory = {};\n/** @class */\n\nvar MemoryStorage = /*#__PURE__*/function () {\n  function MemoryStorage() {}\n\n  /**\n   * This is used to set a specific item in storage\n   * @param {string} key - the key for the item\n   * @param {object} value - the value\n   * @returns {string} value that was set\n   */\n  MemoryStorage.setItem = function setItem(key, value) {\n    dataMemory[key] = value;\n    return dataMemory[key];\n  }\n  /**\n   * This is used to get a specific key from storage\n   * @param {string} key - the key for the item\n   * This is used to clear the storage\n   * @returns {string} the data item\n   */\n  ;\n\n  MemoryStorage.getItem = function getItem(key) {\n    return Object.prototype.hasOwnProperty.call(dataMemory, key) ? dataMemory[key] : undefined;\n  }\n  /**\n   * This is used to remove an item from storage\n   * @param {string} key - the key being set\n   * @returns {string} value - value that was deleted\n   */\n  ;\n\n  MemoryStorage.removeItem = function removeItem(key) {\n    return delete dataMemory[key];\n  }\n  /**\n   * This is used to clear the storage\n   * @returns {string} nothing\n   */\n  ;\n\n  MemoryStorage.clear = function clear() {\n    dataMemory = {};\n    return dataMemory;\n  };\n\n  return MemoryStorage;\n}();\n/** @class */\n\n\nvar StorageHelper = /*#__PURE__*/function () {\n  /**\n   * This is used to get a storage object\n   * @returns {object} the storage\n   */\n  function StorageHelper() {\n    try {\n      this.storageWindow = window.localStorage;\n      this.storageWindow.setItem('aws.cognito.test-ls', 1);\n      this.storageWindow.removeItem('aws.cognito.test-ls');\n    } catch (exception) {\n      this.storageWindow = MemoryStorage;\n    }\n  }\n  /**\n   * This is used to return the storage\n   * @returns {object} the storage\n   */\n\n\n  var _proto = StorageHelper.prototype;\n\n  _proto.getStorage = function getStorage() {\n    return this.storageWindow;\n  };\n\n  return StorageHelper;\n}();\n\nexport { StorageHelper as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Buffer } from 'buffer';\nimport CryptoJS from 'crypto-js/core';\nimport TypedArrays from 'crypto-js/lib-typedarrays'; // necessary for crypto js\n\nimport Base64 from 'crypto-js/enc-base64';\nimport HmacSHA256 from 'crypto-js/hmac-sha256';\nimport BigInteger from './BigInteger';\nimport AuthenticationHelper from './AuthenticationHelper';\nimport CognitoAccessToken from './CognitoAccessToken';\nimport CognitoIdToken from './CognitoIdToken';\nimport CognitoRefreshToken from './CognitoRefreshToken';\nimport CognitoUserSession from './CognitoUserSession';\nimport DateHelper from './DateHelper';\nimport CognitoUserAttribute from './CognitoUserAttribute';\nimport StorageHelper from './StorageHelper';\n/**\n * @callback nodeCallback\n * @template T result\n * @param {*} err The operation failure reason, or null.\n * @param {T} result The operation result.\n */\n\n/**\n * @callback onFailure\n * @param {*} err Failure reason.\n */\n\n/**\n * @callback onSuccess\n * @template T result\n * @param {T} result The operation result.\n */\n\n/**\n * @callback mfaRequired\n * @param {*} details MFA challenge details.\n */\n\n/**\n * @callback customChallenge\n * @param {*} details Custom challenge details.\n */\n\n/**\n * @callback inputVerificationCode\n * @param {*} data Server response.\n */\n\n/**\n * @callback authSuccess\n * @param {CognitoUserSession} session The new session.\n * @param {bool=} userConfirmationNecessary User must be confirmed.\n */\n\nvar isBrowser = typeof navigator !== 'undefined';\nvar userAgent = isBrowser ? navigator.userAgent : 'nodejs';\n/** @class */\n\nvar CognitoUser = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUser object\n   * @param {object} data Creation options\n   * @param {string} data.Username The user's username.\n   * @param {CognitoUserPool} data.Pool Pool containing the user.\n   * @param {object} data.Storage Optional storage object.\n   */\n  function CognitoUser(data) {\n    if (data == null || data.Username == null || data.Pool == null) {\n      throw new Error('Username and pool information are required.');\n    }\n\n    this.username = data.Username || '';\n    this.pool = data.Pool;\n    this.Session = null;\n    this.client = data.Pool.client;\n    this.signInUserSession = null;\n    this.authenticationFlowType = 'USER_SRP_AUTH';\n    this.storage = data.Storage || new StorageHelper().getStorage();\n    this.keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    this.userDataKey = this.keyPrefix + \".\" + this.username + \".userData\";\n  }\n  /**\n   * Sets the session for this user\n   * @param {CognitoUserSession} signInUserSession the session\n   * @returns {void}\n   */\n\n\n  var _proto = CognitoUser.prototype;\n\n  _proto.setSignInUserSession = function setSignInUserSession(signInUserSession) {\n    this.clearCachedUserData();\n    this.signInUserSession = signInUserSession;\n    this.cacheTokens();\n  }\n  /**\n   * @returns {CognitoUserSession} the current session for this user\n   */\n  ;\n\n  _proto.getSignInUserSession = function getSignInUserSession() {\n    return this.signInUserSession;\n  }\n  /**\n   * @returns {string} the user's username\n   */\n  ;\n\n  _proto.getUsername = function getUsername() {\n    return this.username;\n  }\n  /**\n   * @returns {String} the authentication flow type\n   */\n  ;\n\n  _proto.getAuthenticationFlowType = function getAuthenticationFlowType() {\n    return this.authenticationFlowType;\n  }\n  /**\n   * sets authentication flow type\n   * @param {string} authenticationFlowType New value.\n   * @returns {void}\n   */\n  ;\n\n  _proto.setAuthenticationFlowType = function setAuthenticationFlowType(authenticationFlowType) {\n    this.authenticationFlowType = authenticationFlowType;\n  }\n  /**\n   * This is used for authenticating the user through the custom authentication flow.\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n  ;\n\n  _proto.initiateAuth = function initiateAuth(authDetails, callback) {\n    var _this = this;\n\n    var authParameters = authDetails.getAuthParameters();\n    authParameters.USERNAME = this.username;\n    var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n    var jsonReq = {\n      AuthFlow: 'CUSTOM_AUTH',\n      ClientId: this.pool.getClientId(),\n      AuthParameters: authParameters,\n      ClientMetadata: clientMetaData\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('InitiateAuth', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      var challengeName = data.ChallengeName;\n      var challengeParameters = data.ChallengeParameters;\n\n      if (challengeName === 'CUSTOM_CHALLENGE') {\n        _this.Session = data.Session;\n        return callback.customChallenge(challengeParameters);\n      }\n\n      _this.signInUserSession = _this.getCognitoUserSession(data.AuthenticationResult);\n\n      _this.cacheTokens();\n\n      return callback.onSuccess(_this.signInUserSession);\n    });\n  }\n  /**\n   * This is used for authenticating the user.\n   * stuff\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {newPasswordRequired} callback.newPasswordRequired new\n   *        password and any required attributes are required to continue\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n  ;\n\n  _proto.authenticateUser = function authenticateUser(authDetails, callback) {\n    if (this.authenticationFlowType === 'USER_PASSWORD_AUTH') {\n      return this.authenticateUserPlainUsernamePassword(authDetails, callback);\n    } else if (this.authenticationFlowType === 'USER_SRP_AUTH' || this.authenticationFlowType === 'CUSTOM_AUTH') {\n      return this.authenticateUserDefaultAuth(authDetails, callback);\n    }\n\n    return callback.onFailure(new Error('Authentication flow type is invalid.'));\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * It calls the AuthenticationHelper for SRP related\n   * stuff\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {newPasswordRequired} callback.newPasswordRequired new\n   *        password and any required attributes are required to continue\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n  ;\n\n  _proto.authenticateUserDefaultAuth = function authenticateUserDefaultAuth(authDetails, callback) {\n    var _this2 = this;\n\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    var dateHelper = new DateHelper();\n    var serverBValue;\n    var salt;\n    var authParameters = {};\n\n    if (this.deviceKey != null) {\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    authParameters.USERNAME = this.username;\n    authenticationHelper.getLargeAValue(function (errOnAValue, aValue) {\n      // getLargeAValue callback start\n      if (errOnAValue) {\n        callback.onFailure(errOnAValue);\n      }\n\n      authParameters.SRP_A = aValue.toString(16);\n\n      if (_this2.authenticationFlowType === 'CUSTOM_AUTH') {\n        authParameters.CHALLENGE_NAME = 'SRP_A';\n      }\n\n      var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n      var jsonReq = {\n        AuthFlow: _this2.authenticationFlowType,\n        ClientId: _this2.pool.getClientId(),\n        AuthParameters: authParameters,\n        ClientMetadata: clientMetaData\n      };\n\n      if (_this2.getUserContextData(_this2.username)) {\n        jsonReq.UserContextData = _this2.getUserContextData(_this2.username);\n      }\n\n      _this2.client.request('InitiateAuth', jsonReq, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        var challengeParameters = data.ChallengeParameters;\n        _this2.username = challengeParameters.USER_ID_FOR_SRP;\n        serverBValue = new BigInteger(challengeParameters.SRP_B, 16);\n        salt = new BigInteger(challengeParameters.SALT, 16);\n\n        _this2.getCachedDeviceKeyAndPassword();\n\n        authenticationHelper.getPasswordAuthenticationKey(_this2.username, authDetails.getPassword(), serverBValue, salt, function (errOnHkdf, hkdf) {\n          // getPasswordAuthenticationKey callback start\n          if (errOnHkdf) {\n            callback.onFailure(errOnHkdf);\n          }\n\n          var dateNow = dateHelper.getNowString();\n          var message = CryptoJS.lib.WordArray.create(Buffer.concat([Buffer.from(_this2.pool.getUserPoolId().split('_')[1], 'utf8'), Buffer.from(_this2.username, 'utf8'), Buffer.from(challengeParameters.SECRET_BLOCK, 'base64'), Buffer.from(dateNow, 'utf8')]));\n          var key = CryptoJS.lib.WordArray.create(hkdf);\n          var signatureString = Base64.stringify(HmacSHA256(message, key));\n          var challengeResponses = {};\n          challengeResponses.USERNAME = _this2.username;\n          challengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n          challengeResponses.TIMESTAMP = dateNow;\n          challengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n\n          if (_this2.deviceKey != null) {\n            challengeResponses.DEVICE_KEY = _this2.deviceKey;\n          }\n\n          var respondToAuthChallenge = function respondToAuthChallenge(challenge, challengeCallback) {\n            return _this2.client.request('RespondToAuthChallenge', challenge, function (errChallenge, dataChallenge) {\n              if (errChallenge && errChallenge.code === 'ResourceNotFoundException' && errChallenge.message.toLowerCase().indexOf('device') !== -1) {\n                challengeResponses.DEVICE_KEY = null;\n                _this2.deviceKey = null;\n                _this2.randomPassword = null;\n                _this2.deviceGroupKey = null;\n\n                _this2.clearCachedDeviceKeyAndPassword();\n\n                return respondToAuthChallenge(challenge, challengeCallback);\n              }\n\n              return challengeCallback(errChallenge, dataChallenge);\n            });\n          };\n\n          var jsonReqResp = {\n            ChallengeName: 'PASSWORD_VERIFIER',\n            ClientId: _this2.pool.getClientId(),\n            ChallengeResponses: challengeResponses,\n            Session: data.Session,\n            ClientMetadata: clientMetaData\n          };\n\n          if (_this2.getUserContextData()) {\n            jsonReqResp.UserContextData = _this2.getUserContextData();\n          }\n\n          respondToAuthChallenge(jsonReqResp, function (errAuthenticate, dataAuthenticate) {\n            if (errAuthenticate) {\n              return callback.onFailure(errAuthenticate);\n            }\n\n            return _this2.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n          });\n          return undefined; // getPasswordAuthenticationKey callback end\n        });\n        return undefined;\n      }); // getLargeAValue callback end\n\n    });\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * @param {AuthenticationDetails} authDetails Contains the authentication data.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n  ;\n\n  _proto.authenticateUserPlainUsernamePassword = function authenticateUserPlainUsernamePassword(authDetails, callback) {\n    var _this3 = this;\n\n    var authParameters = {};\n    authParameters.USERNAME = this.username;\n    authParameters.PASSWORD = authDetails.getPassword();\n\n    if (!authParameters.PASSWORD) {\n      callback.onFailure(new Error('PASSWORD parameter is required'));\n      return;\n    }\n\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    this.getCachedDeviceKeyAndPassword();\n\n    if (this.deviceKey != null) {\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n    var jsonReq = {\n      AuthFlow: 'USER_PASSWORD_AUTH',\n      ClientId: this.pool.getClientId(),\n      AuthParameters: authParameters,\n      ClientMetadata: clientMetaData\n    };\n\n    if (this.getUserContextData(this.username)) {\n      jsonReq.UserContextData = this.getUserContextData(this.username);\n    } // USER_PASSWORD_AUTH happens in a single round-trip: client sends userName and password,\n    // Cognito UserPools verifies password and returns tokens.\n\n\n    this.client.request('InitiateAuth', jsonReq, function (err, authResult) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return _this3.authenticateUserInternal(authResult, authenticationHelper, callback);\n    });\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * @param {object} dataAuthenticate authentication data\n   * @param {object} authenticationHelper helper created\n   * @param {callback} callback passed on from caller\n   * @returns {void}\n   */\n  ;\n\n  _proto.authenticateUserInternal = function authenticateUserInternal(dataAuthenticate, authenticationHelper, callback) {\n    var _this4 = this;\n\n    var challengeName = dataAuthenticate.ChallengeName;\n    var challengeParameters = dataAuthenticate.ChallengeParameters;\n\n    if (challengeName === 'SMS_MFA') {\n      this.Session = dataAuthenticate.Session;\n      return callback.mfaRequired(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'SELECT_MFA_TYPE') {\n      this.Session = dataAuthenticate.Session;\n      return callback.selectMFAType(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'MFA_SETUP') {\n      this.Session = dataAuthenticate.Session;\n      return callback.mfaSetup(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'SOFTWARE_TOKEN_MFA') {\n      this.Session = dataAuthenticate.Session;\n      return callback.totpRequired(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'CUSTOM_CHALLENGE') {\n      this.Session = dataAuthenticate.Session;\n      return callback.customChallenge(challengeParameters);\n    }\n\n    if (challengeName === 'NEW_PASSWORD_REQUIRED') {\n      this.Session = dataAuthenticate.Session;\n      var userAttributes = null;\n      var rawRequiredAttributes = null;\n      var requiredAttributes = [];\n      var userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n\n      if (challengeParameters) {\n        userAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.userAttributes);\n        rawRequiredAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.requiredAttributes);\n      }\n\n      if (rawRequiredAttributes) {\n        for (var i = 0; i < rawRequiredAttributes.length; i++) {\n          requiredAttributes[i] = rawRequiredAttributes[i].substr(userAttributesPrefix.length);\n        }\n      }\n\n      return callback.newPasswordRequired(userAttributes, requiredAttributes);\n    }\n\n    if (challengeName === 'DEVICE_SRP_AUTH') {\n      this.getDeviceResponse(callback);\n      return undefined;\n    }\n\n    this.signInUserSession = this.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n    this.challengeName = challengeName;\n    this.cacheTokens();\n    var newDeviceMetadata = dataAuthenticate.AuthenticationResult.NewDeviceMetadata;\n\n    if (newDeviceMetadata == null) {\n      return callback.onSuccess(this.signInUserSession);\n    }\n\n    authenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function (errGenHash) {\n      if (errGenHash) {\n        return callback.onFailure(errGenHash);\n      }\n\n      var deviceSecretVerifierConfig = {\n        Salt: Buffer.from(authenticationHelper.getSaltDevices(), 'hex').toString('base64'),\n        PasswordVerifier: Buffer.from(authenticationHelper.getVerifierDevices(), 'hex').toString('base64')\n      };\n      _this4.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n      _this4.deviceGroupKey = newDeviceMetadata.DeviceGroupKey;\n      _this4.randomPassword = authenticationHelper.getRandomPassword();\n\n      _this4.client.request('ConfirmDevice', {\n        DeviceKey: newDeviceMetadata.DeviceKey,\n        AccessToken: _this4.signInUserSession.getAccessToken().getJwtToken(),\n        DeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n        DeviceName: userAgent\n      }, function (errConfirm, dataConfirm) {\n        if (errConfirm) {\n          return callback.onFailure(errConfirm);\n        }\n\n        _this4.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n\n        _this4.cacheDeviceKeyAndPassword();\n\n        if (dataConfirm.UserConfirmationNecessary === true) {\n          return callback.onSuccess(_this4.signInUserSession, dataConfirm.UserConfirmationNecessary);\n        }\n\n        return callback.onSuccess(_this4.signInUserSession);\n      });\n\n      return undefined;\n    });\n    return undefined;\n  }\n  /**\n   * This method is user to complete the NEW_PASSWORD_REQUIRED challenge.\n   * Pass the new password with any new user attributes to be updated.\n   * User attribute keys must be of format userAttributes.<attribute_name>.\n   * @param {string} newPassword new password for this user\n   * @param {object} requiredAttributeData map with values for all required attributes\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {mfaRequired} callback.mfaRequired MFA code required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *         response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.completeNewPasswordChallenge = function completeNewPasswordChallenge(newPassword, requiredAttributeData, callback, clientMetadata) {\n    var _this5 = this;\n\n    if (!newPassword) {\n      return callback.onFailure(new Error('New password is required.'));\n    }\n\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    var userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n    var finalUserAttributes = {};\n\n    if (requiredAttributeData) {\n      Object.keys(requiredAttributeData).forEach(function (key) {\n        finalUserAttributes[userAttributesPrefix + key] = requiredAttributeData[key];\n      });\n    }\n\n    finalUserAttributes.NEW_PASSWORD = newPassword;\n    finalUserAttributes.USERNAME = this.username;\n    var jsonReq = {\n      ChallengeName: 'NEW_PASSWORD_REQUIRED',\n      ClientId: this.pool.getClientId(),\n      ChallengeResponses: finalUserAttributes,\n      Session: this.Session,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (errAuthenticate, dataAuthenticate) {\n      if (errAuthenticate) {\n        return callback.onFailure(errAuthenticate);\n      }\n\n      return _this5.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n    });\n    return undefined;\n  }\n  /**\n   * This is used to get a session using device authentication. It is called at the end of user\n   * authentication\n   *\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   * @private\n   */\n  ;\n\n  _proto.getDeviceResponse = function getDeviceResponse(callback, clientMetadata) {\n    var _this6 = this;\n\n    var authenticationHelper = new AuthenticationHelper(this.deviceGroupKey);\n    var dateHelper = new DateHelper();\n    var authParameters = {};\n    authParameters.USERNAME = this.username;\n    authParameters.DEVICE_KEY = this.deviceKey;\n    authenticationHelper.getLargeAValue(function (errAValue, aValue) {\n      // getLargeAValue callback start\n      if (errAValue) {\n        callback.onFailure(errAValue);\n      }\n\n      authParameters.SRP_A = aValue.toString(16);\n      var jsonReq = {\n        ChallengeName: 'DEVICE_SRP_AUTH',\n        ClientId: _this6.pool.getClientId(),\n        ChallengeResponses: authParameters,\n        ClientMetadata: clientMetadata\n      };\n\n      if (_this6.getUserContextData()) {\n        jsonReq.UserContextData = _this6.getUserContextData();\n      }\n\n      _this6.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        var challengeParameters = data.ChallengeParameters;\n        var serverBValue = new BigInteger(challengeParameters.SRP_B, 16);\n        var salt = new BigInteger(challengeParameters.SALT, 16);\n        authenticationHelper.getPasswordAuthenticationKey(_this6.deviceKey, _this6.randomPassword, serverBValue, salt, function (errHkdf, hkdf) {\n          // getPasswordAuthenticationKey callback start\n          if (errHkdf) {\n            return callback.onFailure(errHkdf);\n          }\n\n          var dateNow = dateHelper.getNowString();\n          var message = CryptoJS.lib.WordArray.create(Buffer.concat([Buffer.from(_this6.deviceGroupKey, 'utf8'), Buffer.from(_this6.deviceKey, 'utf8'), Buffer.from(challengeParameters.SECRET_BLOCK, 'base64'), Buffer.from(dateNow, 'utf8')]));\n          var key = CryptoJS.lib.WordArray.create(hkdf);\n          var signatureString = Base64.stringify(HmacSHA256(message, key));\n          var challengeResponses = {};\n          challengeResponses.USERNAME = _this6.username;\n          challengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n          challengeResponses.TIMESTAMP = dateNow;\n          challengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n          challengeResponses.DEVICE_KEY = _this6.deviceKey;\n          var jsonReqResp = {\n            ChallengeName: 'DEVICE_PASSWORD_VERIFIER',\n            ClientId: _this6.pool.getClientId(),\n            ChallengeResponses: challengeResponses,\n            Session: data.Session\n          };\n\n          if (_this6.getUserContextData()) {\n            jsonReqResp.UserContextData = _this6.getUserContextData();\n          }\n\n          _this6.client.request('RespondToAuthChallenge', jsonReqResp, function (errAuthenticate, dataAuthenticate) {\n            if (errAuthenticate) {\n              return callback.onFailure(errAuthenticate);\n            }\n\n            _this6.signInUserSession = _this6.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n\n            _this6.cacheTokens();\n\n            return callback.onSuccess(_this6.signInUserSession);\n          });\n\n          return undefined; // getPasswordAuthenticationKey callback end\n        });\n        return undefined;\n      }); // getLargeAValue callback end\n\n    });\n  }\n  /**\n   * This is used for a certain user to confirm the registration by using a confirmation code\n   * @param {string} confirmationCode Code entered by user.\n   * @param {bool} forceAliasCreation Allow migrating from an existing email / phone number.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.confirmRegistration = function confirmRegistration(confirmationCode, forceAliasCreation, callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      ConfirmationCode: confirmationCode,\n      Username: this.username,\n      ForceAliasCreation: forceAliasCreation,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('ConfirmSignUp', jsonReq, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n  }\n  /**\n   * This is used by the user once he has the responses to a custom challenge\n   * @param {string} answerChallenge The custom challenge answer.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {customChallenge} callback.customChallenge\n   *    Custom challenge response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.sendCustomChallengeAnswer = function sendCustomChallengeAnswer(answerChallenge, callback, clientMetadata) {\n    var _this7 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.ANSWER = answerChallenge;\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    this.getCachedDeviceKeyAndPassword();\n\n    if (this.deviceKey != null) {\n      challengeResponses.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ChallengeName: 'CUSTOM_CHALLENGE',\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return _this7.authenticateUserInternal(data, authenticationHelper, callback);\n    });\n  }\n  /**\n   * This is used by the user once he has an MFA code\n   * @param {string} confirmationCode The MFA code entered by the user.\n   * @param {object} callback Result callback map.\n   * @param {string} mfaType The mfa we are replying to.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.sendMFACode = function sendMFACode(confirmationCode, callback, mfaType, clientMetadata) {\n    var _this8 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.SMS_MFA_CODE = confirmationCode;\n    var mfaTypeSelection = mfaType || 'SMS_MFA';\n\n    if (mfaTypeSelection === 'SOFTWARE_TOKEN_MFA') {\n      challengeResponses.SOFTWARE_TOKEN_MFA_CODE = confirmationCode;\n    }\n\n    if (this.deviceKey != null) {\n      challengeResponses.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ChallengeName: mfaTypeSelection,\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, dataAuthenticate) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      var challengeName = dataAuthenticate.ChallengeName;\n\n      if (challengeName === 'DEVICE_SRP_AUTH') {\n        _this8.getDeviceResponse(callback);\n\n        return undefined;\n      }\n\n      _this8.signInUserSession = _this8.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n\n      _this8.cacheTokens();\n\n      if (dataAuthenticate.AuthenticationResult.NewDeviceMetadata == null) {\n        return callback.onSuccess(_this8.signInUserSession);\n      }\n\n      var authenticationHelper = new AuthenticationHelper(_this8.pool.getUserPoolId().split('_')[1]);\n      authenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function (errGenHash) {\n        if (errGenHash) {\n          return callback.onFailure(errGenHash);\n        }\n\n        var deviceSecretVerifierConfig = {\n          Salt: Buffer.from(authenticationHelper.getSaltDevices(), 'hex').toString('base64'),\n          PasswordVerifier: Buffer.from(authenticationHelper.getVerifierDevices(), 'hex').toString('base64')\n        };\n        _this8.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n        _this8.deviceGroupKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey;\n        _this8.randomPassword = authenticationHelper.getRandomPassword();\n\n        _this8.client.request('ConfirmDevice', {\n          DeviceKey: dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey,\n          AccessToken: _this8.signInUserSession.getAccessToken().getJwtToken(),\n          DeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n          DeviceName: userAgent\n        }, function (errConfirm, dataConfirm) {\n          if (errConfirm) {\n            return callback.onFailure(errConfirm);\n          }\n\n          _this8.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n\n          _this8.cacheDeviceKeyAndPassword();\n\n          if (dataConfirm.UserConfirmationNecessary === true) {\n            return callback.onSuccess(_this8.signInUserSession, dataConfirm.UserConfirmationNecessary);\n          }\n\n          return callback.onSuccess(_this8.signInUserSession);\n        });\n\n        return undefined;\n      });\n      return undefined;\n    });\n  }\n  /**\n   * This is used by an authenticated user to change the current password\n   * @param {string} oldUserPassword The current password.\n   * @param {string} newUserPassword The requested new password.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.changePassword = function changePassword(oldUserPassword, newUserPassword, callback, clientMetadata) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('ChangePassword', {\n      PreviousPassword: oldUserPassword,\n      ProposedPassword: newUserPassword,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      ClientMetadata: clientMetadata\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to enable MFA for itself\n   * @deprecated\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.enableMFA = function enableMFA(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var mfaOptions = [];\n    var mfaEnabled = {\n      DeliveryMedium: 'SMS',\n      AttributeName: 'phone_number'\n    };\n    mfaOptions.push(mfaEnabled);\n    this.client.request('SetUserSettings', {\n      MFAOptions: mfaOptions,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to enable MFA for itself\n   * @param {IMfaSettings} smsMfaSettings the sms mfa settings\n   * @param {IMFASettings} softwareTokenMfaSettings the software token mfa settings\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.setUserMfaPreference = function setUserMfaPreference(smsMfaSettings, softwareTokenMfaSettings, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('SetUserMFAPreference', {\n      SMSMfaSettings: smsMfaSettings,\n      SoftwareTokenMfaSettings: softwareTokenMfaSettings,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to disable MFA for itself\n   * @deprecated\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.disableMFA = function disableMFA(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var mfaOptions = [];\n    this.client.request('SetUserSettings', {\n      MFAOptions: mfaOptions,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to delete itself\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.deleteUser = function deleteUser(callback, clientMetadata) {\n    var _this9 = this;\n\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('DeleteUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      ClientMetadata: clientMetadata\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      _this9.clearCachedUser();\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * @typedef {CognitoUserAttribute | { Name:string, Value:string }} AttributeArg\n   */\n\n  /**\n   * This is used by an authenticated user to change a list of attributes\n   * @param {AttributeArg[]} attributes A list of the new user attributes.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.updateAttributes = function updateAttributes(attributes, callback, clientMetadata) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('UpdateUserAttributes', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      UserAttributes: attributes,\n      ClientMetadata: clientMetadata\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to get a list of attributes\n   * @param {nodeCallback<CognitoUserAttribute[]>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getUserAttributes = function getUserAttributes(callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, userData) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      var attributeList = [];\n\n      for (var i = 0; i < userData.UserAttributes.length; i++) {\n        var attribute = {\n          Name: userData.UserAttributes[i].Name,\n          Value: userData.UserAttributes[i].Value\n        };\n        var userAttribute = new CognitoUserAttribute(attribute);\n        attributeList.push(userAttribute);\n      }\n\n      return callback(null, attributeList);\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to get the MFAOptions\n   * @param {nodeCallback<MFAOptions>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getMFAOptions = function getMFAOptions(callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, userData) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, userData.MFAOptions);\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated users to get the userData\n   * @param {nodeCallback<UserData>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getUserData = function getUserData(callback, params) {\n    var _this10 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.clearCachedUserData();\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var bypassCache = params ? params.bypassCache : false;\n    var userData = this.storage.getItem(this.userDataKey); // get the cached user data\n\n    if (!userData || bypassCache) {\n      this.client.request('GetUser', {\n        AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n      }, function (err, latestUserData) {\n        if (err) {\n          return callback(err, null);\n        }\n\n        _this10.cacheUserData(latestUserData);\n\n        var refresh = _this10.signInUserSession.getRefreshToken();\n\n        if (refresh && refresh.getToken()) {\n          _this10.refreshSession(refresh, function (refreshError, data) {\n            if (refreshError) {\n              return callback(refreshError, null);\n            }\n\n            return callback(null, latestUserData);\n          });\n        } else {\n          return callback(null, latestUserData);\n        }\n      });\n    } else {\n      try {\n        return callback(null, JSON.parse(userData));\n      } catch (err) {\n        this.clearCachedUserData();\n        return callback(err, null);\n      }\n    }\n\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to delete a list of attributes\n   * @param {string[]} attributeList Names of the attributes to delete.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.deleteAttributes = function deleteAttributes(attributeList, callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('DeleteUserAttributes', {\n      UserAttributeNames: attributeList,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by a user to resend a confirmation code\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.resendConfirmationCode = function resendConfirmationCode(callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ClientMetadata: clientMetadata\n    };\n    this.client.request('ResendConfirmationCode', jsonReq, function (err, result) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, result);\n    });\n  }\n  /**\n   * This is used to get a session, either from the session object\n   * or from  the local storage, or by using a refresh token\n   *\n   * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getSession = function getSession(callback) {\n    if (this.username == null) {\n      return callback(new Error('Username is null. Cannot retrieve a new session'), null);\n    }\n\n    if (this.signInUserSession != null && this.signInUserSession.isValid()) {\n      return callback(null, this.signInUserSession);\n    }\n\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var idTokenKey = keyPrefix + \".idToken\";\n    var accessTokenKey = keyPrefix + \".accessToken\";\n    var refreshTokenKey = keyPrefix + \".refreshToken\";\n    var clockDriftKey = keyPrefix + \".clockDrift\";\n\n    if (this.storage.getItem(idTokenKey)) {\n      var idToken = new CognitoIdToken({\n        IdToken: this.storage.getItem(idTokenKey)\n      });\n      var accessToken = new CognitoAccessToken({\n        AccessToken: this.storage.getItem(accessTokenKey)\n      });\n      var refreshToken = new CognitoRefreshToken({\n        RefreshToken: this.storage.getItem(refreshTokenKey)\n      });\n      var clockDrift = parseInt(this.storage.getItem(clockDriftKey), 0) || 0;\n      var sessionData = {\n        IdToken: idToken,\n        AccessToken: accessToken,\n        RefreshToken: refreshToken,\n        ClockDrift: clockDrift\n      };\n      var cachedSession = new CognitoUserSession(sessionData);\n\n      if (cachedSession.isValid()) {\n        this.signInUserSession = cachedSession;\n        return callback(null, this.signInUserSession);\n      }\n\n      if (!refreshToken.getToken()) {\n        return callback(new Error('Cannot retrieve a new session. Please authenticate.'), null);\n      }\n\n      this.refreshSession(refreshToken, callback);\n    } else {\n      callback(new Error('Local storage is missing an ID Token, Please authenticate'), null);\n    }\n\n    return undefined;\n  }\n  /**\n   * This uses the refreshToken to retrieve a new session\n   * @param {CognitoRefreshToken} refreshToken A previous session's refresh token.\n   * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.refreshSession = function refreshSession(refreshToken, callback, clientMetadata) {\n    var _this11 = this;\n\n    var authParameters = {};\n    authParameters.REFRESH_TOKEN = refreshToken.getToken();\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    var lastUserKey = keyPrefix + \".LastAuthUser\";\n\n    if (this.storage.getItem(lastUserKey)) {\n      this.username = this.storage.getItem(lastUserKey);\n      var deviceKeyKey = keyPrefix + \".\" + this.username + \".deviceKey\";\n      this.deviceKey = this.storage.getItem(deviceKeyKey);\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      AuthFlow: 'REFRESH_TOKEN_AUTH',\n      AuthParameters: authParameters,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('InitiateAuth', jsonReq, function (err, authResult) {\n      if (err) {\n        if (err.code === 'NotAuthorizedException') {\n          _this11.clearCachedUser();\n        }\n\n        return callback(err, null);\n      }\n\n      if (authResult) {\n        var authenticationResult = authResult.AuthenticationResult;\n\n        if (!Object.prototype.hasOwnProperty.call(authenticationResult, 'RefreshToken')) {\n          authenticationResult.RefreshToken = refreshToken.getToken();\n        }\n\n        _this11.signInUserSession = _this11.getCognitoUserSession(authenticationResult);\n\n        _this11.cacheTokens();\n\n        return callback(null, _this11.signInUserSession);\n      }\n\n      return undefined;\n    });\n  }\n  /**\n   * This is used to save the session tokens to local storage\n   * @returns {void}\n   */\n  ;\n\n  _proto.cacheTokens = function cacheTokens() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    var idTokenKey = keyPrefix + \".\" + this.username + \".idToken\";\n    var accessTokenKey = keyPrefix + \".\" + this.username + \".accessToken\";\n    var refreshTokenKey = keyPrefix + \".\" + this.username + \".refreshToken\";\n    var clockDriftKey = keyPrefix + \".\" + this.username + \".clockDrift\";\n    var lastUserKey = keyPrefix + \".LastAuthUser\";\n    this.storage.setItem(idTokenKey, this.signInUserSession.getIdToken().getJwtToken());\n    this.storage.setItem(accessTokenKey, this.signInUserSession.getAccessToken().getJwtToken());\n    this.storage.setItem(refreshTokenKey, this.signInUserSession.getRefreshToken().getToken());\n    this.storage.setItem(clockDriftKey, \"\" + this.signInUserSession.getClockDrift());\n    this.storage.setItem(lastUserKey, this.username);\n  }\n  /**\n   * This is to cache user data\n   */\n  ;\n\n  _proto.cacheUserData = function cacheUserData(userData) {\n    this.storage.setItem(this.userDataKey, JSON.stringify(userData));\n  }\n  /**\n   * This is to remove cached user data\n   */\n  ;\n\n  _proto.clearCachedUserData = function clearCachedUserData() {\n    this.storage.removeItem(this.userDataKey);\n  };\n\n  _proto.clearCachedUser = function clearCachedUser() {\n    this.clearCachedTokens();\n    this.clearCachedUserData();\n  }\n  /**\n   * This is used to cache the device key and device group and device password\n   * @returns {void}\n   */\n  ;\n\n  _proto.cacheDeviceKeyAndPassword = function cacheDeviceKeyAndPassword() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var deviceKeyKey = keyPrefix + \".deviceKey\";\n    var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n    var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n    this.storage.setItem(deviceKeyKey, this.deviceKey);\n    this.storage.setItem(randomPasswordKey, this.randomPassword);\n    this.storage.setItem(deviceGroupKeyKey, this.deviceGroupKey);\n  }\n  /**\n   * This is used to get current device key and device group and device password\n   * @returns {void}\n   */\n  ;\n\n  _proto.getCachedDeviceKeyAndPassword = function getCachedDeviceKeyAndPassword() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var deviceKeyKey = keyPrefix + \".deviceKey\";\n    var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n    var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n\n    if (this.storage.getItem(deviceKeyKey)) {\n      this.deviceKey = this.storage.getItem(deviceKeyKey);\n      this.randomPassword = this.storage.getItem(randomPasswordKey);\n      this.deviceGroupKey = this.storage.getItem(deviceGroupKeyKey);\n    }\n  }\n  /**\n   * This is used to clear the device key info from local storage\n   * @returns {void}\n   */\n  ;\n\n  _proto.clearCachedDeviceKeyAndPassword = function clearCachedDeviceKeyAndPassword() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var deviceKeyKey = keyPrefix + \".deviceKey\";\n    var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n    var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n    this.storage.removeItem(deviceKeyKey);\n    this.storage.removeItem(randomPasswordKey);\n    this.storage.removeItem(deviceGroupKeyKey);\n  }\n  /**\n   * This is used to clear the session tokens from local storage\n   * @returns {void}\n   */\n  ;\n\n  _proto.clearCachedTokens = function clearCachedTokens() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    var idTokenKey = keyPrefix + \".\" + this.username + \".idToken\";\n    var accessTokenKey = keyPrefix + \".\" + this.username + \".accessToken\";\n    var refreshTokenKey = keyPrefix + \".\" + this.username + \".refreshToken\";\n    var lastUserKey = keyPrefix + \".LastAuthUser\";\n    var clockDriftKey = keyPrefix + \".\" + this.username + \".clockDrift\";\n    this.storage.removeItem(idTokenKey);\n    this.storage.removeItem(accessTokenKey);\n    this.storage.removeItem(refreshTokenKey);\n    this.storage.removeItem(lastUserKey);\n    this.storage.removeItem(clockDriftKey);\n  }\n  /**\n   * This is used to build a user session from tokens retrieved in the authentication result\n   * @param {object} authResult Successful auth response from server.\n   * @returns {CognitoUserSession} The new user session.\n   * @private\n   */\n  ;\n\n  _proto.getCognitoUserSession = function getCognitoUserSession(authResult) {\n    var idToken = new CognitoIdToken(authResult);\n    var accessToken = new CognitoAccessToken(authResult);\n    var refreshToken = new CognitoRefreshToken(authResult);\n    var sessionData = {\n      IdToken: idToken,\n      AccessToken: accessToken,\n      RefreshToken: refreshToken\n    };\n    return new CognitoUserSession(sessionData);\n  }\n  /**\n   * This is used to initiate a forgot password request\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {inputVerificationCode?} callback.inputVerificationCode\n   *    Optional callback raised instead of onSuccess with response data.\n   * @param {onSuccess} callback.onSuccess Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.forgotPassword = function forgotPassword(callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('ForgotPassword', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      if (typeof callback.inputVerificationCode === 'function') {\n        return callback.inputVerificationCode(data);\n      }\n\n      return callback.onSuccess(data);\n    });\n  }\n  /**\n   * This is used to confirm a new password using a confirmationCode\n   * @param {string} confirmationCode Code entered by user.\n   * @param {string} newPassword Confirm new password.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<void>} callback.onSuccess Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.confirmPassword = function confirmPassword(confirmationCode, newPassword, callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ConfirmationCode: confirmationCode,\n      Password: newPassword,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('ConfirmForgotPassword', jsonReq, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess();\n    });\n  }\n  /**\n   * This is used to initiate an attribute confirmation request\n   * @param {string} attributeName User attribute that needs confirmation.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {inputVerificationCode} callback.inputVerificationCode Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.getAttributeVerificationCode = function getAttributeVerificationCode(attributeName, callback, clientMetadata) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GetUserAttributeVerificationCode', {\n      AttributeName: attributeName,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      ClientMetadata: clientMetadata\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      if (typeof callback.inputVerificationCode === 'function') {\n        return callback.inputVerificationCode(data);\n      }\n\n      return callback.onSuccess();\n    });\n    return undefined;\n  }\n  /**\n   * This is used to confirm an attribute using a confirmation code\n   * @param {string} attributeName Attribute being confirmed.\n   * @param {string} confirmationCode Code entered by user.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.verifyAttribute = function verifyAttribute(attributeName, confirmationCode, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('VerifyUserAttribute', {\n      AttributeName: attributeName,\n      Code: confirmationCode,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to get the device information using the current device key\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<*>} callback.onSuccess Called on success with device data.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getDevice = function getDevice(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GetDevice', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess(data);\n    });\n    return undefined;\n  }\n  /**\n   * This is used to forget a specific device\n   * @param {string} deviceKey Device key.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.forgetSpecificDevice = function forgetSpecificDevice(deviceKey, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('ForgetDevice', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: deviceKey\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to forget the current device\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.forgetDevice = function forgetDevice(callback) {\n    var _this12 = this;\n\n    this.forgetSpecificDevice(this.deviceKey, {\n      onFailure: callback.onFailure,\n      onSuccess: function onSuccess(result) {\n        _this12.deviceKey = null;\n        _this12.deviceGroupKey = null;\n        _this12.randomPassword = null;\n\n        _this12.clearCachedDeviceKeyAndPassword();\n\n        return callback.onSuccess(result);\n      }\n    });\n  }\n  /**\n   * This is used to set the device status as remembered\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.setDeviceStatusRemembered = function setDeviceStatusRemembered(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('UpdateDeviceStatus', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey,\n      DeviceRememberedStatus: 'remembered'\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to set the device status as not remembered\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.setDeviceStatusNotRemembered = function setDeviceStatusNotRemembered(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('UpdateDeviceStatus', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey,\n      DeviceRememberedStatus: 'not_remembered'\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to list all devices for a user\n   *\n   * @param {int} limit the number of devices returned in a call\n   * @param {string} paginationToken the pagination token in case any was returned before\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<*>} callback.onSuccess Called on success with device list.\n   * @returns {void}\n   */\n  ;\n\n  _proto.listDevices = function listDevices(limit, paginationToken, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('ListDevices', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      Limit: limit,\n      PaginationToken: paginationToken\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess(data);\n    });\n    return undefined;\n  }\n  /**\n   * This is used to globally revoke all tokens issued to a user\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.globalSignOut = function globalSignOut(callback) {\n    var _this13 = this;\n\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GlobalSignOut', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      _this13.clearCachedUser();\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used for the user to signOut of the application and clear the cached tokens.\n   * @returns {void}\n   */\n  ;\n\n  _proto.signOut = function signOut() {\n    this.signInUserSession = null;\n    this.clearCachedUser();\n  }\n  /**\n   * This is used by a user trying to select a given MFA\n   * @param {string} answerChallenge the mfa the user wants\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.sendMFASelectionAnswer = function sendMFASelectionAnswer(answerChallenge, callback) {\n    var _this14 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.ANSWER = answerChallenge;\n    var jsonReq = {\n      ChallengeName: 'SELECT_MFA_TYPE',\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      _this14.Session = data.Session;\n\n      if (answerChallenge === 'SMS_MFA') {\n        return callback.mfaRequired(data.challengeName, data.challengeParameters);\n      }\n\n      if (answerChallenge === 'SOFTWARE_TOKEN_MFA') {\n        return callback.totpRequired(data.challengeName, data.challengeParameters);\n      }\n\n      return undefined;\n    });\n  }\n  /**\n   * This returns the user context data for advanced security feature.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getUserContextData = function getUserContextData() {\n    var pool = this.pool;\n    return pool.getUserContextData(this.username);\n  }\n  /**\n   * This is used by an authenticated or a user trying to authenticate to associate a TOTP MFA\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.associateSoftwareToken = function associateSoftwareToken(callback) {\n    var _this15 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.client.request('AssociateSoftwareToken', {\n        Session: this.Session\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        _this15.Session = data.Session;\n        return callback.associateSecretCode(data.SecretCode);\n      });\n    } else {\n      this.client.request('AssociateSoftwareToken', {\n        AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        return callback.associateSecretCode(data.SecretCode);\n      });\n    }\n  }\n  /**\n   * This is used by an authenticated or a user trying to authenticate to verify a TOTP MFA\n   * @param {string} totpCode The MFA code entered by the user.\n   * @param {string} friendlyDeviceName The device name we are assigning to the device.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.verifySoftwareToken = function verifySoftwareToken(totpCode, friendlyDeviceName, callback) {\n    var _this16 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.client.request('VerifySoftwareToken', {\n        Session: this.Session,\n        UserCode: totpCode,\n        FriendlyDeviceName: friendlyDeviceName\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        _this16.Session = data.Session;\n        var challengeResponses = {};\n        challengeResponses.USERNAME = _this16.username;\n        var jsonReq = {\n          ChallengeName: 'MFA_SETUP',\n          ClientId: _this16.pool.getClientId(),\n          ChallengeResponses: challengeResponses,\n          Session: _this16.Session\n        };\n\n        if (_this16.getUserContextData()) {\n          jsonReq.UserContextData = _this16.getUserContextData();\n        }\n\n        _this16.client.request('RespondToAuthChallenge', jsonReq, function (errRespond, dataRespond) {\n          if (errRespond) {\n            return callback.onFailure(errRespond);\n          }\n\n          _this16.signInUserSession = _this16.getCognitoUserSession(dataRespond.AuthenticationResult);\n\n          _this16.cacheTokens();\n\n          return callback.onSuccess(_this16.signInUserSession);\n        });\n\n        return undefined;\n      });\n    } else {\n      this.client.request('VerifySoftwareToken', {\n        AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n        UserCode: totpCode,\n        FriendlyDeviceName: friendlyDeviceName\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        return callback.onSuccess(data);\n      });\n    }\n  };\n\n  return CognitoUser;\n}();\n\nexport { CognitoUser as default };","// constructor\nfunction UserAgent() {} // public\n\n\nUserAgent.prototype.userAgent = 'aws-amplify/0.1.x js';\nexport var appendToCognitoUserAgent = function appendToCognitoUserAgent(content) {\n  if (!content) {\n    return;\n  }\n\n  if (UserAgent.prototype.userAgent && !UserAgent.prototype.userAgent.includes(content)) {\n    UserAgent.prototype.userAgent = UserAgent.prototype.userAgent.concat(' ', content);\n  }\n\n  if (!UserAgent.prototype.userAgent || UserAgent.prototype.userAgent === '') {\n    UserAgent.prototype.userAgent = content;\n  }\n}; // class for defining the amzn user-agent\n\nexport default UserAgent;","import UserAgent from './UserAgent';\n/** @class */\n\nvar Client = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AWS Cognito Identity Provider client object\n   * @param {string} region AWS region\n   * @param {string} endpoint endpoint\n   */\n  function Client(region, endpoint) {\n    this.endpoint = endpoint || \"https://cognito-idp.\" + region + \".amazonaws.com/\";\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @param {function} callback Callback called when a response is returned\n   * @returns {void}\n   */\n\n\n  var _proto = Client.prototype;\n\n  _proto.request = function request(operation, params, callback) {\n    var headers = {\n      'Content-Type': 'application/x-amz-json-1.1',\n      'X-Amz-Target': \"AWSCognitoIdentityProviderService.\" + operation,\n      'X-Amz-User-Agent': UserAgent.prototype.userAgent\n    };\n    var options = {\n      headers: headers,\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      body: JSON.stringify(params)\n    };\n    var response;\n    var responseJsonData;\n    fetch(this.endpoint, options).then(function (resp) {\n      response = resp;\n      return resp;\n    }, function (err) {\n      // If error happens here, the request failed\n      // if it is TypeError throw network error\n      if (err instanceof TypeError) {\n        throw new Error('Network error');\n      }\n\n      throw err;\n    }).then(function (resp) {\n      return resp.json()[\"catch\"](function () {\n        return {};\n      });\n    }).then(function (data) {\n      // return parsed body stream\n      if (response.ok) return callback(null, data);\n      responseJsonData = data; // Taken from aws-sdk-js/lib/protocol/json.js\n      // eslint-disable-next-line no-underscore-dangle\n\n      var code = (data.__type || data.code).split('#').pop();\n      var error = {\n        code: code,\n        name: code,\n        message: data.message || data.Message || null\n      };\n      return callback(error);\n    })[\"catch\"](function (err) {\n      // first check if we have a service error\n      if (response && response.headers && response.headers.get('x-amzn-errortype')) {\n        try {\n          var code = response.headers.get('x-amzn-errortype').split(':')[0];\n          var error = {\n            code: code,\n            name: code,\n            statusCode: response.status,\n            message: response.status ? response.status.toString() : null\n          };\n          return callback(error);\n        } catch (ex) {\n          return callback(err);\n        } // otherwise check if error is Network error\n\n      } else if (err instanceof Error && err.message === 'Network error') {\n        var _error = {\n          code: 'NetworkError',\n          name: err.name,\n          message: err.message\n        };\n        return callback(_error);\n      } else {\n        return callback(err);\n      }\n    });\n  };\n\n  return Client;\n}();\n\nexport { Client as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport Client from './Client';\nimport CognitoUser from './CognitoUser';\nimport StorageHelper from './StorageHelper';\n/** @class */\n\nvar CognitoUserPool = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUserPool object\n   * @param {object} data Creation options.\n   * @param {string} data.UserPoolId Cognito user pool id.\n   * @param {string} data.ClientId User pool application client id.\n   * @param {object} data.Storage Optional storage object.\n   * @param {boolean} data.AdvancedSecurityDataCollectionFlag Optional:\n   *        boolean flag indicating if the data collection is enabled\n   *        to support cognito advanced security features. By default, this\n   *        flag is set to true.\n   */\n  function CognitoUserPool(data) {\n    var _ref = data || {},\n        UserPoolId = _ref.UserPoolId,\n        ClientId = _ref.ClientId,\n        endpoint = _ref.endpoint,\n        AdvancedSecurityDataCollectionFlag = _ref.AdvancedSecurityDataCollectionFlag;\n\n    if (!UserPoolId || !ClientId) {\n      throw new Error('Both UserPoolId and ClientId are required.');\n    }\n\n    if (!/^[\\w-]+_.+$/.test(UserPoolId)) {\n      throw new Error('Invalid UserPoolId format.');\n    }\n\n    var region = UserPoolId.split('_')[0];\n    this.userPoolId = UserPoolId;\n    this.clientId = ClientId;\n    this.client = new Client(region, endpoint);\n    /**\n     * By default, AdvancedSecurityDataCollectionFlag is set to true,\n     * if no input value is provided.\n     */\n\n    this.advancedSecurityDataCollectionFlag = AdvancedSecurityDataCollectionFlag !== false;\n    this.storage = data.Storage || new StorageHelper().getStorage();\n  }\n  /**\n   * @returns {string} the user pool id\n   */\n\n\n  var _proto = CognitoUserPool.prototype;\n\n  _proto.getUserPoolId = function getUserPoolId() {\n    return this.userPoolId;\n  }\n  /**\n   * @returns {string} the client id\n   */\n  ;\n\n  _proto.getClientId = function getClientId() {\n    return this.clientId;\n  }\n  /**\n   * @typedef {object} SignUpResult\n   * @property {CognitoUser} user New user.\n   * @property {bool} userConfirmed If the user is already confirmed.\n   */\n\n  /**\n   * method for signing up a user\n   * @param {string} username User's username.\n   * @param {string} password Plain-text initial password entered by user.\n   * @param {(AttributeArg[])=} userAttributes New user attributes.\n   * @param {(AttributeArg[])=} validationData Application metadata.\n   * @param {(AttributeArg[])=} clientMetadata Client metadata.\n   * @param {nodeCallback<SignUpResult>} callback Called on error or with the new user.\n   * @returns {void}\n   */\n  ;\n\n  _proto.signUp = function signUp(username, password, userAttributes, validationData, callback, clientMetadata) {\n    var _this = this;\n\n    var jsonReq = {\n      ClientId: this.clientId,\n      Username: username,\n      Password: password,\n      UserAttributes: userAttributes,\n      ValidationData: validationData,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData(username)) {\n      jsonReq.UserContextData = this.getUserContextData(username);\n    }\n\n    this.client.request('SignUp', jsonReq, function (err, data) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      var cognitoUser = {\n        Username: username,\n        Pool: _this,\n        Storage: _this.storage\n      };\n      var returnData = {\n        user: new CognitoUser(cognitoUser),\n        userConfirmed: data.UserConfirmed,\n        userSub: data.UserSub,\n        codeDeliveryDetails: data.CodeDeliveryDetails\n      };\n      return callback(null, returnData);\n    });\n  }\n  /**\n   * method for getting the current user of the application from the local storage\n   *\n   * @returns {CognitoUser} the user retrieved from storage\n   */\n  ;\n\n  _proto.getCurrentUser = function getCurrentUser() {\n    var lastUserKey = \"CognitoIdentityServiceProvider.\" + this.clientId + \".LastAuthUser\";\n    var lastAuthUser = this.storage.getItem(lastUserKey);\n\n    if (lastAuthUser) {\n      var cognitoUser = {\n        Username: lastAuthUser,\n        Pool: this,\n        Storage: this.storage\n      };\n      return new CognitoUser(cognitoUser);\n    }\n\n    return null;\n  }\n  /**\n   * This method returns the encoded data string used for cognito advanced security feature.\n   * This would be generated only when developer has included the JS used for collecting the\n   * data on their client. Please refer to documentation to know more about using AdvancedSecurity\n   * features\n   * @param {string} username the username for the context data\n   * @returns {string} the user context data\n   **/\n  ;\n\n  _proto.getUserContextData = function getUserContextData(username) {\n    if (typeof AmazonCognitoAdvancedSecurityData === 'undefined') {\n      return undefined;\n    }\n    /* eslint-disable */\n\n\n    var amazonCognitoAdvancedSecurityDataConst = AmazonCognitoAdvancedSecurityData;\n    /* eslint-enable */\n\n    if (this.advancedSecurityDataCollectionFlag) {\n      var advancedSecurityData = amazonCognitoAdvancedSecurityDataConst.getData(username, this.userPoolId, this.clientId);\n\n      if (advancedSecurityData) {\n        var userContextData = {\n          EncodedData: advancedSecurityData\n        };\n        return userContextData;\n      }\n    }\n\n    return {};\n  };\n\n  return CognitoUserPool;\n}();\n\nexport { CognitoUserPool as default };","import * as Cookies from 'js-cookie';\n/** @class */\n\nvar CookieStorage = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CookieStorage object\n   * @param {object} data Creation options.\n   * @param {string} data.domain Cookies domain (mandatory).\n   * @param {string} data.path Cookies path (default: '/')\n   * @param {integer} data.expires Cookie expiration (in days, default: 365)\n   * @param {boolean} data.secure Cookie secure flag (default: true)\n   */\n  function CookieStorage(data) {\n    if (data.domain) {\n      this.domain = data.domain;\n    } else {\n      throw new Error('The domain of cookieStorage can not be undefined.');\n    }\n\n    if (data.path) {\n      this.path = data.path;\n    } else {\n      this.path = '/';\n    }\n\n    if (Object.prototype.hasOwnProperty.call(data, 'expires')) {\n      this.expires = data.expires;\n    } else {\n      this.expires = 365;\n    }\n\n    if (Object.prototype.hasOwnProperty.call(data, 'secure')) {\n      this.secure = data.secure;\n    } else {\n      this.secure = true;\n    }\n  }\n  /**\n   * This is used to set a specific item in storage\n   * @param {string} key - the key for the item\n   * @param {object} value - the value\n   * @returns {string} value that was set\n   */\n\n\n  var _proto = CookieStorage.prototype;\n\n  _proto.setItem = function setItem(key, value) {\n    Cookies.set(key, value, {\n      path: this.path,\n      expires: this.expires,\n      domain: this.domain,\n      secure: this.secure\n    });\n    return Cookies.get(key);\n  }\n  /**\n   * This is used to get a specific key from storage\n   * @param {string} key - the key for the item\n   * This is used to clear the storage\n   * @returns {string} the data item\n   */\n  ;\n\n  _proto.getItem = function getItem(key) {\n    return Cookies.get(key);\n  }\n  /**\n   * This is used to remove an item from storage\n   * @param {string} key - the key being set\n   * @returns {string} value - value that was deleted\n   */\n  ;\n\n  _proto.removeItem = function removeItem(key) {\n    return Cookies.remove(key, {\n      path: this.path,\n      domain: this.domain,\n      secure: this.secure\n    });\n  }\n  /**\n   * This is used to clear the storage\n   * @returns {string} nothing\n   */\n  ;\n\n  _proto.clear = function clear() {\n    var cookies = Cookies.get();\n    var index;\n\n    for (index = 0; index < cookies.length; ++index) {\n      Cookies.remove(cookies[index]);\n    }\n\n    return {};\n  };\n\n  return CookieStorage;\n}();\n\nexport { CookieStorage as default };","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar SELF = '_self';\nexport var launchUri = function (url) {\n    var windowProxy = window.open(url, SELF);\n    if (windowProxy) {\n        return Promise.resolve(windowProxy);\n    }\n    else {\n        return Promise.reject();\n    }\n};\n//# sourceMappingURL=urlOpener.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { parse } from 'url'; // Used for OAuth parsing of Cognito Hosted UI\nimport { launchUri } from './urlOpener';\nimport * as oAuthStorage from './oauthStorage';\nimport { isCognitoHostedOpts, CognitoHostedUIIdentityProvider, } from '../types/Auth';\nimport { ConsoleLogger as Logger, Hub } from '@aws-amplify/core';\nimport sha256 from 'crypto-js/sha256';\nimport Base64 from 'crypto-js/enc-base64';\nvar AMPLIFY_SYMBOL = (typeof Symbol !== 'undefined' &&\n    typeof Symbol.for === 'function'\n    ? Symbol.for('amplify_default')\n    : '@@amplify_default');\nvar dispatchAuthEvent = function (event, data, message) {\n    Hub.dispatch('auth', { event: event, data: data, message: message }, 'Auth', AMPLIFY_SYMBOL);\n};\nvar logger = new Logger('OAuth');\nvar OAuth = /** @class */ (function () {\n    function OAuth(_a) {\n        var config = _a.config, cognitoClientId = _a.cognitoClientId, _b = _a.scopes, scopes = _b === void 0 ? [] : _b;\n        this._urlOpener = config.urlOpener || launchUri;\n        this._config = config;\n        this._cognitoClientId = cognitoClientId;\n        this._scopes = scopes;\n    }\n    OAuth.prototype.oauthSignIn = function (responseType, domain, redirectSignIn, clientId, provider, customState) {\n        if (responseType === void 0) { responseType = 'code'; }\n        if (provider === void 0) { provider = CognitoHostedUIIdentityProvider.Cognito; }\n        var generatedState = this._generateState(32);\n        var state = customState\n            ? generatedState + \"-\" + customState\n            : generatedState;\n        oAuthStorage.setState(encodeURIComponent(state));\n        var pkce_key = this._generateRandom(128);\n        oAuthStorage.setPKCE(pkce_key);\n        var code_challenge = this._generateChallenge(pkce_key);\n        var code_challenge_method = 'S256';\n        var queryString = Object.entries(__assign(__assign({ redirect_uri: redirectSignIn, response_type: responseType, client_id: clientId, identity_provider: provider, scopes: this._scopes, state: state }, (responseType === 'code' ? { code_challenge: code_challenge } : {})), (responseType === 'code' ? { code_challenge_method: code_challenge_method } : {})))\n            .map(function (_a) {\n            var _b = __read(_a, 2), k = _b[0], v = _b[1];\n            return encodeURIComponent(k) + \"=\" + encodeURIComponent(v);\n        })\n            .join('&');\n        var URL = \"https://\" + domain + \"/oauth2/authorize?\" + queryString;\n        logger.debug(\"Redirecting to \" + URL);\n        this._urlOpener(URL, redirectSignIn);\n    };\n    OAuth.prototype._handleCodeFlow = function (currentUrl) {\n        return __awaiter(this, void 0, void 0, function () {\n            var code, oAuthTokenEndpoint, client_id, redirect_uri, code_verifier, oAuthTokenBody, body, _a, access_token, refresh_token, id_token, error;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        code = (parse(currentUrl).query || '')\n                            .split('&')\n                            .map(function (pairings) { return pairings.split('='); })\n                            .reduce(function (accum, _a) {\n                            var _b;\n                            var _c = __read(_a, 2), k = _c[0], v = _c[1];\n                            return (__assign(__assign({}, accum), (_b = {}, _b[k] = v, _b)));\n                        }, { code: undefined }).code;\n                        if (!code) {\n                            return [2 /*return*/];\n                        }\n                        oAuthTokenEndpoint = 'https://' + this._config.domain + '/oauth2/token';\n                        dispatchAuthEvent('codeFlow', {}, \"Retrieving tokens from \" + oAuthTokenEndpoint);\n                        client_id = isCognitoHostedOpts(this._config)\n                            ? this._cognitoClientId\n                            : this._config.clientID;\n                        redirect_uri = isCognitoHostedOpts(this._config)\n                            ? this._config.redirectSignIn\n                            : this._config.redirectUri;\n                        code_verifier = oAuthStorage.getPKCE();\n                        oAuthTokenBody = __assign({ grant_type: 'authorization_code', code: code,\n                            client_id: client_id,\n                            redirect_uri: redirect_uri }, (code_verifier ? { code_verifier: code_verifier } : {}));\n                        logger.debug(\"Calling token endpoint: \" + oAuthTokenEndpoint + \" with\", oAuthTokenBody);\n                        body = Object.entries(oAuthTokenBody)\n                            .map(function (_a) {\n                            var _b = __read(_a, 2), k = _b[0], v = _b[1];\n                            return encodeURIComponent(k) + \"=\" + encodeURIComponent(v);\n                        })\n                            .join('&');\n                        return [4 /*yield*/, fetch(oAuthTokenEndpoint, {\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/x-www-form-urlencoded',\n                                },\n                                body: body,\n                            })];\n                    case 1: return [4 /*yield*/, (_b.sent()).json()];\n                    case 2:\n                        _a = _b.sent(), access_token = _a.access_token, refresh_token = _a.refresh_token, id_token = _a.id_token, error = _a.error;\n                        if (error) {\n                            throw new Error(error);\n                        }\n                        return [2 /*return*/, {\n                                accessToken: access_token,\n                                refreshToken: refresh_token,\n                                idToken: id_token,\n                            }];\n                }\n            });\n        });\n    };\n    OAuth.prototype._handleImplicitFlow = function (currentUrl) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, id_token, access_token;\n            return __generator(this, function (_b) {\n                _a = parse(currentUrl)\n                    .hash.substr(1) // Remove # from returned code\n                    .split('&')\n                    .map(function (pairings) { return pairings.split('='); })\n                    .reduce(function (accum, _a) {\n                    var _b;\n                    var _c = __read(_a, 2), k = _c[0], v = _c[1];\n                    return (__assign(__assign({}, accum), (_b = {}, _b[k] = v, _b)));\n                }, {\n                    id_token: undefined,\n                    access_token: undefined,\n                }), id_token = _a.id_token, access_token = _a.access_token;\n                dispatchAuthEvent('implicitFlow', {}, \"Got tokens from \" + currentUrl);\n                logger.debug(\"Retrieving implicit tokens from \" + currentUrl + \" with\");\n                return [2 /*return*/, {\n                        accessToken: access_token,\n                        idToken: id_token,\n                        refreshToken: null,\n                    }];\n            });\n        });\n    };\n    OAuth.prototype.handleAuthResponse = function (currentUrl) {\n        return __awaiter(this, void 0, void 0, function () {\n            var urlParams, error, error_description, state, _a, _b, e_1;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _c.trys.push([0, 5, , 6]);\n                        urlParams = currentUrl\n                            ? __assign(__assign({}, (parse(currentUrl).hash || '#')\n                                .substr(1)\n                                .split('&')\n                                .map(function (entry) { return entry.split('='); })\n                                .reduce(function (acc, _a) {\n                                var _b = __read(_a, 2), k = _b[0], v = _b[1];\n                                return ((acc[k] = v), acc);\n                            }, {})), (parse(currentUrl).query || '')\n                                .split('&')\n                                .map(function (entry) { return entry.split('='); })\n                                .reduce(function (acc, _a) {\n                                var _b = __read(_a, 2), k = _b[0], v = _b[1];\n                                return ((acc[k] = v), acc);\n                            }, {}))\n                            : {};\n                        error = urlParams.error, error_description = urlParams.error_description;\n                        if (error) {\n                            throw new Error(error_description);\n                        }\n                        state = this._validateState(urlParams);\n                        logger.debug(\"Starting \" + this._config.responseType + \" flow with \" + currentUrl);\n                        if (!(this._config.responseType === 'code')) return [3 /*break*/, 2];\n                        _a = [{}];\n                        return [4 /*yield*/, this._handleCodeFlow(currentUrl)];\n                    case 1: return [2 /*return*/, __assign.apply(void 0, [__assign.apply(void 0, _a.concat([(_c.sent())])), { state: state }])];\n                    case 2:\n                        _b = [{}];\n                        return [4 /*yield*/, this._handleImplicitFlow(currentUrl)];\n                    case 3: return [2 /*return*/, __assign.apply(void 0, [__assign.apply(void 0, _b.concat([(_c.sent())])), { state: state }])];\n                    case 4: return [3 /*break*/, 6];\n                    case 5:\n                        e_1 = _c.sent();\n                        logger.error(\"Error handling auth response.\", e_1);\n                        throw e_1;\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    OAuth.prototype._validateState = function (urlParams) {\n        if (!urlParams) {\n            return;\n        }\n        var savedState = oAuthStorage.getState();\n        var returnedState = urlParams.state;\n        // This is because savedState only exists if the flow was initiated by Amplify\n        if (savedState && savedState !== returnedState) {\n            throw new Error('Invalid state in OAuth flow');\n        }\n        return returnedState;\n    };\n    OAuth.prototype.signOut = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var oAuthLogoutEndpoint, client_id, signout_uri;\n            return __generator(this, function (_a) {\n                oAuthLogoutEndpoint = 'https://' + this._config.domain + '/logout?';\n                client_id = isCognitoHostedOpts(this._config)\n                    ? this._cognitoClientId\n                    : this._config.oauth.clientID;\n                signout_uri = isCognitoHostedOpts(this._config)\n                    ? this._config.redirectSignOut\n                    : this._config.returnTo;\n                oAuthLogoutEndpoint += Object.entries({\n                    client_id: client_id,\n                    logout_uri: encodeURIComponent(signout_uri),\n                })\n                    .map(function (_a) {\n                    var _b = __read(_a, 2), k = _b[0], v = _b[1];\n                    return k + \"=\" + v;\n                })\n                    .join('&');\n                dispatchAuthEvent('oAuthSignOut', { oAuth: 'signOut' }, \"Signing out from \" + oAuthLogoutEndpoint);\n                logger.debug(\"Signing out from \" + oAuthLogoutEndpoint);\n                return [2 /*return*/, this._urlOpener(oAuthLogoutEndpoint)];\n            });\n        });\n    };\n    OAuth.prototype._generateState = function (length) {\n        var result = '';\n        var i = length;\n        var chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n        for (; i > 0; --i)\n            result += chars[Math.round(Math.random() * (chars.length - 1))];\n        return result;\n    };\n    OAuth.prototype._generateChallenge = function (code) {\n        return this._base64URL(sha256(code));\n    };\n    OAuth.prototype._base64URL = function (string) {\n        return string\n            .toString(Base64)\n            .replace(/=/g, '')\n            .replace(/\\+/g, '-')\n            .replace(/\\//g, '_');\n    };\n    OAuth.prototype._generateRandom = function (size) {\n        var CHARSET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~';\n        var buffer = new Uint8Array(size);\n        if (typeof window !== 'undefined' && !!window.crypto) {\n            window.crypto.getRandomValues(buffer);\n        }\n        else {\n            for (var i = 0; i < size; i += 1) {\n                buffer[i] = (Math.random() * CHARSET.length) | 0;\n            }\n        }\n        return this._bufferToString(buffer);\n    };\n    OAuth.prototype._bufferToString = function (buffer) {\n        var CHARSET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        var state = [];\n        for (var i = 0; i < buffer.byteLength; i += 1) {\n            var index = buffer[i] % CHARSET.length;\n            state.push(CHARSET[index]);\n        }\n        return state.join('');\n    };\n    return OAuth;\n}());\nexport default OAuth;\n//# sourceMappingURL=OAuth.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nexport var setState = function (state) {\n    window.sessionStorage.setItem('oauth_state', state);\n};\nexport var getState = function () {\n    var oauth_state = window.sessionStorage.getItem('oauth_state');\n    window.sessionStorage.removeItem('oauth_state');\n    return oauth_state;\n};\nexport var setPKCE = function (private_key) {\n    window.sessionStorage.setItem('ouath_pkce_key', private_key);\n};\nexport var getPKCE = function () {\n    var ouath_pkce_key = window.sessionStorage.getItem('ouath_pkce_key');\n    window.sessionStorage.removeItem('ouath_pkce_key');\n    return ouath_pkce_key;\n};\nexport var clearAll = function () {\n    window.sessionStorage.removeItem('ouath_pkce_key');\n    window.sessionStorage.removeItem('oauth_state');\n};\n//# sourceMappingURL=oauthStorage.js.map","/*\n * Copyright 2019-2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\nvar logger = new Logger('AuthError');\nvar DEFAULT_MSG = 'Authentication Error';\nvar AuthError = /** @class */ (function (_super) {\n    __extends(AuthError, _super);\n    function AuthError(type) {\n        var _this = this;\n        var _a = authErrorMessages[type], message = _a.message, log = _a.log;\n        _this = _super.call(this, message) || this;\n        // Hack for making the custom error class work when transpiled to es5\n        // TODO: Delete the following 2 lines after we change the build target to >= es2015\n        _this.constructor = AuthError;\n        Object.setPrototypeOf(_this, AuthError.prototype);\n        _this.name = 'AuthError';\n        _this.log = log || message;\n        logger.error(_this.log);\n        return _this;\n    }\n    return AuthError;\n}(Error));\nexport { AuthError };\nvar NoUserPoolError = /** @class */ (function (_super) {\n    __extends(NoUserPoolError, _super);\n    function NoUserPoolError(type) {\n        var _this = _super.call(this, type) || this;\n        // Hack for making the custom error class work when transpiled to es5\n        // TODO: Delete the following 2 lines after we change the build target to >= es2015\n        _this.constructor = NoUserPoolError;\n        Object.setPrototypeOf(_this, NoUserPoolError.prototype);\n        _this.name = 'NoUserPoolError';\n        return _this;\n    }\n    return NoUserPoolError;\n}(AuthError));\nexport { NoUserPoolError };\nexport var authErrorMessages = {\n    noConfig: {\n        message: DEFAULT_MSG,\n        log: \"\\n            Error: Amplify has not been configured correctly.\\n            This error is typically caused by one of the following scenarios:\\n\\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\\n            \\n            2. There might be multiple conflicting versions of aws-amplify or amplify packages in your node_modules.\\n                Try deleting your node_modules folder and reinstalling the dependencies with `yarn install`\\n        \",\n    },\n    missingAuthConfig: {\n        message: DEFAULT_MSG,\n        log: \"\\n            Error: Amplify has not been configured correctly. \\n            The configuration object is missing required auth properties. \\n            Did you run `amplify push` after adding auth via `amplify add auth`?\\n            See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\\n        \",\n    },\n    emptyUsername: {\n        message: 'Username cannot be empty',\n    },\n    // TODO: should include a list of valid sign-in types\n    invalidUsername: {\n        message: 'The username should either be a string or one of the sign in types',\n    },\n    emptyPassword: {\n        message: 'Password cannot be empty',\n    },\n    emptyCode: {\n        message: 'Confirmation code cannot be empty',\n    },\n    signUpError: {\n        message: 'Error creating account',\n        log: 'The first parameter should either be non-null string or object',\n    },\n    noMFA: {\n        message: 'No valid MFA method provided',\n    },\n    invalidMFA: {\n        message: 'Invalid MFA type',\n    },\n    emptyChallengeResponse: {\n        message: 'Challenge response cannot be empty',\n    },\n    noUserSession: {\n        message: 'Failed to get the session because the user is empty',\n    },\n    default: {\n        message: DEFAULT_MSG,\n    },\n};\n//# sourceMappingURL=Errors.js.map","/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *\t http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { isUsernamePasswordOpts, isCognitoHostedOpts, isFederatedSignInOptions, isFederatedSignInOptionsCustom, } from './types';\nimport { Amplify, ConsoleLogger as Logger, Hub, Credentials, StorageHelper, Parser, JS, } from '@aws-amplify/core';\nimport { CookieStorage, CognitoUserPool, AuthenticationDetails, CognitoUser, CognitoUserSession, CognitoUserAttribute, CognitoIdToken, CognitoRefreshToken, CognitoAccessToken, } from 'amazon-cognito-identity-js';\nimport { parse } from 'url';\nimport OAuth from './OAuth/OAuth';\nimport { default as urlListener } from './urlListener';\nimport { AuthError, NoUserPoolError } from './Errors';\nimport { AuthErrorTypes } from './types/Auth';\nvar logger = new Logger('AuthClass');\nvar USER_ADMIN_SCOPE = 'aws.cognito.signin.user.admin';\nvar AMPLIFY_SYMBOL = (typeof Symbol !== 'undefined' &&\n    typeof Symbol.for === 'function'\n    ? Symbol.for('amplify_default')\n    : '@@amplify_default');\nvar dispatchAuthEvent = function (event, data, message) {\n    Hub.dispatch('auth', { event: event, data: data, message: message }, 'Auth', AMPLIFY_SYMBOL);\n};\nexport var CognitoHostedUIIdentityProvider;\n(function (CognitoHostedUIIdentityProvider) {\n    CognitoHostedUIIdentityProvider[\"Cognito\"] = \"COGNITO\";\n    CognitoHostedUIIdentityProvider[\"Google\"] = \"Google\";\n    CognitoHostedUIIdentityProvider[\"Facebook\"] = \"Facebook\";\n    CognitoHostedUIIdentityProvider[\"Amazon\"] = \"LoginWithAmazon\";\n})(CognitoHostedUIIdentityProvider || (CognitoHostedUIIdentityProvider = {}));\n/**\n * Provide authentication steps\n */\nvar AuthClass = /** @class */ (function () {\n    /**\n     * Initialize Auth with AWS configurations\n     * @param {Object} config - Configuration of the Auth\n     */\n    function AuthClass(config) {\n        var _this = this;\n        this.userPool = null;\n        this.user = null;\n        this.configure(config);\n        this.currentUserCredentials = this.currentUserCredentials.bind(this);\n        Hub.listen('auth', function (_a) {\n            var payload = _a.payload;\n            var event = payload.event;\n            switch (event) {\n                case 'signIn':\n                    _this._storage.setItem('amplify-signin-with-hostedUI', 'false');\n                    break;\n                case 'signOut':\n                    _this._storage.removeItem('amplify-signin-with-hostedUI');\n                    break;\n                case 'cognitoHostedUI':\n                    _this._storage.setItem('amplify-signin-with-hostedUI', 'true');\n                    break;\n            }\n        });\n        Amplify.register(this);\n    }\n    AuthClass.prototype.getModuleName = function () {\n        return 'Auth';\n    };\n    AuthClass.prototype.configure = function (config) {\n        var _this = this;\n        if (!config)\n            return this._config || {};\n        logger.debug('configure Auth');\n        var conf = Object.assign({}, this._config, Parser.parseMobilehubConfig(config).Auth, config);\n        this._config = conf;\n        var _a = this._config, userPoolId = _a.userPoolId, userPoolWebClientId = _a.userPoolWebClientId, cookieStorage = _a.cookieStorage, oauth = _a.oauth, region = _a.region, identityPoolId = _a.identityPoolId, mandatorySignIn = _a.mandatorySignIn, refreshHandlers = _a.refreshHandlers, identityPoolRegion = _a.identityPoolRegion, clientMetadata = _a.clientMetadata;\n        if (!this._config.storage) {\n            // backward compatability\n            if (cookieStorage)\n                this._storage = new CookieStorage(cookieStorage);\n            else {\n                this._storage = new StorageHelper().getStorage();\n            }\n        }\n        else {\n            if (!this._isValidAuthStorage(this._config.storage)) {\n                logger.error('The storage in the Auth config is not valid!');\n                throw new Error('Empty storage object');\n            }\n            this._storage = this._config.storage;\n        }\n        this._storageSync = Promise.resolve();\n        if (typeof this._storage['sync'] === 'function') {\n            this._storageSync = this._storage['sync']();\n        }\n        if (userPoolId) {\n            var userPoolData = {\n                UserPoolId: userPoolId,\n                ClientId: userPoolWebClientId,\n            };\n            userPoolData.Storage = this._storage;\n            this.userPool = new CognitoUserPool(userPoolData);\n        }\n        Credentials.configure({\n            mandatorySignIn: mandatorySignIn,\n            region: identityPoolRegion || region,\n            userPoolId: userPoolId,\n            identityPoolId: identityPoolId,\n            refreshHandlers: refreshHandlers,\n            storage: this._storage,\n        });\n        // initiailize cognitoauth client if hosted ui options provided\n        // to keep backward compatibility:\n        var cognitoHostedUIConfig = oauth\n            ? isCognitoHostedOpts(this._config.oauth)\n                ? oauth\n                : oauth.awsCognito\n            : undefined;\n        if (cognitoHostedUIConfig) {\n            var cognitoAuthParams = Object.assign({\n                cognitoClientId: userPoolWebClientId,\n                UserPoolId: userPoolId,\n                domain: cognitoHostedUIConfig['domain'],\n                scopes: cognitoHostedUIConfig['scope'],\n                redirectSignIn: cognitoHostedUIConfig['redirectSignIn'],\n                redirectSignOut: cognitoHostedUIConfig['redirectSignOut'],\n                responseType: cognitoHostedUIConfig['responseType'],\n                Storage: this._storage,\n                urlOpener: cognitoHostedUIConfig['urlOpener'],\n                clientMetadata: clientMetadata,\n            }, cognitoHostedUIConfig['options']);\n            this._oAuthHandler = new OAuth({\n                scopes: cognitoAuthParams.scopes,\n                config: cognitoAuthParams,\n                cognitoClientId: cognitoAuthParams.cognitoClientId,\n            });\n            // **NOTE** - Remove this in a future major release as it is a breaking change\n            // Prevents _handleAuthResponse from being called multiple times in Expo\n            // See https://github.com/aws-amplify/amplify-js/issues/4388\n            var usedResponseUrls_1 = {};\n            urlListener(function (_a) {\n                var url = _a.url;\n                if (usedResponseUrls_1[url]) {\n                    return;\n                }\n                usedResponseUrls_1[url] = true;\n                _this._handleAuthResponse(url);\n            });\n        }\n        dispatchAuthEvent('configured', null, \"The Auth category has been configured successfully\");\n        return this._config;\n    };\n    /**\n     * Sign up with username, password and other attributes like phone, email\n     * @param {String | object} params - The user attributes used for signin\n     * @param {String[]} restOfAttrs - for the backward compatability\n     * @return - A promise resolves callback data if success\n     */\n    AuthClass.prototype.signUp = function (params) {\n        var _this = this;\n        var restOfAttrs = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            restOfAttrs[_i - 1] = arguments[_i];\n        }\n        if (!this.userPool) {\n            return this.rejectNoUserPool();\n        }\n        var username = null;\n        var password = null;\n        var attributes = [];\n        var validationData = null;\n        var clientMetadata;\n        if (params && typeof params === 'string') {\n            username = params;\n            password = restOfAttrs ? restOfAttrs[0] : null;\n            var email = restOfAttrs ? restOfAttrs[1] : null;\n            var phone_number = restOfAttrs ? restOfAttrs[2] : null;\n            if (email)\n                attributes.push({ Name: 'email', Value: email });\n            if (phone_number)\n                attributes.push({ Name: 'phone_number', Value: phone_number });\n        }\n        else if (params && typeof params === 'object') {\n            username = params['username'];\n            password = params['password'];\n            if (params && params.clientMetadata) {\n                clientMetadata = params.clientMetadata;\n            }\n            else if (this._config.clientMetadata) {\n                clientMetadata = this._config.clientMetadata;\n            }\n            var attrs_1 = params['attributes'];\n            if (attrs_1) {\n                Object.keys(attrs_1).map(function (key) {\n                    var ele = { Name: key, Value: attrs_1[key] };\n                    attributes.push(ele);\n                });\n            }\n            validationData = params['validationData'] || null;\n        }\n        else {\n            return this.rejectAuthError(AuthErrorTypes.SignUpError);\n        }\n        if (!username) {\n            return this.rejectAuthError(AuthErrorTypes.EmptyUsername);\n        }\n        if (!password) {\n            return this.rejectAuthError(AuthErrorTypes.EmptyPassword);\n        }\n        logger.debug('signUp attrs:', attributes);\n        logger.debug('signUp validation data:', validationData);\n        return new Promise(function (resolve, reject) {\n            _this.userPool.signUp(username, password, attributes, validationData, function (err, data) {\n                if (err) {\n                    if (err.code === 'InvalidParameterException') {\n                        err.message =\n                            'Username could not be created. Please make sure that the username you have entered is between 1 and 128 characters.';\n                    }\n                    dispatchAuthEvent('signUp_failure', err, username + \" failed to signup\");\n                    reject(err);\n                }\n                else {\n                    dispatchAuthEvent('signUp', data, username + \" has signed up successfully\");\n                    resolve(data);\n                }\n            }, clientMetadata);\n        });\n    };\n    /**\n     * Send the verfication code to confirm sign up\n     * @param {String} username - The username to be confirmed\n     * @param {String} code - The verification code\n     * @param {ConfirmSignUpOptions} options - other options for confirm signup\n     * @return - A promise resolves callback data if success\n     */\n    AuthClass.prototype.confirmSignUp = function (username, code, options) {\n        if (!this.userPool) {\n            return this.rejectNoUserPool();\n        }\n        if (!username) {\n            return this.rejectAuthError(AuthErrorTypes.EmptyUsername);\n        }\n        if (!code) {\n            return this.rejectAuthError(AuthErrorTypes.EmptyCode);\n        }\n        var user = this.createCognitoUser(username);\n        var forceAliasCreation = options && typeof options.forceAliasCreation === 'boolean'\n            ? options.forceAliasCreation\n            : true;\n        var clientMetadata;\n        if (options && options.clientMetadata) {\n            clientMetadata = options.clientMetadata;\n        }\n        else if (this._config.clientMetadata) {\n            clientMetadata = this._config.clientMetadata;\n        }\n        return new Promise(function (resolve, reject) {\n            user.confirmRegistration(code, forceAliasCreation, function (err, data) {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(data);\n                }\n            }, clientMetadata);\n        });\n    };\n    /**\n     * Resend the verification code\n     * @param {String} username - The username to be confirmed\n     * @param {ClientMetadata} clientMetadata - Metadata to be passed to Cognito Lambda triggers\n     * @return - A promise resolves data if success\n     */\n    AuthClass.prototype.resendSignUp = function (username, clientMetadata) {\n        if (clientMetadata === void 0) { clientMetadata = this._config.clientMetadata; }\n        if (!this.userPool) {\n            return this.rejectNoUserPool();\n        }\n        if (!username) {\n            return this.rejectAuthError(AuthErrorTypes.EmptyUsername);\n        }\n        var user = this.createCognitoUser(username);\n        return new Promise(function (resolve, reject) {\n            user.resendConfirmationCode(function (err, data) {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(data);\n                }\n            }, clientMetadata);\n        });\n    };\n    /**\n     * Sign in\n     * @param {String | SignInOpts} usernameOrSignInOpts - The username to be signed in or the sign in options\n     * @param {String} password - The password of the username\n     * @return - A promise resolves the CognitoUser\n     */\n    AuthClass.prototype.signIn = function (usernameOrSignInOpts, pw, clientMetadata) {\n        if (clientMetadata === void 0) { clientMetadata = this._config.clientMetadata; }\n        if (!this.userPool) {\n            return this.rejectNoUserPool();\n        }\n        var username = null;\n        var password = null;\n        var validationData = {};\n        // for backward compatibility\n        if (typeof usernameOrSignInOpts === 'string') {\n            username = usernameOrSignInOpts;\n            password = pw;\n        }\n        else if (isUsernamePasswordOpts(usernameOrSignInOpts)) {\n            if (typeof pw !== 'undefined') {\n                logger.warn('The password should be defined under the first parameter object!');\n            }\n            username = usernameOrSignInOpts.username;\n            password = usernameOrSignInOpts.password;\n            validationData = usernameOrSignInOpts.validationData;\n        }\n        else {\n            return this.rejectAuthError(AuthErrorTypes.InvalidUsername);\n        }\n        if (!username) {\n            return this.rejectAuthError(AuthErrorTypes.EmptyUsername);\n        }\n        var authDetails = new AuthenticationDetails({\n            Username: username,\n            Password: password,\n            ValidationData: validationData,\n            ClientMetadata: clientMetadata,\n        });\n        if (password) {\n            return this.signInWithPassword(authDetails);\n        }\n        else {\n            return this.signInWithoutPassword(authDetails);\n        }\n    };\n    /**\n     * Return an object with the authentication callbacks\n     * @param {CognitoUser} user - the cognito user object\n     * @param {} resolve - function called when resolving the current step\n     * @param {} reject - function called when rejecting the current step\n     * @return - an object with the callback methods for user authentication\n     */\n    AuthClass.prototype.authCallbacks = function (user, resolve, reject) {\n        var _this = this;\n        var that = this;\n        return {\n            onSuccess: function (session) { return __awaiter(_this, void 0, void 0, function () {\n                var cred, e_1, currentUser, e_2;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            logger.debug(session);\n                            delete user['challengeName'];\n                            delete user['challengeParam'];\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 4, 5, 9]);\n                            return [4 /*yield*/, Credentials.clear()];\n                        case 2:\n                            _a.sent();\n                            return [4 /*yield*/, Credentials.set(session, 'session')];\n                        case 3:\n                            cred = _a.sent();\n                            logger.debug('succeed to get cognito credentials', cred);\n                            return [3 /*break*/, 9];\n                        case 4:\n                            e_1 = _a.sent();\n                            logger.debug('cannot get cognito credentials', e_1);\n                            return [3 /*break*/, 9];\n                        case 5:\n                            _a.trys.push([5, 7, , 8]);\n                            return [4 /*yield*/, this.currentUserPoolUser()];\n                        case 6:\n                            currentUser = _a.sent();\n                            that.user = currentUser;\n                            dispatchAuthEvent('signIn', currentUser, \"A user \" + user.getUsername() + \" has been signed in\");\n                            resolve(currentUser);\n                            return [3 /*break*/, 8];\n                        case 7:\n                            e_2 = _a.sent();\n                            logger.error('Failed to get the signed in user', e_2);\n                            reject(e_2);\n                            return [3 /*break*/, 8];\n                        case 8: return [7 /*endfinally*/];\n                        case 9: return [2 /*return*/];\n                    }\n                });\n            }); },\n            onFailure: function (err) {\n                logger.debug('signIn failure', err);\n                dispatchAuthEvent('signIn_failure', err, user.getUsername() + \" failed to signin\");\n                reject(err);\n            },\n            customChallenge: function (challengeParam) {\n                logger.debug('signIn custom challenge answer required');\n                user['challengeName'] = 'CUSTOM_CHALLENGE';\n                user['challengeParam'] = challengeParam;\n                resolve(user);\n            },\n            mfaRequired: function (challengeName, challengeParam) {\n                logger.debug('signIn MFA required');\n                user['challengeName'] = challengeName;\n                user['challengeParam'] = challengeParam;\n                resolve(user);\n            },\n            mfaSetup: function (challengeName, challengeParam) {\n                logger.debug('signIn mfa setup', challengeName);\n                user['challengeName'] = challengeName;\n                user['challengeParam'] = challengeParam;\n                resolve(user);\n            },\n            newPasswordRequired: function (userAttributes, requiredAttributes) {\n                logger.debug('signIn new password');\n                user['challengeName'] = 'NEW_PASSWORD_REQUIRED';\n                user['challengeParam'] = {\n                    userAttributes: userAttributes,\n                    requiredAttributes: requiredAttributes,\n                };\n                resolve(user);\n            },\n            totpRequired: function (challengeName, challengeParam) {\n                logger.debug('signIn totpRequired');\n                user['challengeName'] = challengeName;\n                user['challengeParam'] = challengeParam;\n                resolve(user);\n            },\n            selectMFAType: function (challengeName, challengeParam) {\n                logger.debug('signIn selectMFAType', challengeName);\n                user['challengeName'] = challengeName;\n                user['challengeParam'] = challengeParam;\n                resolve(user);\n            },\n        };\n    };\n    /**\n     * Sign in with a password\n     * @private\n     * @param {AuthenticationDetails} authDetails - the user sign in data\n     * @return - A promise resolves the CognitoUser object if success or mfa required\n     */\n    AuthClass.prototype.signInWithPassword = function (authDetails) {\n        var _this = this;\n        var user = this.createCognitoUser(authDetails.getUsername());\n        return new Promise(function (resolve, reject) {\n            user.authenticateUser(authDetails, _this.authCallbacks(user, resolve, reject));\n        });\n    };\n    /**\n     * Sign in without a password\n     * @private\n     * @param {AuthenticationDetails} authDetails - the user sign in data\n     * @return - A promise resolves the CognitoUser object if success or mfa required\n     */\n    AuthClass.prototype.signInWithoutPassword = function (authDetails) {\n        var _this = this;\n        var user = this.createCognitoUser(authDetails.getUsername());\n        user.setAuthenticationFlowType('CUSTOM_AUTH');\n        return new Promise(function (resolve, reject) {\n            user.initiateAuth(authDetails, _this.authCallbacks(user, resolve, reject));\n        });\n    };\n    /**\n     * get user current preferred mfa option\n     * this method doesn't work with totp, we need to deprecate it.\n     * @deprecated\n     * @param {CognitoUser} user - the current user\n     * @return - A promise resolves the current preferred mfa option if success\n     */\n    AuthClass.prototype.getMFAOptions = function (user) {\n        return new Promise(function (res, rej) {\n            user.getMFAOptions(function (err, mfaOptions) {\n                if (err) {\n                    logger.debug('get MFA Options failed', err);\n                    rej(err);\n                    return;\n                }\n                logger.debug('get MFA options success', mfaOptions);\n                res(mfaOptions);\n                return;\n            });\n        });\n    };\n    /**\n     * get preferred mfa method\n     * @param {CognitoUser} user - the current cognito user\n     * @param {GetPreferredMFAOpts} params - options for getting the current user preferred MFA\n     */\n    AuthClass.prototype.getPreferredMFA = function (user, params) {\n        var that = this;\n        return new Promise(function (res, rej) {\n            var bypassCache = params ? params.bypassCache : false;\n            user.getUserData(function (err, data) {\n                if (err) {\n                    logger.debug('getting preferred mfa failed', err);\n                    rej(err);\n                    return;\n                }\n                var mfaType = that._getMfaTypeFromUserData(data);\n                if (!mfaType) {\n                    rej('invalid MFA Type');\n                    return;\n                }\n                else {\n                    res(mfaType);\n                    return;\n                }\n            }, { bypassCache: bypassCache });\n        });\n    };\n    AuthClass.prototype._getMfaTypeFromUserData = function (data) {\n        var ret = null;\n        var preferredMFA = data.PreferredMfaSetting;\n        // if the user has used Auth.setPreferredMFA() to setup the mfa type\n        // then the \"PreferredMfaSetting\" would exist in the response\n        if (preferredMFA) {\n            ret = preferredMFA;\n        }\n        else {\n            // if mfaList exists but empty, then its noMFA\n            var mfaList = data.UserMFASettingList;\n            if (!mfaList) {\n                // if SMS was enabled by using Auth.enableSMS(),\n                // the response would contain MFAOptions\n                // as for now Cognito only supports for SMS, so we will say it is 'SMS_MFA'\n                // if it does not exist, then it should be NOMFA\n                var MFAOptions = data.MFAOptions;\n                if (MFAOptions) {\n                    ret = 'SMS_MFA';\n                }\n                else {\n                    ret = 'NOMFA';\n                }\n            }\n            else if (mfaList.length === 0) {\n                ret = 'NOMFA';\n            }\n            else {\n                logger.debug('invalid case for getPreferredMFA', data);\n            }\n        }\n        return ret;\n    };\n    AuthClass.prototype._getUserData = function (user, params) {\n        return new Promise(function (res, rej) {\n            user.getUserData(function (err, data) {\n                if (err) {\n                    logger.debug('getting user data failed', err);\n                    rej(err);\n                    return;\n                }\n                else {\n                    res(data);\n                    return;\n                }\n            }, params);\n        });\n    };\n    /**\n     * set preferred MFA method\n     * @param {CognitoUser} user - the current Cognito user\n     * @param {string} mfaMethod - preferred mfa method\n     * @return - A promise resolve if success\n     */\n    AuthClass.prototype.setPreferredMFA = function (user, mfaMethod) {\n        return __awaiter(this, void 0, void 0, function () {\n            var userData, smsMfaSettings, totpMfaSettings, _a, mfaList, currentMFAType, that;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._getUserData(user, { bypassCache: true })];\n                    case 1:\n                        userData = _b.sent();\n                        smsMfaSettings = null;\n                        totpMfaSettings = null;\n                        _a = mfaMethod;\n                        switch (_a) {\n                            case 'TOTP' || 'SOFTWARE_TOKEN_MFA': return [3 /*break*/, 2];\n                            case 'SMS' || 'SMS_MFA': return [3 /*break*/, 3];\n                            case 'NOMFA': return [3 /*break*/, 4];\n                        }\n                        return [3 /*break*/, 6];\n                    case 2:\n                        totpMfaSettings = {\n                            PreferredMfa: true,\n                            Enabled: true,\n                        };\n                        return [3 /*break*/, 7];\n                    case 3:\n                        smsMfaSettings = {\n                            PreferredMfa: true,\n                            Enabled: true,\n                        };\n                        return [3 /*break*/, 7];\n                    case 4:\n                        mfaList = userData['UserMFASettingList'];\n                        return [4 /*yield*/, this._getMfaTypeFromUserData(userData)];\n                    case 5:\n                        currentMFAType = _b.sent();\n                        if (currentMFAType === 'NOMFA') {\n                            return [2 /*return*/, Promise.resolve('No change for mfa type')];\n                        }\n                        else if (currentMFAType === 'SMS_MFA') {\n                            smsMfaSettings = {\n                                PreferredMfa: false,\n                                Enabled: false,\n                            };\n                        }\n                        else if (currentMFAType === 'SOFTWARE_TOKEN_MFA') {\n                            totpMfaSettings = {\n                                PreferredMfa: false,\n                                Enabled: false,\n                            };\n                        }\n                        else {\n                            return [2 /*return*/, this.rejectAuthError(AuthErrorTypes.InvalidMFA)];\n                        }\n                        // if there is a UserMFASettingList in the response\n                        // we need to disable every mfa type in that list\n                        if (mfaList && mfaList.length !== 0) {\n                            // to disable SMS or TOTP if exists in that list\n                            mfaList.forEach(function (mfaType) {\n                                if (mfaType === 'SMS_MFA') {\n                                    smsMfaSettings = {\n                                        PreferredMfa: false,\n                                        Enabled: false,\n                                    };\n                                }\n                                else if (mfaType === 'SOFTWARE_TOKEN_MFA') {\n                                    totpMfaSettings = {\n                                        PreferredMfa: false,\n                                        Enabled: false,\n                                    };\n                                }\n                            });\n                        }\n                        return [3 /*break*/, 7];\n                    case 6:\n                        logger.debug('no validmfa method provided');\n                        return [2 /*return*/, this.rejectAuthError(AuthErrorTypes.NoMFA)];\n                    case 7:\n                        that = this;\n                        return [2 /*return*/, new Promise(function (res, rej) {\n                                user.setUserMfaPreference(smsMfaSettings, totpMfaSettings, function (err, result) {\n                                    if (err) {\n                                        logger.debug('Set user mfa preference error', err);\n                                        return rej(err);\n                                    }\n                                    logger.debug('Set user mfa success', result);\n                                    logger.debug('Caching the latest user data into local');\n                                    // cache the latest result into user data\n                                    user.getUserData(function (err, data) {\n                                        if (err) {\n                                            logger.debug('getting user data failed', err);\n                                            return rej(err);\n                                        }\n                                        else {\n                                            return res(result);\n                                        }\n                                    }, { bypassCache: true });\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    /**\n     * diable SMS\n     * @deprecated\n     * @param {CognitoUser} user - the current user\n     * @return - A promise resolves is success\n     */\n    AuthClass.prototype.disableSMS = function (user) {\n        return new Promise(function (res, rej) {\n            user.disableMFA(function (err, data) {\n                if (err) {\n                    logger.debug('disable mfa failed', err);\n                    rej(err);\n                    return;\n                }\n                logger.debug('disable mfa succeed', data);\n                res(data);\n                return;\n            });\n        });\n    };\n    /**\n     * enable SMS\n     * @deprecated\n     * @param {CognitoUser} user - the current user\n     * @return - A promise resolves is success\n     */\n    AuthClass.prototype.enableSMS = function (user) {\n        return new Promise(function (res, rej) {\n            user.enableMFA(function (err, data) {\n                if (err) {\n                    logger.debug('enable mfa failed', err);\n                    rej(err);\n                    return;\n                }\n                logger.debug('enable mfa succeed', data);\n                res(data);\n                return;\n            });\n        });\n    };\n    /**\n     * Setup TOTP\n     * @param {CognitoUser} user - the current user\n     * @return - A promise resolves with the secret code if success\n     */\n    AuthClass.prototype.setupTOTP = function (user) {\n        return new Promise(function (res, rej) {\n            user.associateSoftwareToken({\n                onFailure: function (err) {\n                    logger.debug('associateSoftwareToken failed', err);\n                    rej(err);\n                    return;\n                },\n                associateSecretCode: function (secretCode) {\n                    logger.debug('associateSoftwareToken sucess', secretCode);\n                    res(secretCode);\n                    return;\n                },\n            });\n        });\n    };\n    /**\n     * verify TOTP setup\n     * @param {CognitoUser} user - the current user\n     * @param {string} challengeAnswer - challenge answer\n     * @return - A promise resolves is success\n     */\n    AuthClass.prototype.verifyTotpToken = function (user, challengeAnswer) {\n        logger.debug('verfication totp token', user, challengeAnswer);\n        return new Promise(function (res, rej) {\n            user.verifySoftwareToken(challengeAnswer, 'My TOTP device', {\n                onFailure: function (err) {\n                    logger.debug('verifyTotpToken failed', err);\n                    rej(err);\n                    return;\n                },\n                onSuccess: function (data) {\n                    logger.debug('verifyTotpToken success', data);\n                    res(data);\n                    return;\n                },\n            });\n        });\n    };\n    /**\n     * Send MFA code to confirm sign in\n     * @param {Object} user - The CognitoUser object\n     * @param {String} code - The confirmation code\n     */\n    AuthClass.prototype.confirmSignIn = function (user, code, mfaType, clientMetadata) {\n        var _this = this;\n        if (clientMetadata === void 0) { clientMetadata = this._config.clientMetadata; }\n        if (!code) {\n            return this.rejectAuthError(AuthErrorTypes.EmptyCode);\n        }\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            user.sendMFACode(code, {\n                onSuccess: function (session) { return __awaiter(_this, void 0, void 0, function () {\n                    var cred, e_3;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                logger.debug(session);\n                                _a.label = 1;\n                            case 1:\n                                _a.trys.push([1, 4, 5, 6]);\n                                return [4 /*yield*/, Credentials.clear()];\n                            case 2:\n                                _a.sent();\n                                return [4 /*yield*/, Credentials.set(session, 'session')];\n                            case 3:\n                                cred = _a.sent();\n                                logger.debug('succeed to get cognito credentials', cred);\n                                return [3 /*break*/, 6];\n                            case 4:\n                                e_3 = _a.sent();\n                                logger.debug('cannot get cognito credentials', e_3);\n                                return [3 /*break*/, 6];\n                            case 5:\n                                that.user = user;\n                                dispatchAuthEvent('signIn', user, user + \" has signed in\");\n                                resolve(user);\n                                return [7 /*endfinally*/];\n                            case 6: return [2 /*return*/];\n                        }\n                    });\n                }); },\n                onFailure: function (err) {\n                    logger.debug('confirm signIn failure', err);\n                    reject(err);\n                },\n            }, mfaType, clientMetadata);\n        });\n    };\n    AuthClass.prototype.completeNewPassword = function (user, password, requiredAttributes, clientMetadata) {\n        var _this = this;\n        if (clientMetadata === void 0) { clientMetadata = this._config.clientMetadata; }\n        if (!password) {\n            return this.rejectAuthError(AuthErrorTypes.EmptyPassword);\n        }\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            user.completeNewPasswordChallenge(password, requiredAttributes, {\n                onSuccess: function (session) { return __awaiter(_this, void 0, void 0, function () {\n                    var cred, e_4;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                logger.debug(session);\n                                _a.label = 1;\n                            case 1:\n                                _a.trys.push([1, 4, 5, 6]);\n                                return [4 /*yield*/, Credentials.clear()];\n                            case 2:\n                                _a.sent();\n                                return [4 /*yield*/, Credentials.set(session, 'session')];\n                            case 3:\n                                cred = _a.sent();\n                                logger.debug('succeed to get cognito credentials', cred);\n                                return [3 /*break*/, 6];\n                            case 4:\n                                e_4 = _a.sent();\n                                logger.debug('cannot get cognito credentials', e_4);\n                                return [3 /*break*/, 6];\n                            case 5:\n                                that.user = user;\n                                dispatchAuthEvent('signIn', user, user + \" has signed in\");\n                                resolve(user);\n                                return [7 /*endfinally*/];\n                            case 6: return [2 /*return*/];\n                        }\n                    });\n                }); },\n                onFailure: function (err) {\n                    logger.debug('completeNewPassword failure', err);\n                    dispatchAuthEvent('completeNewPassword_failure', err, _this.user + \" failed to complete the new password flow\");\n                    reject(err);\n                },\n                mfaRequired: function (challengeName, challengeParam) {\n                    logger.debug('signIn MFA required');\n                    user['challengeName'] = challengeName;\n                    user['challengeParam'] = challengeParam;\n                    resolve(user);\n                },\n                mfaSetup: function (challengeName, challengeParam) {\n                    logger.debug('signIn mfa setup', challengeName);\n                    user['challengeName'] = challengeName;\n                    user['challengeParam'] = challengeParam;\n                    resolve(user);\n                },\n            }, clientMetadata);\n        });\n    };\n    /**\n     * Send the answer to a custom challenge\n     * @param {CognitoUser} user - The CognitoUser object\n     * @param {String} challengeResponses - The confirmation code\n     */\n    AuthClass.prototype.sendCustomChallengeAnswer = function (user, challengeResponses, clientMetadata) {\n        var _this = this;\n        if (clientMetadata === void 0) { clientMetadata = this._config.clientMetadata; }\n        if (!this.userPool) {\n            return this.rejectNoUserPool();\n        }\n        if (!challengeResponses) {\n            return this.rejectAuthError(AuthErrorTypes.EmptyChallengeResponse);\n        }\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            user.sendCustomChallengeAnswer(challengeResponses, _this.authCallbacks(user, resolve, reject), clientMetadata);\n        });\n    };\n    /**\n     * Update an authenticated users' attributes\n     * @param {CognitoUser} - The currently logged in user object\n     * @return {Promise}\n     **/\n    AuthClass.prototype.updateUserAttributes = function (user, attributes, clientMetadata) {\n        if (clientMetadata === void 0) { clientMetadata = this._config.clientMetadata; }\n        var attributeList = [];\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            that.userSession(user).then(function (session) {\n                for (var key in attributes) {\n                    if (key !== 'sub' && key.indexOf('_verified') < 0) {\n                        var attr = {\n                            Name: key,\n                            Value: attributes[key],\n                        };\n                        attributeList.push(attr);\n                    }\n                }\n                user.updateAttributes(attributeList, function (err, result) {\n                    if (err) {\n                        return reject(err);\n                    }\n                    else {\n                        return resolve(result);\n                    }\n                }, clientMetadata);\n            });\n        });\n    };\n    /**\n     * Return user attributes\n     * @param {Object} user - The CognitoUser object\n     * @return - A promise resolves to user attributes if success\n     */\n    AuthClass.prototype.userAttributes = function (user) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.userSession(user).then(function (session) {\n                user.getUserAttributes(function (err, attributes) {\n                    if (err) {\n                        reject(err);\n                    }\n                    else {\n                        resolve(attributes);\n                    }\n                });\n            });\n        });\n    };\n    AuthClass.prototype.verifiedContact = function (user) {\n        var that = this;\n        return this.userAttributes(user).then(function (attributes) {\n            var attrs = that.attributesToObject(attributes);\n            var unverified = {};\n            var verified = {};\n            if (attrs['email']) {\n                if (attrs['email_verified']) {\n                    verified['email'] = attrs['email'];\n                }\n                else {\n                    unverified['email'] = attrs['email'];\n                }\n            }\n            if (attrs['phone_number']) {\n                if (attrs['phone_number_verified']) {\n                    verified['phone_number'] = attrs['phone_number'];\n                }\n                else {\n                    unverified['phone_number'] = attrs['phone_number'];\n                }\n            }\n            return {\n                verified: verified,\n                unverified: unverified,\n            };\n        });\n    };\n    /**\n     * Get current authenticated user\n     * @return - A promise resolves to current authenticated CognitoUser if success\n     */\n    AuthClass.prototype.currentUserPoolUser = function (params) {\n        var _this = this;\n        if (!this.userPool) {\n            return this.rejectNoUserPool();\n        }\n        var that = this;\n        return new Promise(function (res, rej) {\n            _this._storageSync\n                .then(function () {\n                var user = that.userPool.getCurrentUser();\n                if (!user) {\n                    logger.debug('Failed to get user from user pool');\n                    rej('No current user');\n                    return;\n                }\n                // refresh the session if the session expired.\n                user.getSession(function (err, session) {\n                    if (err) {\n                        logger.debug('Failed to get the user session', err);\n                        rej(err);\n                        return;\n                    }\n                    // get user data from Cognito\n                    var bypassCache = params ? params.bypassCache : false;\n                    // validate the token's scope fisrt before calling this function\n                    var _a = session.getAccessToken().decodePayload().scope, scope = _a === void 0 ? '' : _a;\n                    if (scope.split(' ').includes(USER_ADMIN_SCOPE)) {\n                        user.getUserData(function (err, data) {\n                            if (err) {\n                                logger.debug('getting user data failed', err);\n                                // Make sure the user is still valid\n                                if (err.message === 'User is disabled.' ||\n                                    err.message === 'User does not exist.' ||\n                                    err.message === 'Access Token has been revoked' // Session revoked by another app\n                                ) {\n                                    rej(err);\n                                }\n                                else {\n                                    // the error may also be thrown when lack of permissions to get user info etc\n                                    // in that case we just bypass the error\n                                    res(user);\n                                }\n                                return;\n                            }\n                            var preferredMFA = data.PreferredMfaSetting || 'NOMFA';\n                            var attributeList = [];\n                            for (var i = 0; i < data.UserAttributes.length; i++) {\n                                var attribute = {\n                                    Name: data.UserAttributes[i].Name,\n                                    Value: data.UserAttributes[i].Value,\n                                };\n                                var userAttribute = new CognitoUserAttribute(attribute);\n                                attributeList.push(userAttribute);\n                            }\n                            var attributes = that.attributesToObject(attributeList);\n                            Object.assign(user, { attributes: attributes, preferredMFA: preferredMFA });\n                            return res(user);\n                        }, { bypassCache: bypassCache });\n                    }\n                    else {\n                        logger.debug(\"Unable to get the user data because the \" + USER_ADMIN_SCOPE + \" \" +\n                            \"is not in the scopes of the access token\");\n                        return res(user);\n                    }\n                });\n            })\n                .catch(function (e) {\n                logger.debug('Failed to sync cache info into memory', e);\n                return rej(e);\n            });\n        });\n    };\n    /**\n     * Get current authenticated user\n     * @param {CurrentUserOpts} - options for getting the current user\n     * @return - A promise resolves to current authenticated CognitoUser if success\n     */\n    AuthClass.prototype.currentAuthenticatedUser = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var federatedUser, e_5, user, e_6;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        logger.debug('getting current authenticated user');\n                        federatedUser = null;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this._storageSync];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_5 = _a.sent();\n                        logger.debug('Failed to sync cache info into memory', e_5);\n                        throw e_5;\n                    case 4:\n                        try {\n                            federatedUser = JSON.parse(this._storage.getItem('aws-amplify-federatedInfo')).user;\n                        }\n                        catch (e) {\n                            logger.debug('cannot load federated user from auth storage');\n                        }\n                        if (!federatedUser) return [3 /*break*/, 5];\n                        this.user = federatedUser;\n                        logger.debug('get current authenticated federated user', this.user);\n                        return [2 /*return*/, this.user];\n                    case 5:\n                        logger.debug('get current authenticated userpool user');\n                        user = null;\n                        _a.label = 6;\n                    case 6:\n                        _a.trys.push([6, 8, , 9]);\n                        return [4 /*yield*/, this.currentUserPoolUser(params)];\n                    case 7:\n                        user = _a.sent();\n                        return [3 /*break*/, 9];\n                    case 8:\n                        e_6 = _a.sent();\n                        if (e_6 === 'No userPool') {\n                            logger.error('Cannot get the current user because the user pool is missing. ' +\n                                'Please make sure the Auth module is configured with a valid Cognito User Pool ID');\n                        }\n                        logger.debug('The user is not authenticated by the error', e_6);\n                        throw 'not authenticated';\n                    case 9:\n                        this.user = user;\n                        return [2 /*return*/, this.user];\n                }\n            });\n        });\n    };\n    /**\n     * Get current user's session\n     * @return - A promise resolves to session object if success\n     */\n    AuthClass.prototype.currentSession = function () {\n        var that = this;\n        logger.debug('Getting current session');\n        // Purposely not calling the reject method here because we don't need a console error\n        if (!this.userPool) {\n            return Promise.reject();\n        }\n        return new Promise(function (res, rej) {\n            that\n                .currentUserPoolUser()\n                .then(function (user) {\n                that\n                    .userSession(user)\n                    .then(function (session) {\n                    res(session);\n                    return;\n                })\n                    .catch(function (e) {\n                    logger.debug('Failed to get the current session', e);\n                    rej(e);\n                    return;\n                });\n            })\n                .catch(function (e) {\n                logger.debug('Failed to get the current user', e);\n                rej(e);\n                return;\n            });\n        });\n    };\n    /**\n     * Get the corresponding user session\n     * @param {Object} user - The CognitoUser object\n     * @return - A promise resolves to the session\n     */\n    AuthClass.prototype.userSession = function (user) {\n        if (!user) {\n            logger.debug('the user is null');\n            return this.rejectAuthError(AuthErrorTypes.NoUserSession);\n        }\n        return new Promise(function (resolve, reject) {\n            logger.debug('Getting the session from this user:', user);\n            user.getSession(function (err, session) {\n                if (err) {\n                    logger.debug('Failed to get the session from user', user);\n                    reject(err);\n                    return;\n                }\n                else {\n                    logger.debug('Succeed to get the user session', session);\n                    resolve(session);\n                    return;\n                }\n            });\n        });\n    };\n    /**\n     * Get  authenticated credentials of current user.\n     * @return - A promise resolves to be current user's credentials\n     */\n    AuthClass.prototype.currentUserCredentials = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var that, e_7, federatedInfo;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        that = this;\n                        logger.debug('Getting current user credentials');\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this._storageSync];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_7 = _a.sent();\n                        logger.debug('Failed to sync cache info into memory', e_7);\n                        throw e_7;\n                    case 4:\n                        federatedInfo = null;\n                        try {\n                            federatedInfo = JSON.parse(this._storage.getItem('aws-amplify-federatedInfo'));\n                        }\n                        catch (e) {\n                            logger.debug('failed to get or parse item aws-amplify-federatedInfo', e);\n                        }\n                        if (federatedInfo) {\n                            // refresh the jwt token here if necessary\n                            return [2 /*return*/, Credentials.refreshFederatedToken(federatedInfo)];\n                        }\n                        else {\n                            return [2 /*return*/, this.currentSession()\n                                    .then(function (session) {\n                                    logger.debug('getting session success', session);\n                                    return Credentials.set(session, 'session');\n                                })\n                                    .catch(function (error) {\n                                    logger.debug('getting session failed', error);\n                                    return Credentials.set(null, 'guest');\n                                })];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AuthClass.prototype.currentCredentials = function () {\n        logger.debug('getting current credntials');\n        return Credentials.get();\n    };\n    /**\n     * Initiate an attribute confirmation request\n     * @param {Object} user - The CognitoUser\n     * @param {Object} attr - The attributes to be verified\n     * @return - A promise resolves to callback data if success\n     */\n    AuthClass.prototype.verifyUserAttribute = function (user, attr, clientMetadata) {\n        if (clientMetadata === void 0) { clientMetadata = this._config.clientMetadata; }\n        return new Promise(function (resolve, reject) {\n            user.getAttributeVerificationCode(attr, {\n                onSuccess: function () {\n                    return resolve();\n                },\n                onFailure: function (err) {\n                    return reject(err);\n                },\n                clientMetadata: clientMetadata,\n            });\n        });\n    };\n    /**\n     * Confirm an attribute using a confirmation code\n     * @param {Object} user - The CognitoUser\n     * @param {Object} attr - The attribute to be verified\n     * @param {String} code - The confirmation code\n     * @return - A promise resolves to callback data if success\n     */\n    AuthClass.prototype.verifyUserAttributeSubmit = function (user, attr, code) {\n        if (!code) {\n            return this.rejectAuthError(AuthErrorTypes.EmptyCode);\n        }\n        return new Promise(function (resolve, reject) {\n            user.verifyAttribute(attr, code, {\n                onSuccess: function (data) {\n                    resolve(data);\n                    return;\n                },\n                onFailure: function (err) {\n                    reject(err);\n                    return;\n                },\n            });\n        });\n    };\n    AuthClass.prototype.verifyCurrentUserAttribute = function (attr) {\n        var that = this;\n        return that\n            .currentUserPoolUser()\n            .then(function (user) { return that.verifyUserAttribute(user, attr); });\n    };\n    /**\n     * Confirm current user's attribute using a confirmation code\n     * @param {Object} attr - The attribute to be verified\n     * @param {String} code - The confirmation code\n     * @return - A promise resolves to callback data if success\n     */\n    AuthClass.prototype.verifyCurrentUserAttributeSubmit = function (attr, code) {\n        var that = this;\n        return that\n            .currentUserPoolUser()\n            .then(function (user) { return that.verifyUserAttributeSubmit(user, attr, code); });\n    };\n    AuthClass.prototype.cognitoIdentitySignOut = function (opts, user) {\n        return __awaiter(this, void 0, void 0, function () {\n            var e_8, isSignedInHostedUI;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this._storageSync];\n                    case 1:\n                        _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        e_8 = _a.sent();\n                        logger.debug('Failed to sync cache info into memory', e_8);\n                        throw e_8;\n                    case 3:\n                        isSignedInHostedUI = this._oAuthHandler &&\n                            this._storage.getItem('amplify-signin-with-hostedUI') === 'true';\n                        return [2 /*return*/, new Promise(function (res, rej) {\n                                if (opts && opts.global) {\n                                    logger.debug('user global sign out', user);\n                                    // in order to use global signout\n                                    // we must validate the user as an authenticated user by using getSession\n                                    user.getSession(function (err, result) {\n                                        if (err) {\n                                            logger.debug('failed to get the user session', err);\n                                            return rej(err);\n                                        }\n                                        user.globalSignOut({\n                                            onSuccess: function (data) {\n                                                logger.debug('global sign out success');\n                                                if (isSignedInHostedUI) {\n                                                    return res(_this._oAuthHandler.signOut());\n                                                }\n                                                else {\n                                                    return res();\n                                                }\n                                            },\n                                            onFailure: function (err) {\n                                                logger.debug('global sign out failed', err);\n                                                return rej(err);\n                                            },\n                                        });\n                                    });\n                                }\n                                else {\n                                    logger.debug('user sign out', user);\n                                    user.signOut();\n                                    if (isSignedInHostedUI) {\n                                        return res(_this._oAuthHandler.signOut());\n                                    }\n                                    else {\n                                        return res();\n                                    }\n                                }\n                            })];\n                }\n            });\n        });\n    };\n    /**\n     * Sign out method\n     * @\n     * @return - A promise resolved if success\n     */\n    AuthClass.prototype.signOut = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var e_9, user;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.cleanCachedItems()];\n                    case 1:\n                        _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        e_9 = _a.sent();\n                        logger.debug('failed to clear cached items');\n                        return [3 /*break*/, 3];\n                    case 3:\n                        if (!this.userPool) return [3 /*break*/, 7];\n                        user = this.userPool.getCurrentUser();\n                        if (!user) return [3 /*break*/, 5];\n                        return [4 /*yield*/, this.cognitoIdentitySignOut(opts, user)];\n                    case 4:\n                        _a.sent();\n                        return [3 /*break*/, 6];\n                    case 5:\n                        logger.debug('no current Cognito user');\n                        _a.label = 6;\n                    case 6: return [3 /*break*/, 8];\n                    case 7:\n                        logger.debug('no Congito User pool');\n                        _a.label = 8;\n                    case 8:\n                        /**\n                         * Note for future refactor - no reliable way to get username with\n                         * Cognito User Pools vs Identity when federating with Social Providers\n                         * This is why we need a well structured session object that can be inspected\n                         * and information passed back in the message below for Hub dispatch\n                         */\n                        dispatchAuthEvent('signOut', this.user, \"A user has been signed out\");\n                        this.user = null;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AuthClass.prototype.cleanCachedItems = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: \n                    // clear cognito cached item\n                    return [4 /*yield*/, Credentials.clear()];\n                    case 1:\n                        // clear cognito cached item\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Change a password for an authenticated user\n     * @param {Object} user - The CognitoUser object\n     * @param {String} oldPassword - the current password\n     * @param {String} newPassword - the requested new password\n     * @return - A promise resolves if success\n     */\n    AuthClass.prototype.changePassword = function (user, oldPassword, newPassword, clientMetadata) {\n        var _this = this;\n        if (clientMetadata === void 0) { clientMetadata = this._config.clientMetadata; }\n        return new Promise(function (resolve, reject) {\n            _this.userSession(user).then(function (session) {\n                user.changePassword(oldPassword, newPassword, function (err, data) {\n                    if (err) {\n                        logger.debug('change password failure', err);\n                        return reject(err);\n                    }\n                    else {\n                        return resolve(data);\n                    }\n                }, clientMetadata);\n            });\n        });\n    };\n    /**\n     * Initiate a forgot password request\n     * @param {String} username - the username to change password\n     * @return - A promise resolves if success\n     */\n    AuthClass.prototype.forgotPassword = function (username, clientMetadata) {\n        if (clientMetadata === void 0) { clientMetadata = this._config.clientMetadata; }\n        if (!this.userPool) {\n            return this.rejectNoUserPool();\n        }\n        if (!username) {\n            return this.rejectAuthError(AuthErrorTypes.EmptyUsername);\n        }\n        var user = this.createCognitoUser(username);\n        return new Promise(function (resolve, reject) {\n            user.forgotPassword({\n                onSuccess: function () {\n                    resolve();\n                    return;\n                },\n                onFailure: function (err) {\n                    logger.debug('forgot password failure', err);\n                    dispatchAuthEvent('forgotPassword_failure', err, username + \" forgotPassword failed\");\n                    reject(err);\n                    return;\n                },\n                inputVerificationCode: function (data) {\n                    dispatchAuthEvent('forgotPassword', user, username + \" has initiated forgot password flow\");\n                    resolve(data);\n                    return;\n                },\n            }, clientMetadata);\n        });\n    };\n    /**\n     * Confirm a new password using a confirmation Code\n     * @param {String} username - The username\n     * @param {String} code - The confirmation code\n     * @param {String} password - The new password\n     * @return - A promise that resolves if success\n     */\n    AuthClass.prototype.forgotPasswordSubmit = function (username, code, password, clientMetadata) {\n        if (clientMetadata === void 0) { clientMetadata = this._config.clientMetadata; }\n        if (!this.userPool) {\n            return this.rejectNoUserPool();\n        }\n        if (!username) {\n            return this.rejectAuthError(AuthErrorTypes.EmptyUsername);\n        }\n        if (!code) {\n            return this.rejectAuthError(AuthErrorTypes.EmptyCode);\n        }\n        if (!password) {\n            return this.rejectAuthError(AuthErrorTypes.EmptyPassword);\n        }\n        var user = this.createCognitoUser(username);\n        return new Promise(function (resolve, reject) {\n            user.confirmPassword(code, password, {\n                onSuccess: function () {\n                    dispatchAuthEvent('forgotPasswordSubmit', user, username + \" forgotPasswordSubmit successful\");\n                    resolve();\n                    return;\n                },\n                onFailure: function (err) {\n                    dispatchAuthEvent('forgotPasswordSubmit_failure', err, username + \" forgotPasswordSubmit failed\");\n                    reject(err);\n                    return;\n                },\n            }, clientMetadata);\n        });\n    };\n    /**\n     * Get user information\n     * @async\n     * @return {Object }- current User's information\n     */\n    AuthClass.prototype.currentUserInfo = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var source, user, attributes, userAttrs, credentials, e_10, info, err_1, user;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        source = Credentials.getCredSource();\n                        if (!(!source || source === 'aws' || source === 'userPool')) return [3 /*break*/, 9];\n                        return [4 /*yield*/, this.currentUserPoolUser().catch(function (err) {\n                                return logger.debug(err);\n                            })];\n                    case 1:\n                        user = _a.sent();\n                        if (!user) {\n                            return [2 /*return*/, null];\n                        }\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 8, , 9]);\n                        return [4 /*yield*/, this.userAttributes(user)];\n                    case 3:\n                        attributes = _a.sent();\n                        userAttrs = this.attributesToObject(attributes);\n                        credentials = null;\n                        _a.label = 4;\n                    case 4:\n                        _a.trys.push([4, 6, , 7]);\n                        return [4 /*yield*/, this.currentCredentials()];\n                    case 5:\n                        credentials = _a.sent();\n                        return [3 /*break*/, 7];\n                    case 6:\n                        e_10 = _a.sent();\n                        logger.debug('Failed to retrieve credentials while getting current user info', e_10);\n                        return [3 /*break*/, 7];\n                    case 7:\n                        info = {\n                            id: credentials ? credentials.identityId : undefined,\n                            username: user.getUsername(),\n                            attributes: userAttrs,\n                        };\n                        return [2 /*return*/, info];\n                    case 8:\n                        err_1 = _a.sent();\n                        logger.debug('currentUserInfo error', err_1);\n                        return [2 /*return*/, {}];\n                    case 9:\n                        if (source === 'federated') {\n                            user = this.user;\n                            return [2 /*return*/, user ? user : {}];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AuthClass.prototype.federatedSignIn = function (providerOrOptions, response, user) {\n        return __awaiter(this, void 0, void 0, function () {\n            var options, provider, customState, client_id, redirect_uri, provider, loggedInUser, token, identity_id, expires_at, credentials, currentUser;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this._config.identityPoolId && !this._config.userPoolId) {\n                            throw new Error(\"Federation requires either a User Pool or Identity Pool in config\");\n                        }\n                        // Ensure backwards compatability\n                        if (typeof providerOrOptions === 'undefined') {\n                            if (this._config.identityPoolId && !this._config.userPoolId) {\n                                throw new Error(\"Federation with Identity Pools requires tokens passed as arguments\");\n                            }\n                        }\n                        if (!(isFederatedSignInOptions(providerOrOptions) ||\n                            isFederatedSignInOptionsCustom(providerOrOptions) ||\n                            typeof providerOrOptions === 'undefined')) return [3 /*break*/, 1];\n                        options = providerOrOptions || {\n                            provider: CognitoHostedUIIdentityProvider.Cognito,\n                        };\n                        provider = isFederatedSignInOptions(options)\n                            ? options.provider\n                            : options.customProvider;\n                        customState = isFederatedSignInOptions(options)\n                            ? options.customState\n                            : options.customState;\n                        if (this._config.userPoolId) {\n                            client_id = isCognitoHostedOpts(this._config.oauth)\n                                ? this._config.userPoolWebClientId\n                                : this._config.oauth.clientID;\n                            redirect_uri = isCognitoHostedOpts(this._config.oauth)\n                                ? this._config.oauth.redirectSignIn\n                                : this._config.oauth.redirectUri;\n                            this._oAuthHandler.oauthSignIn(this._config.oauth.responseType, this._config.oauth.domain, redirect_uri, client_id, provider, customState);\n                        }\n                        return [3 /*break*/, 4];\n                    case 1:\n                        provider = providerOrOptions;\n                        // To check if the user is already logged in\n                        try {\n                            loggedInUser = JSON.stringify(JSON.parse(this._storage.getItem('aws-amplify-federatedInfo')).user);\n                            if (loggedInUser) {\n                                logger.warn(\"There is already a signed in user: \" + loggedInUser + \" in your app.\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.\");\n                            }\n                        }\n                        catch (e) { }\n                        token = response.token, identity_id = response.identity_id, expires_at = response.expires_at;\n                        return [4 /*yield*/, Credentials.set({ provider: provider, token: token, identity_id: identity_id, user: user, expires_at: expires_at }, 'federation')];\n                    case 2:\n                        credentials = _a.sent();\n                        return [4 /*yield*/, this.currentAuthenticatedUser()];\n                    case 3:\n                        currentUser = _a.sent();\n                        dispatchAuthEvent('signIn', currentUser, \"A user \" + currentUser.username + \" has been signed in\");\n                        logger.debug('federated sign in credentials', credentials);\n                        return [2 /*return*/, credentials];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Used to complete the OAuth flow with or without the Cognito Hosted UI\n     * @param {String} URL - optional parameter for customers to pass in the response URL\n     */\n    AuthClass.prototype._handleAuthResponse = function (URL) {\n        return __awaiter(this, void 0, void 0, function () {\n            var currentUrl, hasCodeOrError, hasTokenOrError, _a, accessToken, idToken, refreshToken, state, session, credentials, isCustomStateIncluded, currentUser, customState, err_2;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!this._config.userPoolId) {\n                            throw new Error(\"OAuth responses require a User Pool defined in config\");\n                        }\n                        dispatchAuthEvent('parsingCallbackUrl', { url: URL }, \"The callback url is being parsed\");\n                        currentUrl = URL || (JS.browserOrNode().isBrowser ? window.location.href : '');\n                        hasCodeOrError = !!(parse(currentUrl).query || '')\n                            .split('&')\n                            .map(function (entry) { return entry.split('='); })\n                            .find(function (_a) {\n                            var _b = __read(_a, 1), k = _b[0];\n                            return k === 'code' || k === 'error';\n                        });\n                        hasTokenOrError = !!(parse(currentUrl).hash || '#')\n                            .substr(1)\n                            .split('&')\n                            .map(function (entry) { return entry.split('='); })\n                            .find(function (_a) {\n                            var _b = __read(_a, 1), k = _b[0];\n                            return k === 'access_token' || k === 'error';\n                        });\n                        if (!(hasCodeOrError || hasTokenOrError)) return [3 /*break*/, 6];\n                        this._storage.setItem('amplify-redirected-from-hosted-ui', 'true');\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 5, , 6]);\n                        return [4 /*yield*/, this._oAuthHandler.handleAuthResponse(currentUrl)];\n                    case 2:\n                        _a = _b.sent(), accessToken = _a.accessToken, idToken = _a.idToken, refreshToken = _a.refreshToken, state = _a.state;\n                        session = new CognitoUserSession({\n                            IdToken: new CognitoIdToken({ IdToken: idToken }),\n                            RefreshToken: new CognitoRefreshToken({ RefreshToken: refreshToken }),\n                            AccessToken: new CognitoAccessToken({ AccessToken: accessToken }),\n                        });\n                        credentials = void 0;\n                        if (!this._config.identityPoolId) return [3 /*break*/, 4];\n                        return [4 /*yield*/, Credentials.set(session, 'session')];\n                    case 3:\n                        credentials = _b.sent();\n                        logger.debug('AWS credentials', credentials);\n                        _b.label = 4;\n                    case 4:\n                        isCustomStateIncluded = /-/.test(state);\n                        currentUser = this.createCognitoUser(session.getIdToken().decodePayload()['cognito:username']);\n                        dispatchAuthEvent('signIn', currentUser, \"A user \" + currentUser.getUsername() + \" has been signed in\");\n                        dispatchAuthEvent('cognitoHostedUI', currentUser, \"A user \" + currentUser.getUsername() + \" has been signed in via Cognito Hosted UI\");\n                        if (isCustomStateIncluded) {\n                            customState = state\n                                .split('-')\n                                .splice(1)\n                                .join('-');\n                            dispatchAuthEvent('customOAuthState', customState, \"State for user \" + currentUser.getUsername());\n                        }\n                        // This calls cacheTokens() in Cognito SDK\n                        currentUser.setSignInUserSession(session);\n                        //#endregion\n                        if (window && typeof window.history !== 'undefined') {\n                            window.history.replaceState({}, null, this._config.oauth.redirectSignIn);\n                        }\n                        return [2 /*return*/, credentials];\n                    case 5:\n                        err_2 = _b.sent();\n                        logger.debug('Error in cognito hosted auth response', err_2);\n                        dispatchAuthEvent('signIn_failure', err_2, \"The OAuth response flow failed\");\n                        dispatchAuthEvent('cognitoHostedUI_failure', err_2, \"A failure occurred when returning to the Cognito Hosted UI\");\n                        dispatchAuthEvent('customState_failure', err_2, \"A failure occurred when returning state\");\n                        return [3 /*break*/, 6];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Compact version of credentials\n     * @param {Object} credentials\n     * @return {Object} - Credentials\n     */\n    AuthClass.prototype.essentialCredentials = function (credentials) {\n        return {\n            accessKeyId: credentials.accessKeyId,\n            sessionToken: credentials.sessionToken,\n            secretAccessKey: credentials.secretAccessKey,\n            identityId: credentials.identityId,\n            authenticated: credentials.authenticated,\n        };\n    };\n    AuthClass.prototype.attributesToObject = function (attributes) {\n        var obj = {};\n        if (attributes) {\n            attributes.map(function (attribute) {\n                if (attribute.Value === 'true') {\n                    obj[attribute.Name] = true;\n                }\n                else if (attribute.Value === 'false') {\n                    obj[attribute.Name] = false;\n                }\n                else {\n                    obj[attribute.Name] = attribute.Value;\n                }\n            });\n        }\n        return obj;\n    };\n    AuthClass.prototype.createCognitoUser = function (username) {\n        var userData = {\n            Username: username,\n            Pool: this.userPool,\n        };\n        userData.Storage = this._storage;\n        var authenticationFlowType = this._config.authenticationFlowType;\n        var user = new CognitoUser(userData);\n        if (authenticationFlowType) {\n            user.setAuthenticationFlowType(authenticationFlowType);\n        }\n        return user;\n    };\n    AuthClass.prototype._isValidAuthStorage = function (obj) {\n        // We need to check if the obj has the functions of Storage\n        return (!!obj &&\n            typeof obj.getItem === 'function' &&\n            typeof obj.setItem === 'function' &&\n            typeof obj.removeItem === 'function' &&\n            typeof obj.clear === 'function');\n    };\n    AuthClass.prototype.noUserPoolErrorHandler = function (config) {\n        if (config) {\n            if (!config.userPoolId || !config.identityPoolId) {\n                return AuthErrorTypes.MissingAuthConfig;\n            }\n        }\n        return AuthErrorTypes.NoConfig;\n    };\n    AuthClass.prototype.rejectAuthError = function (type) {\n        return Promise.reject(new AuthError(type));\n    };\n    AuthClass.prototype.rejectNoUserPool = function () {\n        var type = this.noUserPoolErrorHandler(this._config);\n        return Promise.reject(new NoUserPoolError(type));\n    };\n    return AuthClass;\n}());\nexport { AuthClass };\nexport var Auth = new AuthClass(null);\n//# sourceMappingURL=Auth.js.map","/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { JS } from '@aws-amplify/core';\nexport default (function (callback) {\n    if (JS.browserOrNode().isBrowser && window.location) {\n        var url = window.location.href;\n        callback({ url: url });\n    }\n    else if (JS.browserOrNode().isNode) {\n        // continue building on ssr\n        (function () { }); // noop\n    }\n    else {\n        throw new Error('Not supported');\n    }\n});\n//# sourceMappingURL=urlListener.js.map","/*\n * Copyright 2018-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n/**\n * This Symbol is used to reference an internal-only PubSub provider that\n * is used for AppSync/GraphQL subscriptions in the API category.\n */\nvar hasSymbol = typeof Symbol !== 'undefined' && typeof Symbol.for === 'function';\nexport var INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER = hasSymbol\n    ? Symbol.for('INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER')\n    : '@@INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER';\nexport var INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER = hasSymbol\n    ? Symbol.for('INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER')\n    : '@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER';\nexport var USER_AGENT_HEADER = 'x-amz-user-agent';\n//# sourceMappingURL=constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./jsSha256\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./deserializerMiddleware\"), exports);\ntslib_1.__exportStar(require(\"./serializerMiddleware\"), exports);\ntslib_1.__exportStar(require(\"./serdePlugin\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsbUVBQXlDO0FBQ3pDLGlFQUF1QztBQUN2Qyx3REFBOEIiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tIFwiLi9kZXNlcmlhbGl6ZXJNaWRkbGV3YXJlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zZXJpYWxpemVyTWlkZGxld2FyZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vc2VyZGVQbHVnaW5cIjtcbiJdfQ==","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { ConsoleLogger as Logger } from './Logger';\nvar logger = new Logger('Hub');\nvar AMPLIFY_SYMBOL = (typeof Symbol !== 'undefined' &&\n    typeof Symbol.for === 'function'\n    ? Symbol.for('amplify_default')\n    : '@@amplify_default');\nfunction isLegacyCallback(callback) {\n    return callback.onHubCapsule !== undefined;\n}\nvar HubClass = /** @class */ (function () {\n    function HubClass(name) {\n        this.listeners = [];\n        this.patterns = [];\n        this.protectedChannels = [\n            'core',\n            'auth',\n            'api',\n            'analytics',\n            'interactions',\n            'pubsub',\n            'storage',\n            'xr',\n        ];\n        this.name = name;\n    }\n    // Note - Need to pass channel as a reference for removal to work and not anonymous function\n    HubClass.prototype.remove = function (channel, listener) {\n        if (channel instanceof RegExp) {\n            var pattern_1 = this.patterns.find(function (_a) {\n                var pattern = _a.pattern;\n                return pattern.source === channel.source;\n            });\n            if (!pattern_1) {\n                logger.warn(\"No listeners for \" + channel);\n                return;\n            }\n            this.patterns = __spread(this.patterns.filter(function (x) { return x !== pattern_1; }));\n        }\n        else {\n            var holder = this.listeners[channel];\n            if (!holder) {\n                logger.warn(\"No listeners for \" + channel);\n                return;\n            }\n            this.listeners[channel] = __spread(holder.filter(function (_a) {\n                var callback = _a.callback;\n                return callback !== listener;\n            }));\n        }\n    };\n    HubClass.prototype.dispatch = function (channel, payload, source, ampSymbol) {\n        if (source === void 0) { source = ''; }\n        if (this.protectedChannels.indexOf(channel) > -1) {\n            var hasAccess = ampSymbol === AMPLIFY_SYMBOL;\n            if (!hasAccess) {\n                logger.warn(\"WARNING: \" + channel + \" is protected and dispatching on it can have unintended consequences\");\n            }\n        }\n        var capsule = {\n            channel: channel,\n            payload: __assign({}, payload),\n            source: source,\n            patternInfo: [],\n        };\n        try {\n            this._toListeners(capsule);\n        }\n        catch (e) {\n            logger.error(e);\n        }\n    };\n    HubClass.prototype.listen = function (channel, callback, listenerName) {\n        if (listenerName === void 0) { listenerName = 'noname'; }\n        var cb;\n        // Check for legacy onHubCapsule callback for backwards compatability\n        if (isLegacyCallback(callback)) {\n            logger.warn(\"WARNING onHubCapsule is Deprecated. Please pass in a callback.\");\n            cb = callback.onHubCapsule.bind(callback);\n        }\n        else if (typeof callback !== 'function') {\n            throw new Error('No callback supplied to Hub');\n        }\n        else {\n            cb = callback;\n        }\n        if (channel instanceof RegExp) {\n            this.patterns.push({\n                pattern: channel,\n                callback: cb,\n            });\n        }\n        else {\n            var holder = this.listeners[channel];\n            if (!holder) {\n                holder = [];\n                this.listeners[channel] = holder;\n            }\n            holder.push({\n                name: listenerName,\n                callback: cb,\n            });\n        }\n    };\n    HubClass.prototype._toListeners = function (capsule) {\n        var channel = capsule.channel, payload = capsule.payload;\n        var holder = this.listeners[channel];\n        if (holder) {\n            holder.forEach(function (listener) {\n                logger.debug(\"Dispatching to \" + channel + \" with \", payload);\n                try {\n                    listener.callback(capsule);\n                }\n                catch (e) {\n                    logger.error(e);\n                }\n            });\n        }\n        if (this.patterns.length > 0) {\n            if (!payload.message) {\n                logger.warn(\"Cannot perform pattern matching without a message key\");\n                return;\n            }\n            var payloadStr_1 = payload.message;\n            this.patterns.forEach(function (pattern) {\n                var match = payloadStr_1.match(pattern.pattern);\n                if (match) {\n                    var _a = __read(match), groups = _a.slice(1);\n                    var dispatchingCapsule = __assign(__assign({}, capsule), { patternInfo: groups });\n                    try {\n                        pattern.callback(dispatchingCapsule);\n                    }\n                    catch (e) {\n                        logger.error(e);\n                    }\n                }\n            });\n        }\n    };\n    return HubClass;\n}());\nexport { HubClass };\n/*We export a __default__ instance of HubClass to use it as a\npsuedo Singleton for the main messaging bus, however you can still create\nyour own instance of HubClass() for a separate \"private bus\" of events.*/\nexport var Hub = new HubClass('__default__');\n/**\n * @deprecated use named import\n */\nexport default Hub;\n//# sourceMappingURL=Hub.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { StorageHelper } from '@aws-amplify/core';\n/**\n * Default cache config\n */\nexport var defaultConfig = {\n    keyPrefix: 'aws-amplify-cache',\n    capacityInBytes: 1048576,\n    itemMaxSize: 210000,\n    defaultTTL: 259200000,\n    defaultPriority: 5,\n    warningThreshold: 0.8,\n    // the storage helper will check if localStorage exists,\n    // if not, will use a in-memory object instead\n    storage: new StorageHelper().getStorage(),\n};\n/**\n * return the byte size of the string\n * @param str\n */\nexport function getByteLength(str) {\n    var ret = 0;\n    ret = str.length;\n    for (var i = str.length; i >= 0; i -= 1) {\n        var charCode = str.charCodeAt(i);\n        if (charCode > 0x7f && charCode <= 0x7ff) {\n            ret += 1;\n        }\n        else if (charCode > 0x7ff && charCode <= 0xffff) {\n            ret += 2;\n        }\n        // trail surrogate\n        if (charCode >= 0xdc00 && charCode <= 0xdfff) {\n            i -= 1;\n        }\n    }\n    return ret;\n}\n/**\n * get current time\n */\nexport function getCurrTime() {\n    var currTime = new Date();\n    return currTime.getTime();\n}\n/**\n * check if passed value is an integer\n */\nexport function isInteger(value) {\n    if (Number.isInteger) {\n        return Number.isInteger(value);\n    }\n    return _isInteger(value);\n}\nfunction _isInteger(value) {\n    return (typeof value === 'number' && isFinite(value) && Math.floor(value) === value);\n}\n/**\n * provide an object as the in-memory cache\n */\nvar store = {};\nvar CacheObject = /** @class */ (function () {\n    function CacheObject() {\n    }\n    CacheObject.clear = function () {\n        store = {};\n    };\n    CacheObject.getItem = function (key) {\n        return store[key] || null;\n    };\n    CacheObject.setItem = function (key, value) {\n        store[key] = value;\n    };\n    CacheObject.removeItem = function (key) {\n        delete store[key];\n    };\n    return CacheObject;\n}());\nexport { CacheObject };\n//# sourceMappingURL=CacheUtils.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { getCurrTime, getByteLength, defaultConfig, isInteger } from './Utils';\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\nvar logger = new Logger('StorageCache');\n/**\n * Initialization of the cache\n *\n */\nvar StorageCache = /** @class */ (function () {\n    /**\n     * Initialize the cache\n     * @param config - the configuration of the cache\n     */\n    function StorageCache(config) {\n        this.config = Object.assign({}, config);\n        this.cacheCurSizeKey = this.config.keyPrefix + 'CurSize';\n        this.checkConfig();\n    }\n    StorageCache.prototype.getModuleName = function () {\n        return 'Cache';\n    };\n    StorageCache.prototype.checkConfig = function () {\n        // check configuration\n        if (!isInteger(this.config.capacityInBytes)) {\n            logger.error('Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default.');\n            this.config.capacityInBytes = defaultConfig.capacityInBytes;\n        }\n        if (!isInteger(this.config.itemMaxSize)) {\n            logger.error('Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default.');\n            this.config.itemMaxSize = defaultConfig.itemMaxSize;\n        }\n        if (!isInteger(this.config.defaultTTL)) {\n            logger.error('Invalid parameter: defaultTTL. It should be an Integer. Setting back to default.');\n            this.config.defaultTTL = defaultConfig.defaultTTL;\n        }\n        if (!isInteger(this.config.defaultPriority)) {\n            logger.error('Invalid parameter: defaultPriority. It should be an Integer. Setting back to default.');\n            this.config.defaultPriority = defaultConfig.defaultPriority;\n        }\n        if (this.config.itemMaxSize > this.config.capacityInBytes) {\n            logger.error('Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default.');\n            this.config.itemMaxSize = defaultConfig.itemMaxSize;\n        }\n        if (this.config.defaultPriority > 5 || this.config.defaultPriority < 1) {\n            logger.error('Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default.');\n            this.config.defaultPriority = defaultConfig.defaultPriority;\n        }\n        if (Number(this.config.warningThreshold) > 1 ||\n            Number(this.config.warningThreshold) < 0) {\n            logger.error('Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default.');\n            this.config.warningThreshold = defaultConfig.warningThreshold;\n        }\n        // set 5MB limit\n        var cacheLimit = 5 * 1024 * 1024;\n        if (this.config.capacityInBytes > cacheLimit) {\n            logger.error('Cache Capacity should be less than 5MB. Setting back to default. Setting back to default.');\n            this.config.capacityInBytes = defaultConfig.capacityInBytes;\n        }\n    };\n    /**\n     * produce a JSON object with meta-data and data value\n     * @param value - the value of the item\n     * @param options - optional, the specified meta-data\n     *\n     * @return - the item which has the meta-data and the value\n     */\n    StorageCache.prototype.fillCacheItem = function (key, value, options) {\n        var ret = {\n            key: key,\n            data: value,\n            timestamp: getCurrTime(),\n            visitedTime: getCurrTime(),\n            priority: options.priority,\n            expires: options.expires,\n            type: typeof value,\n            byteSize: 0,\n        };\n        ret.byteSize = getByteLength(JSON.stringify(ret));\n        // for accurate size\n        ret.byteSize = getByteLength(JSON.stringify(ret));\n        return ret;\n    };\n    /**\n     * set cache with customized configuration\n     * @param config - customized configuration\n     *\n     * @return - the current configuration\n     */\n    StorageCache.prototype.configure = function (config) {\n        if (!config) {\n            return this.config;\n        }\n        if (config.keyPrefix) {\n            logger.warn(\"Don't try to configure keyPrefix!\");\n        }\n        this.config = Object.assign({}, this.config, config, config.Cache);\n        this.checkConfig();\n        return this.config;\n    };\n    return StorageCache;\n}());\nexport { StorageCache };\n/**\n * @deprecated use named import\n */\nexport default StorageCache;\n//# sourceMappingURL=StorageCache.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { defaultConfig, getCurrTime } from './Utils';\nimport { StorageCache } from './StorageCache';\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\nvar logger = new Logger('Cache');\n/**\n * Customized storage based on the SessionStorage or LocalStorage with LRU implemented\n */\nvar BrowserStorageCacheClass = /** @class */ (function (_super) {\n    __extends(BrowserStorageCacheClass, _super);\n    /**\n     * initialize the cache\n     * @param config - the configuration of the cache\n     */\n    function BrowserStorageCacheClass(config) {\n        var _this = this;\n        var cacheConfig = config\n            ? Object.assign({}, defaultConfig, config)\n            : defaultConfig;\n        _this = _super.call(this, cacheConfig) || this;\n        _this.config.storage = cacheConfig.storage;\n        _this.getItem = _this.getItem.bind(_this);\n        _this.setItem = _this.setItem.bind(_this);\n        _this.removeItem = _this.removeItem.bind(_this);\n        return _this;\n    }\n    /**\n     * decrease current size of the cache\n     *\n     * @private\n     * @param amount - the amount of the cache size which needs to be decreased\n     */\n    BrowserStorageCacheClass.prototype._decreaseCurSizeInBytes = function (amount) {\n        var curSize = this.getCacheCurSize();\n        this.config.storage.setItem(this.cacheCurSizeKey, (curSize - amount).toString());\n    };\n    /**\n     * increase current size of the cache\n     *\n     * @private\n     * @param amount - the amount of the cache szie which need to be increased\n     */\n    BrowserStorageCacheClass.prototype._increaseCurSizeInBytes = function (amount) {\n        var curSize = this.getCacheCurSize();\n        this.config.storage.setItem(this.cacheCurSizeKey, (curSize + amount).toString());\n    };\n    /**\n     * update the visited time if item has been visited\n     *\n     * @private\n     * @param item - the item which need to be refreshed\n     * @param prefixedKey - the key of the item\n     *\n     * @return the refreshed item\n     */\n    BrowserStorageCacheClass.prototype._refreshItem = function (item, prefixedKey) {\n        item.visitedTime = getCurrTime();\n        this.config.storage.setItem(prefixedKey, JSON.stringify(item));\n        return item;\n    };\n    /**\n     * check wether item is expired\n     *\n     * @private\n     * @param key - the key of the item\n     *\n     * @return true if the item is expired.\n     */\n    BrowserStorageCacheClass.prototype._isExpired = function (key) {\n        var text = this.config.storage.getItem(key);\n        var item = JSON.parse(text);\n        if (getCurrTime() >= item.expires) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * delete item from cache\n     *\n     * @private\n     * @param prefixedKey - the key of the item\n     * @param size - optional, the byte size of the item\n     */\n    BrowserStorageCacheClass.prototype._removeItem = function (prefixedKey, size) {\n        var itemSize = size\n            ? size\n            : JSON.parse(this.config.storage.getItem(prefixedKey)).byteSize;\n        this._decreaseCurSizeInBytes(itemSize);\n        // remove the cache item\n        this.config.storage.removeItem(prefixedKey);\n    };\n    /**\n     * put item into cache\n     *\n     * @private\n     * @param prefixedKey - the key of the item\n     * @param itemData - the value of the item\n     * @param itemSizeInBytes - the byte size of the item\n     */\n    BrowserStorageCacheClass.prototype._setItem = function (prefixedKey, item) {\n        // update the cache size\n        this._increaseCurSizeInBytes(item.byteSize);\n        try {\n            this.config.storage.setItem(prefixedKey, JSON.stringify(item));\n        }\n        catch (setItemErr) {\n            // if failed, we need to rollback the cache size\n            this._decreaseCurSizeInBytes(item.byteSize);\n            logger.error(\"Failed to set item \" + setItemErr);\n        }\n    };\n    /**\n     * total space needed when poping out items\n     *\n     * @private\n     * @param itemSize\n     *\n     * @return total space needed\n     */\n    BrowserStorageCacheClass.prototype._sizeToPop = function (itemSize) {\n        var spaceItemNeed = this.getCacheCurSize() + itemSize - this.config.capacityInBytes;\n        var cacheThresholdSpace = (1 - this.config.warningThreshold) * this.config.capacityInBytes;\n        return spaceItemNeed > cacheThresholdSpace\n            ? spaceItemNeed\n            : cacheThresholdSpace;\n    };\n    /**\n     * see whether cache is full\n     *\n     * @private\n     * @param itemSize\n     *\n     * @return true if cache is full\n     */\n    BrowserStorageCacheClass.prototype._isCacheFull = function (itemSize) {\n        return itemSize + this.getCacheCurSize() > this.config.capacityInBytes;\n    };\n    /**\n     * scan the storage and find out all the keys owned by this cache\n     * also clean the expired keys while scanning\n     *\n     * @private\n     *\n     * @return array of keys\n     */\n    BrowserStorageCacheClass.prototype._findValidKeys = function () {\n        var keys = [];\n        var keyInCache = [];\n        // get all keys in Storage\n        for (var i = 0; i < this.config.storage.length; i += 1) {\n            keyInCache.push(this.config.storage.key(i));\n        }\n        // find those items which belong to our cache and also clean those expired items\n        for (var i = 0; i < keyInCache.length; i += 1) {\n            var key = keyInCache[i];\n            if (key.indexOf(this.config.keyPrefix) === 0 &&\n                key !== this.cacheCurSizeKey) {\n                if (this._isExpired(key)) {\n                    this._removeItem(key);\n                }\n                else {\n                    keys.push(key);\n                }\n            }\n        }\n        return keys;\n    };\n    /**\n     * get all the items we have, sort them by their priority,\n     * if priority is same, sort them by their last visited time\n     * pop out items from the low priority (5 is the lowest)\n     *\n     * @private\n     * @param keys - all the keys in this cache\n     * @param sizeToPop - the total size of the items which needed to be poped out\n     */\n    BrowserStorageCacheClass.prototype._popOutItems = function (keys, sizeToPop) {\n        var items = [];\n        var remainedSize = sizeToPop;\n        // get the items from Storage\n        for (var i = 0; i < keys.length; i += 1) {\n            var val = this.config.storage.getItem(keys[i]);\n            if (val != null) {\n                var item = JSON.parse(val);\n                items.push(item);\n            }\n        }\n        // first compare priority\n        // then compare visited time\n        items.sort(function (a, b) {\n            if (a.priority > b.priority) {\n                return -1;\n            }\n            else if (a.priority < b.priority) {\n                return 1;\n            }\n            else {\n                if (a.visitedTime < b.visitedTime) {\n                    return -1;\n                }\n                else\n                    return 1;\n            }\n        });\n        for (var i = 0; i < items.length; i += 1) {\n            // pop out items until we have enough room for new item\n            this._removeItem(items[i].key, items[i].byteSize);\n            remainedSize -= items[i].byteSize;\n            if (remainedSize <= 0) {\n                return;\n            }\n        }\n    };\n    /**\n     * Set item into cache. You can put number, string, boolean or object.\n     * The cache will first check whether has the same key.\n     * If it has, it will delete the old item and then put the new item in\n     * The cache will pop out items if it is full\n     * You can specify the cache item options. The cache will abort and output a warning:\n     * If the key is invalid\n     * If the size of the item exceeds itemMaxSize.\n     * If the value is undefined\n     * If incorrect cache item configuration\n     * If error happened with browser storage\n     *\n     * @param key - the key of the item\n     * @param value - the value of the item\n     * @param {Object} [options] - optional, the specified meta-data\n     */\n    BrowserStorageCacheClass.prototype.setItem = function (key, value, options) {\n        logger.log(\"Set item: key is \" + key + \", value is \" + value + \" with options: \" + options);\n        var prefixedKey = this.config.keyPrefix + key;\n        // invalid keys\n        if (prefixedKey === this.config.keyPrefix ||\n            prefixedKey === this.cacheCurSizeKey) {\n            logger.warn(\"Invalid key: should not be empty or 'CurSize'\");\n            return;\n        }\n        if (typeof value === 'undefined') {\n            logger.warn(\"The value of item should not be undefined!\");\n            return;\n        }\n        var cacheItemOptions = {\n            priority: options && options.priority !== undefined\n                ? options.priority\n                : this.config.defaultPriority,\n            expires: options && options.expires !== undefined\n                ? options.expires\n                : this.config.defaultTTL + getCurrTime(),\n        };\n        if (cacheItemOptions.priority < 1 || cacheItemOptions.priority > 5) {\n            logger.warn(\"Invalid parameter: priority due to out or range. It should be within 1 and 5.\");\n            return;\n        }\n        var item = this.fillCacheItem(prefixedKey, value, cacheItemOptions);\n        // check wether this item is too big;\n        if (item.byteSize > this.config.itemMaxSize) {\n            logger.warn(\"Item with key: \" + key + \" you are trying to put into is too big!\");\n            return;\n        }\n        try {\n            // first look into the storage, if it exists, delete it.\n            var val = this.config.storage.getItem(prefixedKey);\n            if (val) {\n                this._removeItem(prefixedKey, JSON.parse(val).byteSize);\n            }\n            // check whether the cache is full\n            if (this._isCacheFull(item.byteSize)) {\n                var validKeys = this._findValidKeys();\n                // check again and then pop out items\n                if (this._isCacheFull(item.byteSize)) {\n                    var sizeToPop = this._sizeToPop(item.byteSize);\n                    this._popOutItems(validKeys, sizeToPop);\n                }\n            }\n            // put item in the cache\n            // may failed due to storage full\n            this._setItem(prefixedKey, item);\n        }\n        catch (e) {\n            logger.warn(\"setItem failed! \" + e);\n        }\n    };\n    /**\n     * Get item from cache. It will return null if item doesn’t exist or it has been expired.\n     * If you specified callback function in the options,\n     * then the function will be executed if no such item in the cache\n     * and finally put the return value into cache.\n     * Please make sure the callback function will return the value you want to put into the cache.\n     * The cache will abort output a warning:\n     * If the key is invalid\n     * If error happened with browser storage\n     *\n     * @param key - the key of the item\n     * @param {Object} [options] - the options of callback function\n     *\n     * @return - return the value of the item\n     */\n    BrowserStorageCacheClass.prototype.getItem = function (key, options) {\n        logger.log(\"Get item: key is \" + key + \" with options \" + options);\n        var ret = null;\n        var prefixedKey = this.config.keyPrefix + key;\n        if (prefixedKey === this.config.keyPrefix ||\n            prefixedKey === this.cacheCurSizeKey) {\n            logger.warn(\"Invalid key: should not be empty or 'CurSize'\");\n            return null;\n        }\n        try {\n            ret = this.config.storage.getItem(prefixedKey);\n            if (ret != null) {\n                if (this._isExpired(prefixedKey)) {\n                    // if expired, remove that item and return null\n                    this._removeItem(prefixedKey, JSON.parse(ret).byteSize);\n                    ret = null;\n                }\n                else {\n                    // if not expired, great, return the value and refresh it\n                    var item = JSON.parse(ret);\n                    item = this._refreshItem(item, prefixedKey);\n                    return item.data;\n                }\n            }\n            if (options && options.callback !== undefined) {\n                var val = options.callback();\n                if (val !== null) {\n                    this.setItem(key, val, options);\n                }\n                return val;\n            }\n            return null;\n        }\n        catch (e) {\n            logger.warn(\"getItem failed! \" + e);\n            return null;\n        }\n    };\n    /**\n     * remove item from the cache\n     * The cache will abort output a warning:\n     * If error happened with browser storage\n     * @param key - the key of the item\n     */\n    BrowserStorageCacheClass.prototype.removeItem = function (key) {\n        logger.log(\"Remove item: key is \" + key);\n        var prefixedKey = this.config.keyPrefix + key;\n        if (prefixedKey === this.config.keyPrefix ||\n            prefixedKey === this.cacheCurSizeKey) {\n            return;\n        }\n        try {\n            var val = this.config.storage.getItem(prefixedKey);\n            if (val) {\n                this._removeItem(prefixedKey, JSON.parse(val).byteSize);\n            }\n        }\n        catch (e) {\n            logger.warn(\"removeItem failed! \" + e);\n        }\n    };\n    /**\n     * clear the entire cache\n     * The cache will abort output a warning:\n     * If error happened with browser storage\n     */\n    BrowserStorageCacheClass.prototype.clear = function () {\n        logger.log(\"Clear Cache\");\n        var keysToRemove = [];\n        for (var i = 0; i < this.config.storage.length; i += 1) {\n            var key = this.config.storage.key(i);\n            if (key.indexOf(this.config.keyPrefix) === 0) {\n                keysToRemove.push(key);\n            }\n        }\n        try {\n            for (var i = 0; i < keysToRemove.length; i += 1) {\n                this.config.storage.removeItem(keysToRemove[i]);\n            }\n        }\n        catch (e) {\n            logger.warn(\"clear failed! \" + e);\n        }\n    };\n    /**\n     * Return all the keys in the cache.\n     *\n     * @return - all keys in the cache\n     */\n    BrowserStorageCacheClass.prototype.getAllKeys = function () {\n        var keys = [];\n        for (var i = 0; i < this.config.storage.length; i += 1) {\n            var key = this.config.storage.key(i);\n            if (key.indexOf(this.config.keyPrefix) === 0 &&\n                key !== this.cacheCurSizeKey) {\n                keys.push(key.substring(this.config.keyPrefix.length));\n            }\n        }\n        return keys;\n    };\n    /**\n     * return the current size of the cache\n     *\n     * @return - current size of the cache\n     */\n    BrowserStorageCacheClass.prototype.getCacheCurSize = function () {\n        var ret = this.config.storage.getItem(this.cacheCurSizeKey);\n        if (!ret) {\n            this.config.storage.setItem(this.cacheCurSizeKey, '0');\n            ret = '0';\n        }\n        return Number(ret);\n    };\n    /**\n     * Return a new instance of cache with customized configuration.\n     * @param config - the customized configuration\n     *\n     * @return - new instance of Cache\n     */\n    BrowserStorageCacheClass.prototype.createInstance = function (config) {\n        if (!config.keyPrefix || config.keyPrefix === defaultConfig.keyPrefix) {\n            logger.error('invalid keyPrefix, setting keyPrefix with timeStamp');\n            config.keyPrefix = getCurrTime.toString();\n        }\n        return new BrowserStorageCacheClass(config);\n    };\n    return BrowserStorageCacheClass;\n}(StorageCache));\nexport { BrowserStorageCacheClass };\nexport var BrowserStorageCache = new BrowserStorageCacheClass();\n/**\n * @deprecated use named import\n */\nexport default BrowserStorageCache;\n//# sourceMappingURL=BrowserStorageCache.js.map","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * The base number of milliseconds to use in calculating a suitable cool-down\n * time when a retryable error is encountered.\n */\nexports.DEFAULT_RETRY_DELAY_BASE = 100;\n/**\n * The maximum amount of time (in milliseconds) that will be used as a delay\n * between retry attempts.\n */\nexports.MAXIMUM_RETRY_DELAY = 20 * 1000;\n/**\n * HTTP status codes that indicate the operation may be retried.\n */\nexports.RETRYABLE_STATUS_CODES = new Set();\n[429, 500, 502, 503, 504, 509].forEach(function (code) {\n    return exports.RETRYABLE_STATUS_CODES.add(code);\n});\n/**\n * The retry delay base (in milliseconds) to use when a throttling error is\n * encountered.\n */\nexports.THROTTLING_RETRY_DELAY_BASE = 500;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOzs7R0FHRztBQUNVLFFBQUEsd0JBQXdCLEdBQUcsR0FBRyxDQUFDO0FBRTVDOzs7R0FHRztBQUNVLFFBQUEsbUJBQW1CLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQztBQUU3Qzs7R0FFRztBQUNVLFFBQUEsc0JBQXNCLEdBQUcsSUFBSSxHQUFHLEVBQVUsQ0FBQztBQUN4RCxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQUEsSUFBSTtJQUN6QyxPQUFBLDhCQUFzQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7QUFBaEMsQ0FBZ0MsQ0FDakMsQ0FBQztBQUVGOzs7R0FHRztBQUNVLFFBQUEsMkJBQTJCLEdBQUcsR0FBRyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGUgYmFzZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHVzZSBpbiBjYWxjdWxhdGluZyBhIHN1aXRhYmxlIGNvb2wtZG93blxuICogdGltZSB3aGVuIGEgcmV0cnlhYmxlIGVycm9yIGlzIGVuY291bnRlcmVkLlxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9SRVRSWV9ERUxBWV9CQVNFID0gMTAwO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIChpbiBtaWxsaXNlY29uZHMpIHRoYXQgd2lsbCBiZSB1c2VkIGFzIGEgZGVsYXlcbiAqIGJldHdlZW4gcmV0cnkgYXR0ZW1wdHMuXG4gKi9cbmV4cG9ydCBjb25zdCBNQVhJTVVNX1JFVFJZX0RFTEFZID0gMjAgKiAxMDAwO1xuXG4vKipcbiAqIEhUVFAgc3RhdHVzIGNvZGVzIHRoYXQgaW5kaWNhdGUgdGhlIG9wZXJhdGlvbiBtYXkgYmUgcmV0cmllZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFJFVFJZQUJMRV9TVEFUVVNfQ09ERVMgPSBuZXcgU2V0PG51bWJlcj4oKTtcbls0MjksIDUwMCwgNTAyLCA1MDMsIDUwNCwgNTA5XS5mb3JFYWNoKGNvZGUgPT5cbiAgUkVUUllBQkxFX1NUQVRVU19DT0RFUy5hZGQoY29kZSlcbik7XG5cbi8qKlxuICogVGhlIHJldHJ5IGRlbGF5IGJhc2UgKGluIG1pbGxpc2Vjb25kcykgdG8gdXNlIHdoZW4gYSB0aHJvdHRsaW5nIGVycm9yIGlzXG4gKiBlbmNvdW50ZXJlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFRIUk9UVExJTkdfUkVUUllfREVMQVlfQkFTRSA9IDUwMDtcbiJdfQ==","Object.defineProperty(exports, \"__esModule\", { value: true });\nvar fallbackWindow = {};\n/**\n * Locates the global scope for a browser or browser-like environment. If\n * neither `window` nor `self` is defined by the environment, the same object\n * will be returned on each invocation.\n */\nfunction locateWindow() {\n    if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else if (typeof self !== \"undefined\") {\n        return self;\n    }\n    return fallbackWindow;\n}\nexports.locateWindow = locateWindow;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQU0sY0FBYyxHQUFHLEVBQVksQ0FBQztBQUVwQzs7OztHQUlHO0FBQ0gsU0FBZ0IsWUFBWTtJQUMxQixJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsRUFBRTtRQUNqQyxPQUFPLE1BQU0sQ0FBQztLQUNmO1NBQU0sSUFBSSxPQUFPLElBQUksS0FBSyxXQUFXLEVBQUU7UUFDdEMsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUVELE9BQU8sY0FBYyxDQUFDO0FBQ3hCLENBQUM7QUFSRCxvQ0FRQyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZhbGxiYWNrV2luZG93ID0ge30gYXMgV2luZG93O1xuXG4vKipcbiAqIExvY2F0ZXMgdGhlIGdsb2JhbCBzY29wZSBmb3IgYSBicm93c2VyIG9yIGJyb3dzZXItbGlrZSBlbnZpcm9ubWVudC4gSWZcbiAqIG5laXRoZXIgYHdpbmRvd2Agbm9yIGBzZWxmYCBpcyBkZWZpbmVkIGJ5IHRoZSBlbnZpcm9ubWVudCwgdGhlIHNhbWUgb2JqZWN0XG4gKiB3aWxsIGJlIHJldHVybmVkIG9uIGVhY2ggaW52b2NhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvY2F0ZVdpbmRvdygpOiBXaW5kb3cge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB3aW5kb3c7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuXG4gIHJldHVybiBmYWxsYmFja1dpbmRvdztcbn1cbiJdfQ==","module.exports = require('./lib/axios');","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./EndpointsConfig\"), exports);\ntslib_1.__exportStar(require(\"./RegionConfig\"), exports);\ntslib_1.__exportStar(require(\"./HandlerConfig\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNERBQWtDO0FBQ2xDLHlEQUErQjtBQUMvQiwwREFBZ0MiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tIFwiLi9FbmRwb2ludHNDb25maWdcIjtcbmV4cG9ydCAqIGZyb20gXCIuL1JlZ2lvbkNvbmZpZ1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vSGFuZGxlckNvbmZpZ1wiO1xuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar protocol_http_1 = require(\"@aws-sdk/protocol-http\");\nfunction resolveHostHeaderConfig(input) {\n    return input;\n}\nexports.resolveHostHeaderConfig = resolveHostHeaderConfig;\nexports.hostHeaderMiddleware = function (options) { return function (next) { return function (args) { return tslib_1.__awaiter(void 0, void 0, void 0, function () {\n    var request, _a, handlerProtocol;\n    return tslib_1.__generator(this, function (_b) {\n        if (!protocol_http_1.HttpRequest.isInstance(args.request))\n            return [2 /*return*/, next(args)];\n        request = args.request;\n        _a = (options.requestHandler.metadata || {}).handlerProtocol, handlerProtocol = _a === void 0 ? \"\" : _a;\n        //For H2 request, remove 'host' header and use ':authority' header instead\n        //reference: https://nodejs.org/dist/latest-v13.x/docs/api/errors.html#ERR_HTTP2_INVALID_CONNECTION_HEADERS\n        if (handlerProtocol.indexOf(\"h2\") >= 0 && !request.headers[\":authority\"]) {\n            delete request.headers[\"host\"];\n            request.headers[\":authority\"] = \"\";\n            //non-H2 request and 'host' header is not set, set the 'host' header to request's hostname.\n        }\n        else if (!request.headers[\"host\"]) {\n            request.headers[\"host\"] = request.hostname;\n        }\n        return [2 /*return*/, next(args)];\n    });\n}); }; }; };\nexports.hostHeaderMiddlewareOptions = {\n    name: \"hostHeaderMiddleware\",\n    step: \"build\",\n    tags: [\"HOST\"]\n};\nexports.getHostHeaderPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(exports.hostHeaderMiddleware(options), exports.hostHeaderMiddlewareOptions);\n    }\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsd0RBQXFEO0FBZ0JyRCxTQUFnQix1QkFBdUIsQ0FDckMsS0FBcUQ7SUFFckQsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBSkQsMERBSUM7QUFFWSxRQUFBLG9CQUFvQixHQUFHLFVBSWxDLE9BQWlDLElBQ0UsT0FBQSxVQUFBLElBQUksSUFBSSxPQUFBLFVBQU0sSUFBSTs7O1FBQ3JELElBQUksQ0FBQywyQkFBVyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO1lBQUUsc0JBQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFDO1FBQ3JELE9BQU8sR0FBSyxJQUFJLFFBQVQsQ0FBVTtRQUNqQixLQUF5QixDQUFBLE9BQU8sQ0FBQyxjQUFjLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQSxnQkFBMUMsRUFBcEIsZUFBZSxtQkFBRyxFQUFFLEtBQUEsQ0FBMkM7UUFDdkUsMEVBQTBFO1FBQzFFLDJHQUEyRztRQUMzRyxJQUFJLGVBQWUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUN4RSxPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDL0IsT0FBTyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDbkMsMkZBQTJGO1NBQzVGO2FBQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDbkMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDO1NBQzVDO1FBQ0Qsc0JBQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFDOztLQUNuQixFQWQ0QyxDQWM1QyxFQWRvQyxDQWNwQyxDQUFDO0FBRVcsUUFBQSwyQkFBMkIsR0FDbkI7SUFDbkIsSUFBSSxFQUFFLHNCQUFzQjtJQUM1QixJQUFJLEVBQUUsT0FBTztJQUNiLElBQUksRUFBRSxDQUFDLE1BQU0sQ0FBQztDQUNmLENBQUM7QUFFVyxRQUFBLG1CQUFtQixHQUFHLFVBQ2pDLE9BQWlDLElBQ1QsT0FBQSxDQUFDO0lBQ3pCLFlBQVksRUFBRSxVQUFBLFdBQVc7UUFDdkIsV0FBVyxDQUFDLEdBQUcsQ0FBQyw0QkFBb0IsQ0FBQyxPQUFPLENBQUMsRUFBRSxtQ0FBMkIsQ0FBQyxDQUFDO0lBQzlFLENBQUM7Q0FDRixDQUFDLEVBSndCLENBSXhCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAYXdzLXNkay9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQge1xuICBSZXF1ZXN0SGFuZGxlcixcbiAgQnVpbGRNaWRkbGV3YXJlLFxuICBCdWlsZEhhbmRsZXJPcHRpb25zLFxuICBBYnNvbHV0ZUxvY2F0aW9uLFxuICBQbHVnZ2FibGVcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSG9zdEhlYWRlcklucHV0Q29uZmlnIHt9XG5pbnRlcmZhY2UgUHJldmlvdXNseVJlc29sdmVkIHtcbiAgcmVxdWVzdEhhbmRsZXI6IFJlcXVlc3RIYW5kbGVyPGFueSwgYW55Pjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSG9zdEhlYWRlclJlc29sdmVkQ29uZmlnIHtcbiAgcmVxdWVzdEhhbmRsZXI6IFJlcXVlc3RIYW5kbGVyPGFueSwgYW55Pjtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlSG9zdEhlYWRlckNvbmZpZzxUPihcbiAgaW5wdXQ6IFQgJiBQcmV2aW91c2x5UmVzb2x2ZWQgJiBIb3N0SGVhZGVySW5wdXRDb25maWdcbik6IFQgJiBIb3N0SGVhZGVyUmVzb2x2ZWRDb25maWcge1xuICByZXR1cm4gaW5wdXQ7XG59XG5cbmV4cG9ydCBjb25zdCBob3N0SGVhZGVyTWlkZGxld2FyZSA9IDxcbiAgSW5wdXQgZXh0ZW5kcyBvYmplY3QsXG4gIE91dHB1dCBleHRlbmRzIG9iamVjdFxuPihcbiAgb3B0aW9uczogSG9zdEhlYWRlclJlc29sdmVkQ29uZmlnXG4pOiBCdWlsZE1pZGRsZXdhcmU8SW5wdXQsIE91dHB1dD4gPT4gbmV4dCA9PiBhc3luYyBhcmdzID0+IHtcbiAgaWYgKCFIdHRwUmVxdWVzdC5pc0luc3RhbmNlKGFyZ3MucmVxdWVzdCkpIHJldHVybiBuZXh0KGFyZ3MpO1xuICBjb25zdCB7IHJlcXVlc3QgfSA9IGFyZ3M7XG4gIGNvbnN0IHsgaGFuZGxlclByb3RvY29sID0gXCJcIiB9ID0gb3B0aW9ucy5yZXF1ZXN0SGFuZGxlci5tZXRhZGF0YSB8fCB7fTtcbiAgLy9Gb3IgSDIgcmVxdWVzdCwgcmVtb3ZlICdob3N0JyBoZWFkZXIgYW5kIHVzZSAnOmF1dGhvcml0eScgaGVhZGVyIGluc3RlYWRcbiAgLy9yZWZlcmVuY2U6IGh0dHBzOi8vbm9kZWpzLm9yZy9kaXN0L2xhdGVzdC12MTMueC9kb2NzL2FwaS9lcnJvcnMuaHRtbCNFUlJfSFRUUDJfSU5WQUxJRF9DT05ORUNUSU9OX0hFQURFUlNcbiAgaWYgKGhhbmRsZXJQcm90b2NvbC5pbmRleE9mKFwiaDJcIikgPj0gMCAmJiAhcmVxdWVzdC5oZWFkZXJzW1wiOmF1dGhvcml0eVwiXSkge1xuICAgIGRlbGV0ZSByZXF1ZXN0LmhlYWRlcnNbXCJob3N0XCJdO1xuICAgIHJlcXVlc3QuaGVhZGVyc1tcIjphdXRob3JpdHlcIl0gPSBcIlwiO1xuICAgIC8vbm9uLUgyIHJlcXVlc3QgYW5kICdob3N0JyBoZWFkZXIgaXMgbm90IHNldCwgc2V0IHRoZSAnaG9zdCcgaGVhZGVyIHRvIHJlcXVlc3QncyBob3N0bmFtZS5cbiAgfSBlbHNlIGlmICghcmVxdWVzdC5oZWFkZXJzW1wiaG9zdFwiXSkge1xuICAgIHJlcXVlc3QuaGVhZGVyc1tcImhvc3RcIl0gPSByZXF1ZXN0Lmhvc3RuYW1lO1xuICB9XG4gIHJldHVybiBuZXh0KGFyZ3MpO1xufTtcblxuZXhwb3J0IGNvbnN0IGhvc3RIZWFkZXJNaWRkbGV3YXJlT3B0aW9uczogQnVpbGRIYW5kbGVyT3B0aW9ucyAmXG4gIEFic29sdXRlTG9jYXRpb24gPSB7XG4gIG5hbWU6IFwiaG9zdEhlYWRlck1pZGRsZXdhcmVcIixcbiAgc3RlcDogXCJidWlsZFwiLFxuICB0YWdzOiBbXCJIT1NUXCJdXG59O1xuXG5leHBvcnQgY29uc3QgZ2V0SG9zdEhlYWRlclBsdWdpbiA9IChcbiAgb3B0aW9uczogSG9zdEhlYWRlclJlc29sdmVkQ29uZmlnXG4pOiBQbHVnZ2FibGU8YW55LCBhbnk+ID0+ICh7XG4gIGFwcGx5VG9TdGFjazogY2xpZW50U3RhY2sgPT4ge1xuICAgIGNsaWVudFN0YWNrLmFkZChob3N0SGVhZGVyTWlkZGxld2FyZShvcHRpb25zKSwgaG9zdEhlYWRlck1pZGRsZXdhcmVPcHRpb25zKTtcbiAgfVxufSk7XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./retryMiddleware\"), exports);\ntslib_1.__exportStar(require(\"./defaultStrategy\"), exports);\ntslib_1.__exportStar(require(\"./configurations\"), exports);\ntslib_1.__exportStar(require(\"./delayDecider\"), exports);\ntslib_1.__exportStar(require(\"./retryDecider\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNERBQWtDO0FBQ2xDLDREQUFrQztBQUNsQywyREFBaUM7QUFDakMseURBQStCO0FBQy9CLHlEQUErQiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gXCIuL3JldHJ5TWlkZGxld2FyZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vZGVmYXVsdFN0cmF0ZWd5XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb25maWd1cmF0aW9uc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZGVsYXlEZWNpZGVyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9yZXRyeURlY2lkZXJcIjtcbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./configurations\"), exports);\ntslib_1.__exportStar(require(\"./middleware\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMkRBQWlDO0FBQ2pDLHVEQUE2QiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gXCIuL2NvbmZpZ3VyYXRpb25zXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9taWRkbGV3YXJlXCI7XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar alphabetByEncoding = {};\nvar alphabetByValue = new Array(64);\nfor (var i = 0, start = \"A\".charCodeAt(0), limit = \"Z\".charCodeAt(0); i + start <= limit; i++) {\n    var char = String.fromCharCode(i + start);\n    alphabetByEncoding[char] = i;\n    alphabetByValue[i] = char;\n}\nfor (var i = 0, start = \"a\".charCodeAt(0), limit = \"z\".charCodeAt(0); i + start <= limit; i++) {\n    var char = String.fromCharCode(i + start);\n    var index = i + 26;\n    alphabetByEncoding[char] = index;\n    alphabetByValue[index] = char;\n}\nfor (var i = 0; i < 10; i++) {\n    alphabetByEncoding[i.toString(10)] = i + 52;\n    var char = i.toString(10);\n    var index = i + 52;\n    alphabetByEncoding[char] = index;\n    alphabetByValue[index] = char;\n}\nalphabetByEncoding[\"+\"] = 62;\nalphabetByValue[62] = \"+\";\nalphabetByEncoding[\"/\"] = 63;\nalphabetByValue[63] = \"/\";\nvar bitsPerLetter = 6;\nvar bitsPerByte = 8;\nvar maxLetterValue = 63;\n/**\n * Converts a base-64 encoded string to a Uint8Array of bytes.\n *\n * @param input The base-64 encoded string\n *\n * @see https://tools.ietf.org/html/rfc4648#section-4\n */\nfunction fromBase64(input) {\n    var totalByteLength = (input.length / 4) * 3;\n    if (input.substr(-2) === \"==\") {\n        totalByteLength -= 2;\n    }\n    else if (input.substr(-1) === \"=\") {\n        totalByteLength--;\n    }\n    var out = new ArrayBuffer(totalByteLength);\n    var dataView = new DataView(out);\n    for (var i = 0; i < input.length; i += 4) {\n        var bits = 0;\n        var bitLength = 0;\n        for (var j = i, limit = i + 3; j <= limit; j++) {\n            if (input[j] !== \"=\") {\n                bits |= alphabetByEncoding[input[j]] << ((limit - j) * bitsPerLetter);\n                bitLength += bitsPerLetter;\n            }\n            else {\n                bits >>= bitsPerLetter;\n            }\n        }\n        var chunkOffset = (i / 4) * 3;\n        bits >>= bitLength % bitsPerByte;\n        var byteLength = Math.floor(bitLength / bitsPerByte);\n        for (var k = 0; k < byteLength; k++) {\n            var offset = (byteLength - k - 1) * bitsPerByte;\n            dataView.setUint8(chunkOffset + k, (bits & (255 << offset)) >> offset);\n        }\n    }\n    return new Uint8Array(out);\n}\nexports.fromBase64 = fromBase64;\n/**\n * Converts a Uint8Array of binary data to a base-64 encoded string.\n *\n * @param input The binary data to encode\n *\n * @see https://tools.ietf.org/html/rfc4648#section-4\n */\nfunction toBase64(input) {\n    var str = \"\";\n    for (var i = 0; i < input.length; i += 3) {\n        var bits = 0;\n        var bitLength = 0;\n        for (var j = i, limit = Math.min(i + 3, input.length); j < limit; j++) {\n            bits |= input[j] << ((limit - j - 1) * bitsPerByte);\n            bitLength += bitsPerByte;\n        }\n        var bitClusterCount = Math.ceil(bitLength / bitsPerLetter);\n        bits <<= bitClusterCount * bitsPerLetter - bitLength;\n        for (var k = 1; k <= bitClusterCount; k++) {\n            var offset = (bitClusterCount - k) * bitsPerLetter;\n            str += alphabetByValue[(bits & (maxLetterValue << offset)) >> offset];\n        }\n        str += \"==\".slice(0, 4 - bitClusterCount);\n    }\n    return str;\n}\nexports.toBase64 = toBase64;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLGtCQUFrQixHQUE4QixFQUFFLENBQUM7QUFDekQsSUFBTSxlQUFlLEdBQWtCLElBQUksS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBRXJELEtBQ0UsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUMvRCxDQUFDLEdBQUcsS0FBSyxJQUFJLEtBQUssRUFDbEIsQ0FBQyxFQUFFLEVBQ0g7SUFDQSxJQUFNLElBQUksR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztJQUM1QyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDN0IsZUFBZSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztDQUMzQjtBQUVELEtBQ0UsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUMvRCxDQUFDLEdBQUcsS0FBSyxJQUFJLEtBQUssRUFDbEIsQ0FBQyxFQUFFLEVBQ0g7SUFDQSxJQUFNLElBQUksR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztJQUM1QyxJQUFNLEtBQUssR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ3JCLGtCQUFrQixDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQztJQUNqQyxlQUFlLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDO0NBQy9CO0FBRUQsS0FBSyxJQUFJLENB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QWUsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLGNBQWMsSUFBSSxNQUFNLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDO1NBQ3ZFO1FBRUQsR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxlQUFlLENBQUMsQ0FBQztLQUMzQztJQUVELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQztBQXJCRCw0QkFxQkMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhbHBoYWJldEJ5RW5jb2Rpbmc6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcbmNvbnN0IGFscGhhYmV0QnlWYWx1ZTogQXJyYXk8c3RyaW5nPiA9IG5ldyBBcnJheSg2NCk7XG5cbmZvciAoXG4gIGxldCBpID0gMCwgc3RhcnQgPSBcIkFcIi5jaGFyQ29kZUF0KDApLCBsaW1pdCA9IFwiWlwiLmNoYXJDb2RlQXQoMCk7XG4gIGkgKyBzdGFydCA8PSBsaW1pdDtcbiAgaSsrXG4pIHtcbiAgY29uc3QgY2hhciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSArIHN0YXJ0KTtcbiAgYWxwaGFiZXRCeUVuY29kaW5nW2NoYXJdID0gaTtcbiAgYWxwaGFiZXRCeVZhbHVlW2ldID0gY2hhcjtcbn1cblxuZm9yIChcbiAgbGV0IGkgPSAwLCBzdGFydCA9IFwiYVwiLmNoYXJDb2RlQXQoMCksIGxpbWl0ID0gXCJ6XCIuY2hhckNvZGVBdCgwKTtcbiAgaSArIHN0YXJ0IDw9IGxpbWl0O1xuICBpKytcbikge1xuICBjb25zdCBjaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShpICsgc3RhcnQpO1xuICBjb25zdCBpbmRleCA9IGkgKyAyNjtcbiAgYWxwaGFiZXRCeUVuY29kaW5nW2NoYXJdID0gaW5kZXg7XG4gIGFscGhhYmV0QnlWYWx1ZVtpbmRleF0gPSBjaGFyO1xufVxuXG5mb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgYWxwaGFiZXRCeUVuY29kaW5nW2kudG9TdHJpbmcoMTApXSA9IGkgKyA1MjtcbiAgY29uc3QgY2hhciA9IGkudG9TdHJpbmcoMTApO1xuICBjb25zdCBpbmRleCA9IGkgKyA1MjtcbiAgYWxwaGFiZXRCeUVuY29kaW5nW2NoYXJdID0gaW5kZXg7XG4gIGFscGhhYmV0QnlWYWx1ZVtpbmRleF0gPSBjaGFyO1xufVxuXG5hbHBoYWJldEJ5RW5jb2RpbmdbXCIrXCJdID0gNjI7XG5hbHBoYWJldEJ5VmFsdWVbNjJdID0gXCIrXCI7XG5hbHBoYWJldEJ5RW5jb2RpbmdbXCIvXCJdID0gNjM7XG5hbHBoYWJldEJ5VmFsdWVbNjNdID0gXCIvXCI7XG5cbmNvbnN0IGJpdHNQZXJMZXR0ZXIgPSA2O1xuY29uc3QgYml0c1BlckJ5dGUgPSA4O1xuY29uc3QgbWF4TGV0dGVyVmFsdWUgPSAwYjExMTExMTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIGJhc2UtNjQgZW5jb2RlZCBzdHJpbmcgdG8gYSBVaW50OEFycmF5IG9mIGJ5dGVzLlxuICpcbiAqIEBwYXJhbSBpbnB1dCBUaGUgYmFzZS02NCBlbmNvZGVkIHN0cmluZ1xuICpcbiAqIEBzZWUgaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzQ2NDgjc2VjdGlvbi00XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQmFzZTY0KGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgbGV0IHRvdGFsQnl0ZUxlbmd0aCA9IChpbnB1dC5sZW5ndGggLyA0KSAqIDM7XG4gIGlmIChpbnB1dC5zdWJzdHIoLTIpID09PSBcIj09XCIpIHtcbiAgICB0b3RhbEJ5dGVMZW5ndGggLT0gMjtcbiAgfSBlbHNlIGlmIChpbnB1dC5zdWJzdHIoLTEpID09PSBcIj1cIikge1xuICAgIHRvdGFsQnl0ZUxlbmd0aC0tO1xuICB9XG4gIGNvbnN0IG91dCA9IG5ldyBBcnJheUJ1ZmZlcih0b3RhbEJ5dGVMZW5ndGgpO1xuICBjb25zdCBkYXRhVmlldyA9IG5ldyBEYXRhVmlldyhvdXQpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSArPSA0KSB7XG4gICAgbGV0IGJpdHMgPSAwO1xuICAgIGxldCBiaXRMZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGogPSBpLCBsaW1pdCA9IGkgKyAzOyBqIDw9IGxpbWl0OyBqKyspIHtcbiAgICAgIGlmIChpbnB1dFtqXSAhPT0gXCI9XCIpIHtcbiAgICAgICAgYml0cyB8PSBhbHBoYWJldEJ5RW5jb2RpbmdbaW5wdXRbal1dIDw8ICgobGltaXQgLSBqKSAqIGJpdHNQZXJMZXR0ZXIpO1xuICAgICAgICBiaXRMZW5ndGggKz0gYml0c1BlckxldHRlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJpdHMgPj49IGJpdHNQZXJMZXR0ZXI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2h1bmtPZmZzZXQgPSAoaSAvIDQpICogMztcbiAgICBiaXRzID4+PSBiaXRMZW5ndGggJSBiaXRzUGVyQnl0ZTtcbiAgICBjb25zdCBieXRlTGVuZ3RoID0gTWF0aC5mbG9vcihiaXRMZW5ndGggLyBiaXRzUGVyQnl0ZSk7XG4gICAgZm9yIChsZXQgayA9IDA7IGsgPCBieXRlTGVuZ3RoOyBrKyspIHtcbiAgICAgIGNvbnN0IG9mZnNldCA9IChieXRlTGVuZ3RoIC0gayAtIDEpICogYml0c1BlckJ5dGU7XG4gICAgICBkYXRhVmlldy5zZXRVaW50OChjaHVua09mZnNldCArIGssIChiaXRzICYgKDI1NSA8PCBvZmZzZXQpKSA+PiBvZmZzZXQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVWludDhBcnJheShvdXQpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgVWludDhBcnJheSBvZiBiaW5hcnkgZGF0YSB0byBhIGJhc2UtNjQgZW5jb2RlZCBzdHJpbmcuXG4gKlxuICogQHBhcmFtIGlucHV0IFRoZSBiaW5hcnkgZGF0YSB0byBlbmNvZGVcbiAqXG4gKiBAc2VlIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM0NjQ4I3NlY3Rpb24tNFxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9CYXNlNjQoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICBsZXQgc3RyID0gXCJcIjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkgKz0gMykge1xuICAgIGxldCBiaXRzID0gMDtcbiAgICBsZXQgYml0TGVuZ3RoID0gMDtcbiAgICBmb3IgKGxldCBqID0gaSwgbGltaXQgPSBNYXRoLm1pbihpICsgMywgaW5wdXQubGVuZ3RoKTsgaiA8IGxpbWl0OyBqKyspIHtcbiAgICAgIGJpdHMgfD0gaW5wdXRbal0gPDwgKChsaW1pdCAtIGogLSAxKSAqIGJpdHNQZXJCeXRlKTtcbiAgICAgIGJpdExlbmd0aCArPSBiaXRzUGVyQnl0ZTtcbiAgICB9XG5cbiAgICBjb25zdCBiaXRDbHVzdGVyQ291bnQgPSBNYXRoLmNlaWwoYml0TGVuZ3RoIC8gYml0c1BlckxldHRlcik7XG4gICAgYml0cyA8PD0gYml0Q2x1c3RlckNvdW50ICogYml0c1BlckxldHRlciAtIGJpdExlbmd0aDtcbiAgICBmb3IgKGxldCBrID0gMTsgayA8PSBiaXRDbHVzdGVyQ291bnQ7IGsrKykge1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gKGJpdENsdXN0ZXJDb3VudCAtIGspICogYml0c1BlckxldHRlcjtcbiAgICAgIHN0ciArPSBhbHBoYWJldEJ5VmFsdWVbKGJpdHMgJiAobWF4TGV0dGVyVmFsdWUgPDwgb2Zmc2V0KSkgPj4gb2Zmc2V0XTtcbiAgICB9XG5cbiAgICBzdHIgKz0gXCI9PVwiLnNsaWNlKDAsIDQgLSBiaXRDbHVzdGVyQ291bnQpO1xuICB9XG5cbiAgcmV0dXJuIHN0cjtcbn1cbiJdfQ==","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport API, { GRAPHQL_AUTH_MODE } from '@aws-amplify/api';\nimport Auth from '@aws-amplify/auth';\nimport Cache from '@aws-amplify/cache';\nimport { ConsoleLogger as Logger, Hub } from '@aws-amplify/core';\nimport '@aws-amplify/pubsub';\nimport Observable from 'zen-observable-ts';\nimport { buildSubscriptionGraphQLOperation, getAuthorizationRules, TransformerMutationType, } from '../utils';\nvar logger = new Logger('DataStore');\nexport var CONTROL_MSG;\n(function (CONTROL_MSG) {\n    CONTROL_MSG[\"CONNECTED\"] = \"CONNECTED\";\n})(CONTROL_MSG || (CONTROL_MSG = {}));\nexport var USER_CREDENTIALS;\n(function (USER_CREDENTIALS) {\n    USER_CREDENTIALS[USER_CREDENTIALS[\"none\"] = 0] = \"none\";\n    USER_CREDENTIALS[USER_CREDENTIALS[\"unauth\"] = 1] = \"unauth\";\n    USER_CREDENTIALS[USER_CREDENTIALS[\"auth\"] = 2] = \"auth\";\n})(USER_CREDENTIALS || (USER_CREDENTIALS = {}));\nvar SubscriptionProcessor = /** @class */ (function () {\n    function SubscriptionProcessor(schema) {\n        this.schema = schema;\n        this.typeQuery = new WeakMap();\n        this.buffer = [];\n    }\n    SubscriptionProcessor.prototype.buildSubscription = function (namespace, model, transformerMutationType, userCredentials, cognitoTokenPayload, oidcTokenPayload) {\n        var _a = this.getAuthorizationInfo(model, transformerMutationType, userCredentials, cognitoTokenPayload, oidcTokenPayload) || {}, authMode = _a.authMode, isOwner = _a.isOwner, ownerField = _a.ownerField, ownerValue = _a.ownerValue;\n        var _b = __read(buildSubscriptionGraphQLOperation(namespace, model, transformerMutationType, isOwner, ownerField), 3), opType = _b[0], opName = _b[1], query = _b[2];\n        return { authMode: authMode, opType: opType, opName: opName, query: query, isOwner: isOwner, ownerField: ownerField, ownerValue: ownerValue };\n    };\n    SubscriptionProcessor.prototype.getAuthorizationInfo = function (model, transformerMutationType, userCredentials, cognitoTokenPayload, oidcTokenPayload) {\n        if (cognitoTokenPayload === void 0) { cognitoTokenPayload = {}; }\n        if (oidcTokenPayload === void 0) { oidcTokenPayload = {}; }\n        var result;\n        var rules = getAuthorizationRules(model, transformerMutationType);\n        // check if has apiKey and public authorization\n        var apiKeyAuth = rules.find(function (rule) { return rule.authStrategy === 'public' && rule.provider === 'apiKey'; });\n        if (apiKeyAuth) {\n            return { authMode: GRAPHQL_AUTH_MODE.API_KEY, isOwner: false };\n        }\n        // check if has iam authorization\n        if (userCredentials === USER_CREDENTIALS.unauth ||\n            userCredentials === USER_CREDENTIALS.auth) {\n            var iamPublicAuth = rules.find(function (rule) { return rule.authStrategy === 'public' && rule.provider === 'iam'; });\n            if (iamPublicAuth) {\n                return { authMode: GRAPHQL_AUTH_MODE.AWS_IAM, isOwner: false };\n            }\n            var iamPrivateAuth = userCredentials === USER_CREDENTIALS.auth &&\n                rules.find(function (rule) { return rule.authStrategy === 'private' && rule.provider === 'iam'; });\n            if (iamPrivateAuth) {\n                return { authMode: GRAPHQL_AUTH_MODE.AWS_IAM, isOwner: false };\n            }\n        }\n        // if not check if has groups authorization and token has groupClaim allowed for cognito token\n        var groupAuthRules = rules.filter(function (rule) { return rule.authStrategy === 'group' && rule.provider === 'userPools'; });\n        var validCognitoGroup = groupAuthRules.find(function (groupAuthRule) {\n            // validate token agains groupClaim\n            var userGroups = cognitoTokenPayload[groupAuthRule.groupClaim] || [];\n            return userGroups.find(function (userGroup) {\n                return groupAuthRule.groups.find(function (group) { return group === userGroup; });\n            });\n        });\n        if (validCognitoGroup) {\n            return {\n                authMode: GRAPHQL_AUTH_MODE.AMAZON_COGNITO_USER_POOLS,\n                isOwner: false,\n            };\n        }\n        // if not check if has groups authorization and token has groupClaim allowed for oidc token\n        groupAuthRules = rules.filter(function (rule) { return rule.authStrategy === 'group' && rule.provider === 'oidc'; });\n        var validOidcGroup = groupAuthRules.find(function (groupAuthRule) {\n            // validate token agains groupClaim\n            var userGroups = oidcTokenPayload[groupAuthRule.groupClaim] || [];\n            userGroups.find(function (userGroup) {\n                return groupAuthRule.groups.find(function (group) { return group === userGroup; });\n            });\n        });\n        if (validOidcGroup) {\n            return {\n                authMode: GRAPHQL_AUTH_MODE.OPENID_CONNECT,\n                isOwner: false,\n            };\n        }\n        // check if has owner auth authorization and token ownerField for cognito token\n        var ownerAuthRules = rules.filter(function (rule) { return rule.authStrategy === 'owner' && rule.provider === 'userPools'; });\n        ownerAuthRules.forEach(function (ownerAuthRule) {\n            var ownerValue = cognitoTokenPayload[ownerAuthRule.identityClaim];\n            if (ownerValue) {\n                result = {\n                    authMode: GRAPHQL_AUTH_MODE.AMAZON_COGNITO_USER_POOLS,\n                    isOwner: true,\n                    ownerField: ownerAuthRule.ownerField,\n                    ownerValue: ownerValue,\n                };\n            }\n        });\n        if (result) {\n            return result;\n        }\n        // check if has owner auth authorization and token ownerField for oidc token\n        ownerAuthRules = rules.filter(function (rule) { return rule.authStrategy === 'owner' && rule.provider === 'oidc'; });\n        ownerAuthRules.forEach(function (ownerAuthRule) {\n            var ownerValue = oidcTokenPayload[ownerAuthRule.identityClaim];\n            if (ownerValue) {\n                result = {\n                    authMode: GRAPHQL_AUTH_MODE.OPENID_CONNECT,\n                    isOwner: true,\n                    ownerField: ownerAuthRule.ownerField,\n                    ownerValue: ownerValue,\n                };\n            }\n        });\n        if (result) {\n            return result;\n        }\n        return null;\n    };\n    SubscriptionProcessor.prototype.hubQueryCompletionListener = function (completed, variables, capsule) {\n        if (variables === capsule.payload.data.variables) {\n            completed();\n        }\n    };\n    SubscriptionProcessor.prototype.start = function () {\n        var _this = this;\n        var ctlObservable = new Observable(function (observer) {\n            var promises = [];\n            var subscriptions = [];\n            var cognitoTokenPayload, oidcTokenPayload;\n            var userCredentials = USER_CREDENTIALS.none;\n            (function () { return __awaiter(_this, void 0, void 0, function () {\n                var credentials, err_1, session, err_2, federatedInfo, token, payload, err_3;\n                var _this = this;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            _a.trys.push([0, 2, , 3]);\n                            return [4 /*yield*/, Auth.currentCredentials()];\n                        case 1:\n                            credentials = _a.sent();\n                            userCredentials = credentials.authenticated\n                                ? USER_CREDENTIALS.auth\n                                : USER_CREDENTIALS.unauth;\n                            return [3 /*break*/, 3];\n                        case 2:\n                            err_1 = _a.sent();\n                            return [3 /*break*/, 3];\n                        case 3:\n                            _a.trys.push([3, 5, , 6]);\n                            return [4 /*yield*/, Auth.currentSession()];\n                        case 4:\n                            session = _a.sent();\n                            cognitoTokenPayload = session.getIdToken().decodePayload();\n                            return [3 /*break*/, 6];\n                        case 5:\n                            err_2 = _a.sent();\n                            return [3 /*break*/, 6];\n                        case 6:\n                            _a.trys.push([6, 8, , 9]);\n                            return [4 /*yield*/, Cache.getItem('federatedInfo')];\n                        case 7:\n                            federatedInfo = _a.sent();\n                            token = federatedInfo.token;\n                            payload = token.split('.')[1];\n                            oidcTokenPayload = JSON.parse(Buffer.from(payload, 'base64').toString('utf8'));\n                            return [3 /*break*/, 9];\n                        case 8:\n                            err_3 = _a.sent();\n                            return [3 /*break*/, 9];\n                        case 9:\n                            Object.values(this.schema.namespaces).forEach(function (namespace) {\n                                Object.values(namespace.models)\n                                    .filter(function (_a) {\n                                    var syncable = _a.syncable;\n                                    return syncable;\n                                })\n                                    .forEach(function (modelDefinition) { return __awaiter(_this, void 0, void 0, function () {\n                                    var queriesMetadata;\n                                    var _this = this;\n                                    return __generator(this, function (_a) {\n                                        queriesMetadata = [\n                                            TransformerMutationType.CREATE,\n                                            TransformerMutationType.UPDATE,\n                                            TransformerMutationType.DELETE,\n                                        ].map(function (op) {\n                                            return _this.buildSubscription(namespace, modelDefinition, op, userCredentials, cognitoTokenPayload, oidcTokenPayload);\n                                        });\n                                        queriesMetadata.forEach(function (_a) {\n                                            var transformerMutationType = _a.opType, opName = _a.opName, query = _a.query, isOwner = _a.isOwner, ownerField = _a.ownerField, ownerValue = _a.ownerValue, authMode = _a.authMode;\n                                            return __awaiter(_this, void 0, void 0, function () {\n                                                var marker, queryObservable;\n                                                var _this = this;\n                                                return __generator(this, function (_b) {\n                                                    marker = {};\n                                                    if (isOwner) {\n                                                        if (!ownerValue) {\n                                                            // Check if there is an owner field, check where this error should be located\n                                                            observer.error('Owner field required, sign in is needed in order to perform this operation');\n                                                            return [2 /*return*/];\n                                                        }\n                                                        marker[ownerField] = ownerValue;\n                                                    }\n                                                    queryObservable = API.graphql(__assign({ query: query, variables: marker }, { authMode: authMode }));\n                                                    subscriptions.push(queryObservable\n                                                        .map(function (_a) {\n                                                        var value = _a.value;\n                                                        return value;\n                                                    })\n                                                        .subscribe({\n                                                        next: function (_a) {\n                                                            var data = _a.data, errors = _a.errors;\n                                                            if (Array.isArray(errors) && errors.length > 0) {\n                                                                var messages = errors.map(function (_a) {\n                                                                    var message = _a.message;\n                                                                    return message;\n                                                                });\n                                                                logger.warn(\"Skipping incoming subscription. Messages: \" + messages.join('\\n'));\n                                                                _this.drainBuffer();\n                                                                return;\n                                                            }\n                                                            var _b = opName, record = data[_b];\n                                                            _this.pushToBuffer(transformerMutationType, modelDefinition, record);\n                                                            _this.drainBuffer();\n                                                        },\n                                                        error: function (subscriptionError) {\n                                                            var _a = subscriptionError.error, _b = __read((_a === void 0 ? {\n                                                                errors: [],\n                                                            } : _a).errors, 1), _c = _b[0], _d = (_c === void 0 ? {} : _c).message, message = _d === void 0 ? '' : _d;\n                                                            observer.error(message);\n                                                        },\n                                                    }));\n                                                    promises.push((function () { return __awaiter(_this, void 0, void 0, function () {\n                                                        var boundFunction;\n                                                        var _this = this;\n                                                        return __generator(this, function (_a) {\n                                                            switch (_a.label) {\n                                                                case 0: return [4 /*yield*/, new Promise(function (res) {\n                                                                        boundFunction = _this.hubQueryCompletionListener.bind(_this, res, marker);\n                                                                        Hub.listen('api', boundFunction);\n                                                                    })];\n                                                                case 1:\n                                                                    _a.sent();\n                                                                    Hub.remove('api', boundFunction);\n                                                                    return [2 /*return*/];\n                                                            }\n                                                        });\n                                                    }); })());\n                                                    return [2 /*return*/];\n                                                });\n                                            });\n                                        });\n                                        return [2 /*return*/];\n                                    });\n                                }); });\n                            });\n                            Promise.all(promises).then(function () { return observer.next(CONTROL_MSG.CONNECTED); });\n                            return [2 /*return*/];\n                    }\n                });\n            }); })();\n            return function () {\n                subscriptions.forEach(function (subscription) { return subscription.unsubscribe(); });\n            };\n        });\n        var dataObservable = new Observable(function (observer) {\n            _this.dataObserver = observer;\n            _this.drainBuffer();\n            return function () {\n                _this.dataObserver = null;\n            };\n        });\n        return [ctlObservable, dataObservable];\n    };\n    SubscriptionProcessor.prototype.pushToBuffer = function (transformerMutationType, modelDefinition, data) {\n        this.buffer.push([transformerMutationType, modelDefinition, data]);\n    };\n    SubscriptionProcessor.prototype.drainBuffer = function () {\n        var _this = this;\n        if (this.dataObserver) {\n            this.buffer.forEach(function (data) { return _this.dataObserver.next(data); });\n            this.buffer = [];\n        }\n    };\n    return SubscriptionProcessor;\n}());\nexport { SubscriptionProcessor };\n//# sourceMappingURL=subscription.js.map","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'params', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'url', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress',\n    'maxContentLength', 'validateStatus', 'maxRedirects', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath'\n  ];\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, function mergeDeepProperties(prop) {\n    if (utils.isObject(config2[prop])) {\n      config[prop] = utils.deepMerge(config1[prop], config2[prop]);\n    } else if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (utils.isObject(config1[prop])) {\n      config[prop] = utils.deepMerge(config1[prop]);\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys);\n\n  var otherKeys = Object\n    .keys(config2)\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, function otherKeysDefaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  return config;\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar constants_1 = require(\"./constants\");\nvar delayDecider_1 = require(\"./delayDecider\");\nvar retryDecider_1 = require(\"./retryDecider\");\nvar service_error_classification_1 = require(\"@aws-sdk/service-error-classification\");\nvar ExponentialBackOffStrategy = /** @class */ (function () {\n    function ExponentialBackOffStrategy(maxRetries, retryDecider, delayDecider) {\n        if (retryDecider === void 0) { retryDecider = retryDecider_1.defaultRetryDecider; }\n        if (delayDecider === void 0) { delayDecider = delayDecider_1.defaultDelayDecider; }\n        this.maxRetries = maxRetries;\n        this.retryDecider = retryDecider;\n        this.delayDecider = delayDecider;\n    }\n    ExponentialBackOffStrategy.prototype.shouldRetry = function (error, retryAttempted) {\n        return retryAttempted < this.maxRetries && this.retryDecider(error);\n    };\n    ExponentialBackOffStrategy.prototype.retry = function (next, args) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var retries, totalDelay, _loop_1, this_1, state_1;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        retries = 0;\n                        totalDelay = 0;\n                        _loop_1 = function () {\n                            var _a, response, output, err_1, delay_1;\n                            return tslib_1.__generator(this, function (_b) {\n                                switch (_b.label) {\n                                    case 0:\n                                        _b.trys.push([0, 2, , 5]);\n                                        return [4 /*yield*/, next(args)];\n                                    case 1:\n                                        _a = _b.sent(), response = _a.response, output = _a.output;\n                                        output.$metadata.retries = retries;\n                                        output.$metadata.totalRetryDelay = totalDelay;\n                                        return [2 /*return*/, { value: { response: response, output: output } }];\n                                    case 2:\n                                        err_1 = _b.sent();\n                                        if (!this_1.shouldRetry(err_1, retries)) return [3 /*break*/, 4];\n                                        delay_1 = this_1.delayDecider(service_error_classification_1.isThrottlingError(err_1)\n                                            ? constants_1.THROTTLING_RETRY_DELAY_BASE\n                                            : constants_1.DEFAULT_RETRY_DELAY_BASE, retries++);\n                                        totalDelay += delay_1;\n                                        return [4 /*yield*/, new Promise(function (resolve) { return setTimeout(resolve, delay_1); })];\n                                    case 3:\n                                        _b.sent();\n                                        return [2 /*return*/, \"continue\"];\n                                    case 4:\n                                        if (!err_1.$metadata) {\n                                            err_1.$metadata = {};\n                                        }\n                                        err_1.$metadata.retries = retries;\n                                        err_1.$metadata.totalRetryDelay = totalDelay;\n                                        throw err_1;\n                                    case 5: return [2 /*return*/];\n                                }\n                            });\n                        };\n                        this_1 = this;\n                        _a.label = 1;\n                    case 1:\n                        if (!true) return [3 /*break*/, 3];\n                        return [5 /*yield**/, _loop_1()];\n                    case 2:\n                        state_1 = _a.sent();\n                        if (typeof state_1 === \"object\")\n                            return [2 /*return*/, state_1.value];\n                        return [3 /*break*/, 1];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return ExponentialBackOffStrategy;\n}());\nexports.ExponentialBackOffStrategy = ExponentialBackOffStrategy;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFN0cmF0ZWd5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2RlZmF1bHRTdHJhdGVneS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSx5Q0FHcUI7QUFDckIsK0NBQXFEO0FBQ3JELCtDQUFxRDtBQUNyRCxzRkFBMEU7QUE2QjFFO0lBQ0Usb0NBQ2tCLFVBQWtCLEVBQzFCLFlBQWdELEVBQ2hELFlBQWdEO1FBRGhELDZCQUFBLEVBQUEsZUFBNkIsa0NBQW1CO1FBQ2hELDZCQUFBLEVBQUEsZUFBNkIsa0NBQW1CO1FBRnhDLGVBQVUsR0FBVixVQUFVLENBQVE7UUFDMUIsaUJBQVksR0FBWixZQUFZLENBQW9DO1FBQ2hELGlCQUFZLEdBQVosWUFBWSxDQUFvQztJQUN2RCxDQUFDO0lBQ0ksZ0RBQVcsR0FBbkIsVUFBb0IsS0FBZSxFQUFFLGNBQXNCO1FBQ3pELE9BQU8sY0FBYyxHQUFHLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN0RSxDQUFDO0lBRUssMENBQUssR0FBWCxVQUNFLElBQW1DLEVBQ25DLElBQXFDOzs7Ozs7d0JBRWpDLE9BQU8sR0FBRyxDQUFDLENBQUM7d0JBQ1osVUFBVSxHQUFHLENBQUMsQ0FBQzs7Ozs7Ozt3Q0FHYyxxQkFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUE7O3dDQUF2QyxLQUF1QixTQUFnQixFQUFyQyxRQUFRLGNBQUEsRUFBRSxNQUFNLFlBQUE7d0NBQ3hCLE1BQU0sQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQzt3Q0FDbkMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxlQUFlLEdBQUcsVUFBVSxDQUFDO3VFQUV2QyxFQUFFLFFBQVEsVUFBQSxFQUFFLE1BQU0sUUFBQSxFQUFFOzs7NkNBRXZCLE9BQUssV0FBVyxDQUFDLEtBQWUsRUFBRSxPQUFPLENBQUMsRUFBMUMsd0JBQTBDO3dDQUN0QyxVQUFRLE9BQUssWUFBWSxDQUM3QixnREFBaUIsQ0FBQyxLQUFHLENBQUM7NENBQ3BCLENBQUMsQ0FBQyx1Q0FBMkI7NENBQzdCLENBQUMsQ0FBQyxvQ0FBd0IsRUFDNUIsT0FBTyxFQUFFLENBQ1YsQ0FBQzt3Q0FDRixVQUFVLElBQUksT0FBSyxDQUFDO3dDQUVwQixxQkFBTSxJQUFJLE9BQU8sQ0FBQyxVQUFBLE9BQU8sSUFBSSxPQUFBLFVBQVUsQ0FBQyxPQUFPLEVBQUUsT0FBSyxDQUFDLEVBQTFCLENBQTBCLENBQUMsRUFBQTs7d0NBQXhELFNBQXdELENBQUM7Ozt3Q0FJM0QsSUFBSSxDQUFDLEtBQUcsQ0FBQyxTQUFTLEVBQUU7NENBQ2xCLEtBQUcsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO3lDQUNwQjt3Q0FFRCxLQUFHLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7d0NBQ2hDLEtBQUcsQ0FBQyxTQUFTLENBQUMsZUFBZSxHQUFHLFVBQVUsQ0FBQzt3Q0FDM0MsTUFBTSxLQUFHLENBQUM7Ozs7Ozs7OzZCQTNCUCxJQUFJOzs7Ozs7Ozs7OztLQThCWjtJQUNILGlDQUFDO0FBQUQsQ0FBQyxBQS9DRCxJQStDQztBQS9DWSxnRUFBMEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBERUZBVUxUX1JFVFJZX0RFTEFZX0JBU0UsXG4gIFRIUk9UVExJTkdfUkVUUllfREVMQVlfQkFTRVxufSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IGRlZmF1bHREZWxheURlY2lkZXIgfSBmcm9tIFwiLi9kZWxheURlY2lkZXJcIjtcbmltcG9ydCB7IGRlZmF1bHRSZXRyeURlY2lkZXIgfSBmcm9tIFwiLi9yZXRyeURlY2lkZXJcIjtcbmltcG9ydCB7IGlzVGhyb3R0bGluZ0Vycm9yIH0gZnJvbSBcIkBhd3Mtc2RrL3NlcnZpY2UtZXJyb3ItY2xhc3NpZmljYXRpb25cIjtcbmltcG9ydCB7XG4gIFNka0Vycm9yLFxuICBGaW5hbGl6ZUhhbmRsZXIsXG4gIE1ldGFkYXRhQmVhcmVyLFxuICBGaW5hbGl6ZUhhbmRsZXJBcmd1bWVudHMsXG4gIFJldHJ5U3RyYXRlZ3lcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGFuIGVycm9yIGlzIHJldHJ5YWJsZSBiYXNlZCBvbiB0aGUgbnVtYmVyIG9mIHJldHJpZXNcbiAqIGFscmVhZHkgYXR0ZW1wdGVkLCB0aGUgSFRUUCBzdGF0dXMgY29kZSwgYW5kIHRoZSBlcnJvciByZWNlaXZlZCAoaWYgYW55KS5cbiAqXG4gKiBAcGFyYW0gZXJyb3IgICAgICAgICBUaGUgZXJyb3IgZW5jb3VudGVyZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmV0cnlEZWNpZGVyIHtcbiAgKGVycm9yOiBTZGtFcnJvcik6IGJvb2xlYW47XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSByZXRyeWluZyBhbiBhY3Rpb24uXG4gKlxuICogQHBhcmFtIGRlbGF5QmFzZSBUaGUgYmFzZSBkZWxheSAoaW4gbWlsbGlzZWNvbmRzKS5cbiAqIEBwYXJhbSBhdHRlbXB0cyAgVGhlIG51bWJlciBvZiB0aW1lcyB0aGUgYWN0aW9uIGhhcyBhbHJlYWR5IGJlZW4gdHJpZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGVsYXlEZWNpZGVyIHtcbiAgKGRlbGF5QmFzZTogbnVtYmVyLCBhdHRlbXB0czogbnVtYmVyKTogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgRXhwb25lbnRpYWxCYWNrT2ZmU3RyYXRlZ3kgaW1wbGVtZW50cyBSZXRyeVN0cmF0ZWd5IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IG1heFJldHJpZXM6IG51bWJlcixcbiAgICBwcml2YXRlIHJldHJ5RGVjaWRlcjogUmV0cnlEZWNpZGVyID0gZGVmYXVsdFJldHJ5RGVjaWRlcixcbiAgICBwcml2YXRlIGRlbGF5RGVjaWRlcjogRGVsYXlEZWNpZGVyID0gZGVmYXVsdERlbGF5RGVjaWRlclxuICApIHt9XG4gIHByaXZhdGUgc2hvdWxkUmV0cnkoZXJyb3I6IFNka0Vycm9yLCByZXRyeUF0dGVtcHRlZDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHJldHJ5QXR0ZW1wdGVkIDwgdGhpcy5tYXhSZXRyaWVzICYmIHRoaXMucmV0cnlEZWNpZGVyKGVycm9yKTtcbiAgfVxuXG4gIGFzeW5jIHJldHJ5PElucHV0IGV4dGVuZHMgb2JqZWN0LCBPdXB1dCBleHRlbmRzIE1ldGFkYXRhQmVhcmVyPihcbiAgICBuZXh0OiBGaW5hbGl6ZUhhbmRsZXI8SW5wdXQsIE91cHV0PixcbiAgICBhcmdzOiBGaW5hbGl6ZUhhbmRsZXJBcmd1bWVudHM8SW5wdXQ+XG4gICkge1xuICAgIGxldCByZXRyaWVzID0gMDtcbiAgICBsZXQgdG90YWxEZWxheSA9IDA7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgcmVzcG9uc2UsIG91dHB1dCB9ID0gYXdhaXQgbmV4dChhcmdzKTtcbiAgICAgICAgb3V0cHV0LiRtZXRhZGF0YS5yZXRyaWVzID0gcmV0cmllcztcbiAgICAgICAgb3V0cHV0LiRtZXRhZGF0YS50b3RhbFJldHJ5RGVsYXkgPSB0b3RhbERlbGF5O1xuXG4gICAgICAgIHJldHVybiB7IHJlc3BvbnNlLCBvdXRwdXQgfTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAodGhpcy5zaG91bGRSZXRyeShlcnIgYXMgU2RrRXJyb3IsIHJldHJpZXMpKSB7XG4gICAgICAgICAgY29uc3QgZGVsYXkgPSB0aGlzLmRlbGF5RGVjaWRlcihcbiAgICAgICAgICAgIGlzVGhyb3R0bGluZ0Vycm9yKGVycilcbiAgICAgICAgICAgICAgPyBUSFJPVFRMSU5HX1JFVFJZX0RFTEFZX0JBU0VcbiAgICAgICAgICAgICAgOiBERUZBVUxUX1JFVFJZX0RFTEFZX0JBU0UsXG4gICAgICAgICAgICByZXRyaWVzKytcbiAgICAgICAgICApO1xuICAgICAgICAgIHRvdGFsRGVsYXkgKz0gZGVsYXk7XG5cbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZXJyLiRtZXRhZGF0YSkge1xuICAgICAgICAgIGVyci4kbWV0YWRhdGEgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVyci4kbWV0YWRhdGEucmV0cmllcyA9IHJldHJpZXM7XG4gICAgICAgIGVyci4kbWV0YWRhdGEudG90YWxSZXRyeURlbGF5ID0gdG90YWxEZWxheTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constants_1 = require(\"./constants\");\n/**\n * Calculate a capped, fully-jittered exponential backoff time.\n */\nfunction defaultDelayDecider(delayBase, attempts) {\n    return Math.floor(Math.min(constants_1.MAXIMUM_RETRY_DELAY, Math.random() * Math.pow(2, attempts) * delayBase));\n}\nexports.defaultDelayDecider = defaultDelayDecider;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVsYXlEZWNpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2RlbGF5RGVjaWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHlDQUFrRDtBQUVsRDs7R0FFRztBQUNILFNBQWdCLG1CQUFtQixDQUNqQyxTQUFpQixFQUNqQixRQUFnQjtJQUVoQixPQUFPLElBQUksQ0FBQyxLQUFLLENBQ2YsSUFBSSxDQUFDLEdBQUcsQ0FBQywrQkFBbUIsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsU0FBQSxDQUFDLEVBQUksUUFBUSxDQUFBLEdBQUcsU0FBUyxDQUFDLENBQ3pFLENBQUM7QUFDSixDQUFDO0FBUEQsa0RBT0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNQVhJTVVNX1JFVFJZX0RFTEFZIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgY2FwcGVkLCBmdWxseS1qaXR0ZXJlZCBleHBvbmVudGlhbCBiYWNrb2ZmIHRpbWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0RGVsYXlEZWNpZGVyKFxuICBkZWxheUJhc2U6IG51bWJlcixcbiAgYXR0ZW1wdHM6IG51bWJlclxuKTogbnVtYmVyIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoXG4gICAgTWF0aC5taW4oTUFYSU1VTV9SRVRSWV9ERUxBWSwgTWF0aC5yYW5kb20oKSAqIDIgKiogYXR0ZW1wdHMgKiBkZWxheUJhc2UpXG4gICk7XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constants_1 = require(\"./constants\");\nvar service_error_classification_1 = require(\"@aws-sdk/service-error-classification\");\nexports.defaultRetryDecider = function (error) {\n    if (!error) {\n        return false;\n    }\n    if (error.connectionError) {\n        return true;\n    }\n    if (hasMetadata(error) &&\n        error.$metadata.httpStatusCode &&\n        constants_1.RETRYABLE_STATUS_CODES.has(error.$metadata.httpStatusCode)) {\n        return true;\n    }\n    return (service_error_classification_1.isStillProcessingError(error) ||\n        service_error_classification_1.isThrottlingError(error) ||\n        service_error_classification_1.isClockSkewError(error));\n};\nfunction hasMetadata(error) {\n    return error === null || error === void 0 ? void 0 : error.$metadata;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmV0cnlEZWNpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3JldHJ5RGVjaWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHlDQUFxRDtBQUNyRCxzRkFJK0M7QUFHbEMsUUFBQSxtQkFBbUIsR0FBRyxVQUFDLEtBQWU7SUFDakQsSUFBSSxDQUFDLEtBQUssRUFBRTtRQUNWLE9BQU8sS0FBSyxDQUFDO0tBQ2Q7SUFFRCxJQUFJLEtBQUssQ0FBQyxlQUFlLEVBQUU7UUFDekIsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUVELElBQ0UsV0FBVyxDQUFDLEtBQUssQ0FBQztRQUNsQixLQUFLLENBQUMsU0FBUyxDQUFDLGNBQWM7UUFDOUIsa0NBQXNCLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLEVBQzFEO1FBQ0EsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUVELE9BQU8sQ0FDTCxxREFBc0IsQ0FBQyxLQUFLLENBQUM7UUFDN0IsZ0RBQWlCLENBQUMsS0FBSyxDQUFDO1FBQ3hCLCtDQUFnQixDQUFDLEtBQUssQ0FBQyxDQUN4QixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsU0FBUyxXQUFXLENBQUMsS0FBVTtJQUM3QixPQUFPLEtBQUssYUFBTCxLQUFLLHVCQUFMLEtBQUssQ0FBRSxTQUFTLENBQUM7QUFDMUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJFVFJZQUJMRV9TVEFUVVNfQ09ERVMgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7XG4gIGlzQ2xvY2tTa2V3RXJyb3IsXG4gIGlzU3RpbGxQcm9jZXNzaW5nRXJyb3IsXG4gIGlzVGhyb3R0bGluZ0Vycm9yXG59IGZyb20gXCJAYXdzLXNkay9zZXJ2aWNlLWVycm9yLWNsYXNzaWZpY2F0aW9uXCI7XG5pbXBvcnQgeyBNZXRhZGF0YUJlYXJlciwgU2RrRXJyb3IgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRSZXRyeURlY2lkZXIgPSAoZXJyb3I6IFNka0Vycm9yKSA9PiB7XG4gIGlmICghZXJyb3IpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoZXJyb3IuY29ubmVjdGlvbkVycm9yKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoXG4gICAgaGFzTWV0YWRhdGEoZXJyb3IpICYmXG4gICAgZXJyb3IuJG1ldGFkYXRhLmh0dHBTdGF0dXNDb2RlICYmXG4gICAgUkVUUllBQkxFX1NUQVRVU19DT0RFUy5oYXMoZXJyb3IuJG1ldGFkYXRhLmh0dHBTdGF0dXNDb2RlKVxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgaXNTdGlsbFByb2Nlc3NpbmdFcnJvcihlcnJvcikgfHxcbiAgICBpc1Rocm90dGxpbmdFcnJvcihlcnJvcikgfHxcbiAgICBpc0Nsb2NrU2tld0Vycm9yKGVycm9yKVxuICApO1xufTtcblxuZnVuY3Rpb24gaGFzTWV0YWRhdGEoZXJyb3I6IGFueSk6IGVycm9yIGlzIE1ldGFkYXRhQmVhcmVyIHtcbiAgcmV0dXJuIGVycm9yPy4kbWV0YWRhdGE7XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constants_1 = require(\"./constants\");\nfunction isClockSkewError(error) {\n    return error.name in constants_1.CLOCK_SKEW_ERROR_CODES;\n}\nexports.isClockSkewError = isClockSkewError;\nfunction isStillProcessingError(error) {\n    return error.name in constants_1.STILL_PROCESSING_ERROR_CODES;\n}\nexports.isStillProcessingError = isStillProcessingError;\nfunction isThrottlingError(error) {\n    return error.name in constants_1.THROTTLING_ERROR_CODES;\n}\nexports.isThrottlingError = isThrottlingError;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx5Q0FJcUI7QUFFckIsU0FBZ0IsZ0JBQWdCLENBQUMsS0FBWTtJQUMzQyxPQUFPLEtBQUssQ0FBQyxJQUFJLElBQUksa0NBQXNCLENBQUM7QUFDOUMsQ0FBQztBQUZELDRDQUVDO0FBRUQsU0FBZ0Isc0JBQXNCLENBQUMsS0FBWTtJQUNqRCxPQUFPLEtBQUssQ0FBQyxJQUFJLElBQUksd0NBQTRCLENBQUM7QUFDcEQsQ0FBQztBQUZELHdEQUVDO0FBRUQsU0FBZ0IsaUJBQWlCLENBQUMsS0FBWTtJQUM1QyxPQUFPLEtBQUssQ0FBQyxJQUFJLElBQUksa0NBQXNCLENBQUM7QUFDOUMsQ0FBQztBQUZELDhDQUVDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ0xPQ0tfU0tFV19FUlJPUl9DT0RFUyxcbiAgU1RJTExfUFJPQ0VTU0lOR19FUlJPUl9DT0RFUyxcbiAgVEhST1RUTElOR19FUlJPUl9DT0RFU1xufSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2xvY2tTa2V3RXJyb3IoZXJyb3I6IEVycm9yKSB7XG4gIHJldHVybiBlcnJvci5uYW1lIGluIENMT0NLX1NLRVdfRVJST1JfQ09ERVM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N0aWxsUHJvY2Vzc2luZ0Vycm9yKGVycm9yOiBFcnJvcik6IGJvb2xlYW4ge1xuICByZXR1cm4gZXJyb3IubmFtZSBpbiBTVElMTF9QUk9DRVNTSU5HX0VSUk9SX0NPREVTO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNUaHJvdHRsaW5nRXJyb3IoZXJyb3I6IEVycm9yKTogYm9vbGVhbiB7XG4gIHJldHVybiBlcnJvci5uYW1lIGluIFRIUk9UVExJTkdfRVJST1JfQ09ERVM7XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction escapeUri(uri) {\n    var output = encodeURIComponent(uri);\n    // AWS percent-encodes some extra non-standard characters in a URI\n    output = output.replace(/[!'()*]/g, hexEncode);\n    return output;\n}\nexports.escapeUri = escapeUri;\nfunction hexEncode(c) {\n    return \"%\" + c\n        .charCodeAt(0)\n        .toString(16)\n        .toUpperCase();\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXNjYXBlLXVyaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9lc2NhcGUtdXJpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsU0FBZ0IsU0FBUyxDQUFDLEdBQVc7SUFDbkMsSUFBSSxNQUFNLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUM7SUFFckMsa0VBQWtFO0lBQ2xFLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUUvQyxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDO0FBUEQsOEJBT0M7QUFFRCxTQUFTLFNBQVMsQ0FBQyxDQUFTO0lBQzFCLE9BQU8sTUFBSSxDQUFDO1NBQ1QsVUFBVSxDQUFDLENBQUMsQ0FBQztTQUNiLFFBQVEsQ0FBQyxFQUFFLENBQUM7U0FDWixXQUFXLEVBQUksQ0FBQztBQUNyQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZVVyaSh1cmk6IHN0cmluZyk6IHN0cmluZyB7XG4gIHZhciBvdXRwdXQgPSBlbmNvZGVVUklDb21wb25lbnQodXJpKTtcblxuICAvLyBBV1MgcGVyY2VudC1lbmNvZGVzIHNvbWUgZXh0cmEgbm9uLXN0YW5kYXJkIGNoYXJhY3RlcnMgaW4gYSBVUklcbiAgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UoL1shJygpKl0vZywgaGV4RW5jb2RlKTtcblxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBoZXhFbmNvZGUoYzogc3RyaW5nKSB7XG4gIHJldHVybiBgJSR7Y1xuICAgIC5jaGFyQ29kZUF0KDApXG4gICAgLnRvU3RyaW5nKDE2KVxuICAgIC50b1VwcGVyQ2FzZSgpfWA7XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./MiddlewareStack\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNERBQWtDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi4vTWlkZGxld2FyZVN0YWNrXCI7XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isEmptyData_1 = require(\"./isEmptyData\");\nvar constants_1 = require(\"./constants\");\nvar util_utf8_browser_1 = require(\"@aws-sdk/util-utf8-browser\");\nvar util_locate_window_1 = require(\"@aws-sdk/util-locate-window\");\nvar Sha256 = /** @class */ (function () {\n    function Sha256(secret) {\n        if (secret) {\n            this.operation = getKeyPromise(secret).then(function (keyData) {\n                return util_locate_window_1.locateWindow().msCrypto.subtle.sign(constants_1.SHA_256_HMAC_ALGO, keyData);\n            });\n            this.operation.catch(function () { });\n        }\n        else {\n            this.operation = Promise.resolve(util_locate_window_1.locateWindow().msCrypto.subtle.digest(\"SHA-256\"));\n        }\n    }\n    Sha256.prototype.update = function (toHash) {\n        var _this = this;\n        if (isEmptyData_1.isEmptyData(toHash)) {\n            return;\n        }\n        this.operation = this.operation.then(function (operation) {\n            operation.onerror = function () {\n                _this.operation = Promise.reject(new Error(\"Error encountered updating hash\"));\n            };\n            operation.process(toArrayBufferView(toHash));\n            return operation;\n        });\n        this.operation.catch(function () { });\n    };\n    Sha256.prototype.digest = function () {\n        return this.operation.then(function (operation) {\n            return new Promise(function (resolve, reject) {\n                operation.onerror = function () {\n                    reject(\"Error encountered finalizing hash\");\n                };\n                operation.oncomplete = function () {\n                    if (operation.result) {\n                        resolve(new Uint8Array(operation.result));\n                    }\n                    reject(\"Error encountered finalizing hash\");\n                };\n                operation.finish();\n            });\n        });\n    };\n    return Sha256;\n}());\nexports.Sha256 = Sha256;\nfunction getKeyPromise(secret) {\n    return new Promise(function (resolve, reject) {\n        var keyOperation = util_locate_window_1.locateWindow().msCrypto.subtle.importKey(\"raw\", toArrayBufferView(secret), constants_1.SHA_256_HMAC_ALGO, false, [\"sign\"]);\n        keyOperation.oncomplete = function () {\n            if (keyOperation.result) {\n                resolve(keyOperation.result);\n            }\n            reject(\"ImportKey completed without importing key.\");\n        };\n        keyOperation.onerror = function () {\n            reject(\"ImportKey failed to import key.\");\n        };\n    });\n}\nfunction toArrayBufferView(data) {\n    if (typeof data === \"string\") {\n        return util_utf8_browser_1.fromUtf8(data);\n    }\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n    return new Uint8Array(data);\n}\n//# sourceMappingURL=ie11Sha256.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isEmptyData(data) {\n    if (typeof data === \"string\") {\n        return data.length === 0;\n    }\n    return data.byteLength === 0;\n}\nexports.isEmptyData = isEmptyData;\n//# sourceMappingURL=isEmptyData.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SHA_256_HASH = { name: \"SHA-256\" };\nexports.SHA_256_HMAC_ALGO = {\n    name: \"HMAC\",\n    hash: exports.SHA_256_HASH\n};\nexports.EMPTY_DATA_SHA_256 = new Uint8Array([\n    227,\n    176,\n    196,\n    66,\n    152,\n    252,\n    28,\n    20,\n    154,\n    251,\n    244,\n    200,\n    153,\n    111,\n    185,\n    36,\n    39,\n    174,\n    65,\n    228,\n    100,\n    155,\n    147,\n    76,\n    164,\n    149,\n    153,\n    27,\n    120,\n    82,\n    184,\n    85\n]);\n//# sourceMappingURL=constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_utf8_browser_1 = require(\"@aws-sdk/util-utf8-browser\");\nvar isEmptyData_1 = require(\"./isEmptyData\");\nvar constants_1 = require(\"./constants\");\nvar util_locate_window_1 = require(\"@aws-sdk/util-locate-window\");\nvar Sha256 = /** @class */ (function () {\n    function Sha256(secret) {\n        this.toHash = new Uint8Array(0);\n        if (secret !== void 0) {\n            this.key = new Promise(function (resolve, reject) {\n                util_locate_window_1.locateWindow()\n                    .crypto.subtle.importKey(\"raw\", convertToBuffer(secret), constants_1.SHA_256_HMAC_ALGO, false, [\"sign\"])\n                    .then(resolve, reject);\n            });\n            this.key.catch(function () { });\n        }\n    }\n    Sha256.prototype.update = function (data) {\n        if (isEmptyData_1.isEmptyData(data)) {\n            return;\n        }\n        var update = convertToBuffer(data);\n        var typedArray = new Uint8Array(this.toHash.byteLength + update.byteLength);\n        typedArray.set(this.toHash, 0);\n        typedArray.set(update, this.toHash.byteLength);\n        this.toHash = typedArray;\n    };\n    Sha256.prototype.digest = function () {\n        var _this = this;\n        if (this.key) {\n            return this.key.then(function (key) {\n                return util_locate_window_1.locateWindow()\n                    .crypto.subtle.sign(constants_1.SHA_256_HMAC_ALGO, key, _this.toHash)\n                    .then(function (data) { return new Uint8Array(data); });\n            });\n        }\n        if (isEmptyData_1.isEmptyData(this.toHash)) {\n            return Promise.resolve(constants_1.EMPTY_DATA_SHA_256);\n        }\n        return Promise.resolve()\n            .then(function () {\n            return util_locate_window_1.locateWindow().crypto.subtle.digest(constants_1.SHA_256_HASH, _this.toHash);\n        })\n            .then(function (data) { return Promise.resolve(new Uint8Array(data)); });\n    };\n    return Sha256;\n}());\nexports.Sha256 = Sha256;\nfunction convertToBuffer(data) {\n    if (typeof data === \"string\") {\n        return util_utf8_browser_1.fromUtf8(data);\n    }\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n    return new Uint8Array(data);\n}\n//# sourceMappingURL=webCryptoSha256.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @internal\n */\nexports.BLOCK_SIZE = 64;\n/**\n * @internal\n */\nexports.DIGEST_LENGTH = 32;\n/**\n * @internal\n */\nexports.KEY = new Uint32Array([\n    0x428a2f98,\n    0x71374491,\n    0xb5c0fbcf,\n    0xe9b5dba5,\n    0x3956c25b,\n    0x59f111f1,\n    0x923f82a4,\n    0xab1c5ed5,\n    0xd807aa98,\n    0x12835b01,\n    0x243185be,\n    0x550c7dc3,\n    0x72be5d74,\n    0x80deb1fe,\n    0x9bdc06a7,\n    0xc19bf174,\n    0xe49b69c1,\n    0xefbe4786,\n    0x0fc19dc6,\n    0x240ca1cc,\n    0x2de92c6f,\n    0x4a7484aa,\n    0x5cb0a9dc,\n    0x76f988da,\n    0x983e5152,\n    0xa831c66d,\n    0xb00327c8,\n    0xbf597fc7,\n    0xc6e00bf3,\n    0xd5a79147,\n    0x06ca6351,\n    0x14292967,\n    0x27b70a85,\n    0x2e1b2138,\n    0x4d2c6dfc,\n    0x53380d13,\n    0x650a7354,\n    0x766a0abb,\n    0x81c2c92e,\n    0x92722c85,\n    0xa2bfe8a1,\n    0xa81a664b,\n    0xc24b8b70,\n    0xc76c51a3,\n    0xd192e819,\n    0xd6990624,\n    0xf40e3585,\n    0x106aa070,\n    0x19a4c116,\n    0x1e376c08,\n    0x2748774c,\n    0x34b0bcb5,\n    0x391c0cb3,\n    0x4ed8aa4a,\n    0x5b9cca4f,\n    0x682e6ff3,\n    0x748f82ee,\n    0x78a5636f,\n    0x84c87814,\n    0x8cc70208,\n    0x90befffa,\n    0xa4506ceb,\n    0xbef9a3f7,\n    0xc67178f2\n]);\n/**\n * @internal\n */\nexports.INIT = [\n    0x6a09e667,\n    0xbb67ae85,\n    0x3c6ef372,\n    0xa54ff53a,\n    0x510e527f,\n    0x9b05688c,\n    0x1f83d9ab,\n    0x5be0cd19\n];\n/**\n * @internal\n */\nexports.MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;\n//# sourceMappingURL=constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\n/**\n * An error representing a failure of an individual credential provider.\n *\n * This error class has special meaning to the {@link chain} method. If a\n * provider in the chain is rejected with an error, the chain will only proceed\n * to the next provider if the value of the `tryNextLink` property on the error\n * is truthy. This allows individual providers to halt the chain and also\n * ensures the chain will stop if an entirely unexpected error is encountered.\n */\nvar ProviderError = /** @class */ (function (_super) {\n    tslib_1.__extends(ProviderError, _super);\n    function ProviderError(message, tryNextLink) {\n        if (tryNextLink === void 0) { tryNextLink = true; }\n        var _this = _super.call(this, message) || this;\n        _this.tryNextLink = tryNextLink;\n        return _this;\n    }\n    return ProviderError;\n}(Error));\nexports.ProviderError = ProviderError;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJvdmlkZXJFcnJvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9Qcm92aWRlckVycm9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBOzs7Ozs7OztHQVFHO0FBQ0g7SUFBbUMseUNBQUs7SUFDdEMsdUJBQVksT0FBZSxFQUFrQixXQUEyQjtRQUEzQiw0QkFBQSxFQUFBLGtCQUEyQjtRQUF4RSxZQUNFLGtCQUFNLE9BQU8sQ0FBQyxTQUNmO1FBRjRDLGlCQUFXLEdBQVgsV0FBVyxDQUFnQjs7SUFFeEUsQ0FBQztJQUNILG9CQUFDO0FBQUQsQ0FBQyxBQUpELENBQW1DLEtBQUssR0FJdkM7QUFKWSxzQ0FBYSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNoYWluIH0gZnJvbSBcIi4vY2hhaW5cIjtcblxuLyoqXG4gKiBBbiBlcnJvciByZXByZXNlbnRpbmcgYSBmYWlsdXJlIG9mIGFuIGluZGl2aWR1YWwgY3JlZGVudGlhbCBwcm92aWRlci5cbiAqXG4gKiBUaGlzIGVycm9yIGNsYXNzIGhhcyBzcGVjaWFsIG1lYW5pbmcgdG8gdGhlIHtAbGluayBjaGFpbn0gbWV0aG9kLiBJZiBhXG4gKiBwcm92aWRlciBpbiB0aGUgY2hhaW4gaXMgcmVqZWN0ZWQgd2l0aCBhbiBlcnJvciwgdGhlIGNoYWluIHdpbGwgb25seSBwcm9jZWVkXG4gKiB0byB0aGUgbmV4dCBwcm92aWRlciBpZiB0aGUgdmFsdWUgb2YgdGhlIGB0cnlOZXh0TGlua2AgcHJvcGVydHkgb24gdGhlIGVycm9yXG4gKiBpcyB0cnV0aHkuIFRoaXMgYWxsb3dzIGluZGl2aWR1YWwgcHJvdmlkZXJzIHRvIGhhbHQgdGhlIGNoYWluIGFuZCBhbHNvXG4gKiBlbnN1cmVzIHRoZSBjaGFpbiB3aWxsIHN0b3AgaWYgYW4gZW50aXJlbHkgdW5leHBlY3RlZCBlcnJvciBpcyBlbmNvdW50ZXJlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb3ZpZGVyRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgcHVibGljIHJlYWRvbmx5IHRyeU5leHRMaW5rOiBib29sZWFuID0gdHJ1ZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICB9XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nfunction deserializerMiddleware(options, deserializer) {\n    return (next) => (args) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n        const { response } = yield next(args);\n        const parsed = yield deserializer(response, options);\n        return {\n            response,\n            output: parsed\n        };\n    });\n}\nexports.deserializerMiddleware = deserializerMiddleware;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVzZXJpYWxpemVyTWlkZGxld2FyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9kZXNlcmlhbGl6ZXJNaWRkbGV3YXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQVFBLFNBQWdCLHNCQUFzQixDQUtwQyxPQUFxQixFQUNyQixZQUEwRDtJQUUxRCxPQUFPLENBQ0wsSUFBdUMsRUFDSixFQUFFLENBQUMsQ0FDdEMsSUFBd0MsRUFDRyxFQUFFO1FBQzdDLE1BQU0sRUFBRSxRQUFRLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QyxNQUFNLE1BQU0sR0FBRyxNQUFNLFlBQVksQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDckQsT0FBTztZQUNMLFFBQVE7WUFDUixNQUFNLEVBQUUsTUFBZ0I7U0FDekIsQ0FBQztJQUNKLENBQUMsQ0FBQSxDQUFDO0FBQ0osQ0FBQztBQXBCRCx3REFvQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBSZXNwb25zZURlc2VyaWFsaXplcixcbiAgRGVzZXJpYWxpemVNaWRkbGV3YXJlLFxuICBEZXNlcmlhbGl6ZUhhbmRsZXIsXG4gIERlc2VyaWFsaXplSGFuZGxlckFyZ3VtZW50cyxcbiAgRGVzZXJpYWxpemVIYW5kbGVyT3V0cHV0XG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVyTWlkZGxld2FyZTxcbiAgSW5wdXQgZXh0ZW5kcyBvYmplY3QsXG4gIE91dHB1dCBleHRlbmRzIG9iamVjdCxcbiAgUnVudGltZVV0aWxzID0gYW55XG4+KFxuICBvcHRpb25zOiBSdW50aW1lVXRpbHMsXG4gIGRlc2VyaWFsaXplcjogUmVzcG9uc2VEZXNlcmlhbGl6ZXI8YW55LCBhbnksIFJ1bnRpbWVVdGlscz5cbik6IERlc2VyaWFsaXplTWlkZGxld2FyZTxJbnB1dCwgT3V0cHV0PiB7XG4gIHJldHVybiAoXG4gICAgbmV4dDogRGVzZXJpYWxpemVIYW5kbGVyPElucHV0LCBPdXRwdXQ+XG4gICk6IERlc2VyaWFsaXplSGFuZGxlcjxJbnB1dCwgT3V0cHV0PiA9PiBhc3luYyAoXG4gICAgYXJnczogRGVzZXJpYWxpemVIYW5kbGVyQXJndW1lbnRzPElucHV0PlxuICApOiBQcm9taXNlPERlc2VyaWFsaXplSGFuZGxlck91dHB1dDxPdXRwdXQ+PiA9PiB7XG4gICAgY29uc3QgeyByZXNwb25zZSB9ID0gYXdhaXQgbmV4dChhcmdzKTtcbiAgICBjb25zdCBwYXJzZWQgPSBhd2FpdCBkZXNlcmlhbGl6ZXIocmVzcG9uc2UsIG9wdGlvbnMpO1xuICAgIHJldHVybiB7XG4gICAgICByZXNwb25zZSxcbiAgICAgIG91dHB1dDogcGFyc2VkIGFzIE91dHB1dFxuICAgIH07XG4gIH07XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nfunction serializerMiddleware(options, serializer) {\n    return (next) => (args) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n        const endpointResolvedOptions = Object.assign(Object.assign({}, options), { endpoint: yield options.endpoint() });\n        const request = yield serializer(args.input, endpointResolvedOptions);\n        return next(Object.assign(Object.assign({}, args), { request }));\n    });\n}\nexports.serializerMiddleware = serializerMiddleware;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWFsaXplck1pZGRsZXdhcmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvc2VyaWFsaXplck1pZGRsZXdhcmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBU0EsU0FBZ0Isb0JBQW9CLENBS2xDLE9BQXFCLEVBQ3JCLFVBQWdEO0lBRWhELE9BQU8sQ0FDTCxJQUFxQyxFQUNKLEVBQUUsQ0FBQyxDQUNwQyxJQUFzQyxFQUNHLEVBQUU7UUFDM0MsTUFBTSx1QkFBdUIsbUNBQ3hCLE9BQU8sS0FDVixRQUFRLEVBQUUsTUFBTSxPQUFPLENBQUMsUUFBUSxFQUFFLEdBQ25DLENBQUM7UUFDRixNQUFNLE9BQU8sR0FBRyxNQUFNLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLHVCQUF1QixDQUFDLENBQUM7UUFDdEUsT0FBTyxJQUFJLGlDQUNOLElBQUksS0FDUCxPQUFPLElBQ1AsQ0FBQztJQUNMLENBQUMsQ0FBQSxDQUFDO0FBQ0osQ0FBQztBQXZCRCxvREF1QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBSZXF1ZXN0U2VyaWFsaXplcixcbiAgU2VyaWFsaXplSGFuZGxlcixcbiAgU2VyaWFsaXplSGFuZGxlckFyZ3VtZW50cyxcbiAgU2VyaWFsaXplSGFuZGxlck91dHB1dCxcbiAgU2VyaWFsaXplTWlkZGxld2FyZSxcbiAgRW5kcG9pbnRCZWFyZXJcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVyTWlkZGxld2FyZTxcbiAgSW5wdXQgZXh0ZW5kcyBvYmplY3QsXG4gIE91dHB1dCBleHRlbmRzIG9iamVjdCxcbiAgUnVudGltZVV0aWxzIGV4dGVuZHMgRW5kcG9pbnRCZWFyZXJcbj4oXG4gIG9wdGlvbnM6IFJ1bnRpbWVVdGlscyxcbiAgc2VyaWFsaXplcjogUmVxdWVzdFNlcmlhbGl6ZXI8YW55LCBSdW50aW1lVXRpbHM+XG4pOiBTZXJpYWxpemVNaWRkbGV3YXJlPElucHV0LCBPdXRwdXQ+IHtcbiAgcmV0dXJuIChcbiAgICBuZXh0OiBTZXJpYWxpemVIYW5kbGVyPElucHV0LCBPdXRwdXQ+XG4gICk6IFNlcmlhbGl6ZUhhbmRsZXI8SW5wdXQsIE91dHB1dD4gPT4gYXN5bmMgKFxuICAgIGFyZ3M6IFNlcmlhbGl6ZUhhbmRsZXJBcmd1bWVudHM8SW5wdXQ+XG4gICk6IFByb21pc2U8U2VyaWFsaXplSGFuZGxlck91dHB1dDxPdXRwdXQ+PiA9PiB7XG4gICAgY29uc3QgZW5kcG9pbnRSZXNvbHZlZE9wdGlvbnMgPSB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgZW5kcG9pbnQ6IGF3YWl0IG9wdGlvbnMuZW5kcG9pbnQoKVxuICAgIH07XG4gICAgY29uc3QgcmVxdWVzdCA9IGF3YWl0IHNlcmlhbGl6ZXIoYXJncy5pbnB1dCwgZW5kcG9pbnRSZXNvbHZlZE9wdGlvbnMpO1xuICAgIHJldHVybiBuZXh0KHtcbiAgICAgIC4uLmFyZ3MsXG4gICAgICByZXF1ZXN0XG4gICAgfSk7XG4gIH07XG59XG4iXX0=",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Check if typed arrays are supported\n\t    if (typeof ArrayBuffer != 'function') {\n\t        return;\n\t    }\n\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\n\t    // Reference original init\n\t    var superInit = WordArray.init;\n\n\t    // Augment WordArray.init to handle typed arrays\n\t    var subInit = WordArray.init = function (typedArray) {\n\t        // Convert buffers to uint8\n\t        if (typedArray instanceof ArrayBuffer) {\n\t            typedArray = new Uint8Array(typedArray);\n\t        }\n\n\t        // Convert other array views to uint8\n\t        if (\n\t            typedArray instanceof Int8Array ||\n\t            (typeof Uint8ClampedArray !== \"undefined\" && typedArray instanceof Uint8ClampedArray) ||\n\t            typedArray instanceof Int16Array ||\n\t            typedArray instanceof Uint16Array ||\n\t            typedArray instanceof Int32Array ||\n\t            typedArray instanceof Uint32Array ||\n\t            typedArray instanceof Float32Array ||\n\t            typedArray instanceof Float64Array\n\t        ) {\n\t            typedArray = new Uint8Array(typedArray.buffer, typedArray.byteOffset, typedArray.byteLength);\n\t        }\n\n\t        // Handle Uint8Array\n\t        if (typedArray instanceof Uint8Array) {\n\t            // Shortcut\n\t            var typedArrayByteLength = typedArray.byteLength;\n\n\t            // Extract bytes\n\t            var words = [];\n\t            for (var i = 0; i < typedArrayByteLength; i++) {\n\t                words[i >>> 2] |= typedArray[i] << (24 - (i % 4) * 8);\n\t            }\n\n\t            // Initialize this word array\n\t            superInit.call(this, words, typedArrayByteLength);\n\t        } else {\n\t            // Else call normal init\n\t            superInit.apply(this, arguments);\n\t        }\n\t    };\n\n\t    subInit.prototype = WordArray;\n\t}());\n\n\n\treturn CryptoJS.lib.WordArray;\n\n}));","import { ConsoleLogger as Logger } from './Logger';\nvar logger = new Logger('Parser');\nexport var parseMobileHubConfig = function (config) {\n    var amplifyConfig = {};\n    // Analytics\n    if (config['aws_mobile_analytics_app_id']) {\n        var Analytics = {\n            AWSPinpoint: {\n                appId: config['aws_mobile_analytics_app_id'],\n                region: config['aws_mobile_analytics_app_region'],\n            },\n        };\n        amplifyConfig.Analytics = Analytics;\n    }\n    // Auth\n    if (config['aws_cognito_identity_pool_id'] || config['aws_user_pools_id']) {\n        amplifyConfig.Auth = {\n            userPoolId: config['aws_user_pools_id'],\n            userPoolWebClientId: config['aws_user_pools_web_client_id'],\n            region: config['aws_cognito_region'],\n            identityPoolId: config['aws_cognito_identity_pool_id'],\n            identityPoolRegion: config['aws_cognito_region'],\n            mandatorySignIn: config['aws_mandatory_sign_in'] === 'enable',\n        };\n    }\n    // Storage\n    var storageConfig;\n    if (config['aws_user_files_s3_bucket']) {\n        storageConfig = {\n            AWSS3: {\n                bucket: config['aws_user_files_s3_bucket'],\n                region: config['aws_user_files_s3_bucket_region'],\n                dangerouslyConnectToHttpEndpointForTesting: config['aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing'],\n            },\n        };\n    }\n    else {\n        storageConfig = config ? config.Storage || config : {};\n    }\n    amplifyConfig.Analytics = Object.assign({}, amplifyConfig.Analytics, config.Analytics);\n    amplifyConfig.Auth = Object.assign({}, amplifyConfig.Auth, config.Auth);\n    amplifyConfig.Storage = Object.assign({}, storageConfig);\n    logger.debug('parse config', config, 'to amplifyconfig', amplifyConfig);\n    return amplifyConfig;\n};\n/**\n * @deprecated use per-function export\n */\nvar Parser = /** @class */ (function () {\n    function Parser() {\n    }\n    Parser.parseMobilehubConfig = parseMobileHubConfig;\n    return Parser;\n}());\nexport { Parser };\n/**\n * @deprecated use per-function export\n */\nexport default Parser;\n//# sourceMappingURL=Parser.js.map","import { __read } from \"tslib\";\n/**\n * @internal\n */\nexport function resolveLogins(logins) {\n    return Promise.all(Object.keys(logins).reduce(function (arr, name) {\n        var tokenOrProvider = logins[name];\n        if (typeof tokenOrProvider === \"string\") {\n            arr.push([name, tokenOrProvider]);\n        }\n        else {\n            arr.push(tokenOrProvider().then(function (token) { return [name, token]; }));\n        }\n        return arr;\n    }, [])).then(function (resolvedPairs) {\n        return resolvedPairs.reduce(function (logins, _a) {\n            var _b = __read(_a, 2), key = _b[0], value = _b[1];\n            logins[key] = value;\n            return logins;\n        }, {});\n    });\n}\n//# sourceMappingURL=resolveLogins.js.map","import { __assign, __awaiter, __generator, __values } from \"tslib\";\nimport { HttpRequest as __HttpRequest } from \"@aws-sdk/protocol-http\";\nexport function serializeAws_json1_1CreateIdentityPoolCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.CreateIdentityPool\";\n            body = JSON.stringify(serializeAws_json1_1CreateIdentityPoolInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1DeleteIdentitiesCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.DeleteIdentities\";\n            body = JSON.stringify(serializeAws_json1_1DeleteIdentitiesInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1DeleteIdentityPoolCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.DeleteIdentityPool\";\n            body = JSON.stringify(serializeAws_json1_1DeleteIdentityPoolInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1DescribeIdentityCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.DescribeIdentity\";\n            body = JSON.stringify(serializeAws_json1_1DescribeIdentityInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1DescribeIdentityPoolCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.DescribeIdentityPool\";\n            body = JSON.stringify(serializeAws_json1_1DescribeIdentityPoolInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1GetCredentialsForIdentityCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] =\n                \"AWSCognitoIdentityService.GetCredentialsForIdentity\";\n            body = JSON.stringify(serializeAws_json1_1GetCredentialsForIdentityInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1GetIdCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.GetId\";\n            body = JSON.stringify(serializeAws_json1_1GetIdInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1GetIdentityPoolRolesCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.GetIdentityPoolRoles\";\n            body = JSON.stringify(serializeAws_json1_1GetIdentityPoolRolesInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1GetOpenIdTokenCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.GetOpenIdToken\";\n            body = JSON.stringify(serializeAws_json1_1GetOpenIdTokenInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] =\n                \"AWSCognitoIdentityService.GetOpenIdTokenForDeveloperIdentity\";\n            body = JSON.stringify(serializeAws_json1_1GetOpenIdTokenForDeveloperIdentityInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1ListIdentitiesCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.ListIdentities\";\n            body = JSON.stringify(serializeAws_json1_1ListIdentitiesInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1ListIdentityPoolsCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.ListIdentityPools\";\n            body = JSON.stringify(serializeAws_json1_1ListIdentityPoolsInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1ListTagsForResourceCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.ListTagsForResource\";\n            body = JSON.stringify(serializeAws_json1_1ListTagsForResourceInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1LookupDeveloperIdentityCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.LookupDeveloperIdentity\";\n            body = JSON.stringify(serializeAws_json1_1LookupDeveloperIdentityInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1MergeDeveloperIdentitiesCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] =\n                \"AWSCognitoIdentityService.MergeDeveloperIdentities\";\n            body = JSON.stringify(serializeAws_json1_1MergeDeveloperIdentitiesInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1SetIdentityPoolRolesCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.SetIdentityPoolRoles\";\n            body = JSON.stringify(serializeAws_json1_1SetIdentityPoolRolesInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1TagResourceCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.TagResource\";\n            body = JSON.stringify(serializeAws_json1_1TagResourceInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1UnlinkDeveloperIdentityCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.UnlinkDeveloperIdentity\";\n            body = JSON.stringify(serializeAws_json1_1UnlinkDeveloperIdentityInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1UnlinkIdentityCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.UnlinkIdentity\";\n            body = JSON.stringify(serializeAws_json1_1UnlinkIdentityInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1UntagResourceCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.UntagResource\";\n            body = JSON.stringify(serializeAws_json1_1UntagResourceInput(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function serializeAws_json1_1UpdateIdentityPoolCommand(input, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var headers, body;\n        return __generator(this, function (_a) {\n            headers = {};\n            headers[\"Content-Type\"] = \"application/x-amz-json-1.1\";\n            headers[\"X-Amz-Target\"] = \"AWSCognitoIdentityService.UpdateIdentityPool\";\n            body = JSON.stringify(serializeAws_json1_1IdentityPool(input, context));\n            return [2 /*return*/, buildHttpRpcRequest(context, headers, \"/\", undefined, body)];\n        });\n    });\n}\nexport function deserializeAws_json1_1CreateIdentityPoolCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1CreateIdentityPoolCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1IdentityPool(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"IdentityPool\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1CreateIdentityPoolCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, _j, parsedBody, message;\n        return __generator(this, function (_k) {\n            switch (_k.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _k.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"InternalErrorException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 2];\n                        case \"InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"LimitExceededException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#LimitExceededException\": return [3 /*break*/, 6];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 8];\n                        case \"ResourceConflictException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#ResourceConflictException\": return [3 /*break*/, 10];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 12];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 12];\n                    }\n                    return [3 /*break*/, 14];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1LimitExceededExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceConflictExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 12:\n                    _j = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 13:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 14:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _k.label = 15;\n                case 15:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1DeleteIdentitiesCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1DeleteIdentitiesCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1DeleteIdentitiesResponse(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"DeleteIdentitiesResponse\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1DeleteIdentitiesCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, parsedBody, message;\n        return __generator(this, function (_g) {\n            switch (_g.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _g.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"InternalErrorException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 2];\n                        case \"InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 6];\n                    }\n                    return [3 /*break*/, 8];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_g.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 9];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_g.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 9];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_g.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 9];\n                case 8:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _g.label = 9;\n                case 9:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1DeleteIdentityPoolCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1DeleteIdentityPoolCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, collectBody(output.body, context)];\n                case 1:\n                    _a.sent();\n                    response = {\n                        $metadata: deserializeMetadata(output)\n                    };\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1DeleteIdentityPoolCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, parsedBody, message;\n        return __generator(this, function (_j) {\n            switch (_j.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _j.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"InternalErrorException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 2];\n                        case \"InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 8];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 10];\n                    }\n                    return [3 /*break*/, 12];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 12:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _j.label = 13;\n                case 13:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1DescribeIdentityCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1DescribeIdentityCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1IdentityDescription(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"IdentityDescription\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1DescribeIdentityCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, parsedBody, message;\n        return __generator(this, function (_j) {\n            switch (_j.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _j.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"InternalErrorException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 2];\n                        case \"InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 8];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 10];\n                    }\n                    return [3 /*break*/, 12];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 12:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _j.label = 13;\n                case 13:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1DescribeIdentityPoolCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1DescribeIdentityPoolCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1IdentityPool(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"IdentityPool\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1DescribeIdentityPoolCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, parsedBody, message;\n        return __generator(this, function (_j) {\n            switch (_j.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _j.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"InternalErrorException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 2];\n                        case \"InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 8];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 10];\n                    }\n                    return [3 /*break*/, 12];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 12:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _j.label = 13;\n                case 13:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1GetCredentialsForIdentityCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1GetCredentialsForIdentityCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1GetCredentialsForIdentityResponse(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"GetCredentialsForIdentityResponse\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1GetCredentialsForIdentityCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, _j, _k, _l, parsedBody, message;\n        return __generator(this, function (_m) {\n            switch (_m.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _m.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"ExternalServiceException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#ExternalServiceException\": return [3 /*break*/, 2];\n                        case \"InternalErrorException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 4];\n                        case \"InvalidIdentityPoolConfigurationException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#InvalidIdentityPoolConfigurationException\": return [3 /*break*/, 6];\n                        case \"InvalidParameterException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 8];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 10];\n                        case \"ResourceConflictException\": return [3 /*break*/, 12];\n                        case \"com.amazonaws.cognito.identity.model#ResourceConflictException\": return [3 /*break*/, 12];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 14];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 14];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 16];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 16];\n                    }\n                    return [3 /*break*/, 18];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ExternalServiceExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidIdentityPoolConfigurationExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 12:\n                    _j = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceConflictExceptionResponse(parsedOutput, context)];\n                case 13:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 14:\n                    _k = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 15:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _k.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 16:\n                    _l = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 17:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _l.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 18:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _m.label = 19;\n                case 19:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1GetIdCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1GetIdCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1GetIdResponse(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"GetIdResponse\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1GetIdCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, _j, _k, _l, parsedBody, message;\n        return __generator(this, function (_m) {\n            switch (_m.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _m.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"ExternalServiceException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#ExternalServiceException\": return [3 /*break*/, 2];\n                        case \"InternalErrorException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 4];\n                        case \"InvalidParameterException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 6];\n                        case \"LimitExceededException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#LimitExceededException\": return [3 /*break*/, 8];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 10];\n                        case \"ResourceConflictException\": return [3 /*break*/, 12];\n                        case \"com.amazonaws.cognito.identity.model#ResourceConflictException\": return [3 /*break*/, 12];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 14];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 14];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 16];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 16];\n                    }\n                    return [3 /*break*/, 18];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ExternalServiceExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1LimitExceededExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 12:\n                    _j = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceConflictExceptionResponse(parsedOutput, context)];\n                case 13:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 14:\n                    _k = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 15:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _k.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 16:\n                    _l = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 17:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _l.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 18:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _m.label = 19;\n                case 19:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1GetIdentityPoolRolesCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1GetIdentityPoolRolesCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1GetIdentityPoolRolesResponse(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"GetIdentityPoolRolesResponse\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1GetIdentityPoolRolesCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, _j, parsedBody, message;\n        return __generator(this, function (_k) {\n            switch (_k.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _k.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"InternalErrorException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 2];\n                        case \"InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"ResourceConflictException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#ResourceConflictException\": return [3 /*break*/, 8];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 10];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 12];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 12];\n                    }\n                    return [3 /*break*/, 14];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceConflictExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 12:\n                    _j = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 13:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 14:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _k.label = 15;\n                case 15:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1GetOpenIdTokenCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1GetOpenIdTokenCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1GetOpenIdTokenResponse(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"GetOpenIdTokenResponse\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1GetOpenIdTokenCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, _j, _k, parsedBody, message;\n        return __generator(this, function (_l) {\n            switch (_l.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _l.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"ExternalServiceException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#ExternalServiceException\": return [3 /*break*/, 2];\n                        case \"InternalErrorException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 4];\n                        case \"InvalidParameterException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 6];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 8];\n                        case \"ResourceConflictException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#ResourceConflictException\": return [3 /*break*/, 10];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 12];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 12];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 14];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 14];\n                    }\n                    return [3 /*break*/, 16];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ExternalServiceExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceConflictExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 12:\n                    _j = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 13:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 14:\n                    _k = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 15:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _k.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 16:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _l.label = 17;\n                case 17:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityResponse(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"GetOpenIdTokenForDeveloperIdentityResponse\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, _j, _k, parsedBody, message;\n        return __generator(this, function (_l) {\n            switch (_l.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _l.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"DeveloperUserAlreadyRegisteredException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#DeveloperUserAlreadyRegisteredException\": return [3 /*break*/, 2];\n                        case \"InternalErrorException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 4];\n                        case \"InvalidParameterException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 6];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 8];\n                        case \"ResourceConflictException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#ResourceConflictException\": return [3 /*break*/, 10];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 12];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 12];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 14];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 14];\n                    }\n                    return [3 /*break*/, 16];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1DeveloperUserAlreadyRegisteredExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceConflictExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 12:\n                    _j = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 13:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 14:\n                    _k = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 15:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _k.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 16:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _l.label = 17;\n                case 17:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1ListIdentitiesCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1ListIdentitiesCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1ListIdentitiesResponse(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"ListIdentitiesResponse\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1ListIdentitiesCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, parsedBody, message;\n        return __generator(this, function (_j) {\n            switch (_j.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _j.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"InternalErrorException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 2];\n                        case \"InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 8];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 10];\n                    }\n                    return [3 /*break*/, 12];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 12:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _j.label = 13;\n                case 13:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1ListIdentityPoolsCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1ListIdentityPoolsCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1ListIdentityPoolsResponse(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"ListIdentityPoolsResponse\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1ListIdentityPoolsCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, parsedBody, message;\n        return __generator(this, function (_j) {\n            switch (_j.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _j.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"InternalErrorException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 2];\n                        case \"InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 8];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 10];\n                    }\n                    return [3 /*break*/, 12];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 12:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _j.label = 13;\n                case 13:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1ListTagsForResourceCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1ListTagsForResourceCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1ListTagsForResourceResponse(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"ListTagsForResourceResponse\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1ListTagsForResourceCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, parsedBody, message;\n        return __generator(this, function (_j) {\n            switch (_j.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _j.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"InternalErrorException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 2];\n                        case \"InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 8];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 10];\n                    }\n                    return [3 /*break*/, 12];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 12:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _j.label = 13;\n                case 13:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1LookupDeveloperIdentityCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1LookupDeveloperIdentityCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1LookupDeveloperIdentityResponse(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"LookupDeveloperIdentityResponse\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1LookupDeveloperIdentityCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, _j, parsedBody, message;\n        return __generator(this, function (_k) {\n            switch (_k.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _k.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"InternalErrorException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 2];\n                        case \"InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"ResourceConflictException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#ResourceConflictException\": return [3 /*break*/, 8];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 10];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 12];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 12];\n                    }\n                    return [3 /*break*/, 14];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceConflictExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 12:\n                    _j = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 13:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 14:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _k.label = 15;\n                case 15:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1MergeDeveloperIdentitiesCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1MergeDeveloperIdentitiesCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1MergeDeveloperIdentitiesResponse(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"MergeDeveloperIdentitiesResponse\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1MergeDeveloperIdentitiesCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, _j, parsedBody, message;\n        return __generator(this, function (_k) {\n            switch (_k.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _k.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"InternalErrorException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 2];\n                        case \"InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"ResourceConflictException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#ResourceConflictException\": return [3 /*break*/, 8];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 10];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 12];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 12];\n                    }\n                    return [3 /*break*/, 14];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceConflictExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 12:\n                    _j = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 13:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 14:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _k.label = 15;\n                case 15:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1SetIdentityPoolRolesCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1SetIdentityPoolRolesCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, collectBody(output.body, context)];\n                case 1:\n                    _a.sent();\n                    response = {\n                        $metadata: deserializeMetadata(output)\n                    };\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1SetIdentityPoolRolesCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, _j, _k, parsedBody, message;\n        return __generator(this, function (_l) {\n            switch (_l.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _l.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"ConcurrentModificationException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#ConcurrentModificationException\": return [3 /*break*/, 2];\n                        case \"InternalErrorException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 4];\n                        case \"InvalidParameterException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 6];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 8];\n                        case \"ResourceConflictException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#ResourceConflictException\": return [3 /*break*/, 10];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 12];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 12];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 14];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 14];\n                    }\n                    return [3 /*break*/, 16];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ConcurrentModificationExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceConflictExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 12:\n                    _j = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 13:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 14:\n                    _k = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 15:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _k.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 16:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _l.label = 17;\n                case 17:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1TagResourceCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1TagResourceCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1TagResourceResponse(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"TagResourceResponse\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1TagResourceCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, parsedBody, message;\n        return __generator(this, function (_j) {\n            switch (_j.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _j.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"InternalErrorException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 2];\n                        case \"InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 8];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 10];\n                    }\n                    return [3 /*break*/, 12];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 12:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _j.label = 13;\n                case 13:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1UnlinkDeveloperIdentityCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1UnlinkDeveloperIdentityCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, collectBody(output.body, context)];\n                case 1:\n                    _a.sent();\n                    response = {\n                        $metadata: deserializeMetadata(output)\n                    };\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1UnlinkDeveloperIdentityCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, _j, parsedBody, message;\n        return __generator(this, function (_k) {\n            switch (_k.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _k.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"InternalErrorException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 2];\n                        case \"InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"ResourceConflictException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#ResourceConflictException\": return [3 /*break*/, 8];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 10];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 12];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 12];\n                    }\n                    return [3 /*break*/, 14];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceConflictExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 12:\n                    _j = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 13:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 15];\n                case 14:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _k.label = 15;\n                case 15:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1UnlinkIdentityCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1UnlinkIdentityCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, collectBody(output.body, context)];\n                case 1:\n                    _a.sent();\n                    response = {\n                        $metadata: deserializeMetadata(output)\n                    };\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1UnlinkIdentityCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, _j, _k, parsedBody, message;\n        return __generator(this, function (_l) {\n            switch (_l.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _l.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"ExternalServiceException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#ExternalServiceException\": return [3 /*break*/, 2];\n                        case \"InternalErrorException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 4];\n                        case \"InvalidParameterException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 6];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 8];\n                        case \"ResourceConflictException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#ResourceConflictException\": return [3 /*break*/, 10];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 12];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 12];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 14];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 14];\n                    }\n                    return [3 /*break*/, 16];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ExternalServiceExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceConflictExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 12:\n                    _j = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 13:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 14:\n                    _k = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 15:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _k.concat([(_l.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 17];\n                case 16:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _l.label = 17;\n                case 17:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1UntagResourceCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1UntagResourceCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1UntagResourceResponse(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"UntagResourceResponse\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1UntagResourceCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, parsedBody, message;\n        return __generator(this, function (_j) {\n            switch (_j.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _j.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"InternalErrorException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 2];\n                        case \"InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 4];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 6];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 8];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 10];\n                    }\n                    return [3 /*break*/, 12];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 13];\n                case 12:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _j.label = 13;\n                case 13:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nexport function deserializeAws_json1_1UpdateIdentityPoolCommand(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, contents, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (output.statusCode >= 400) {\n                        return [2 /*return*/, deserializeAws_json1_1UpdateIdentityPoolCommandError(output, context)];\n                    }\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    data = _a.sent();\n                    contents = {};\n                    contents = deserializeAws_json1_1IdentityPool(data, context);\n                    response = __assign({ $metadata: deserializeMetadata(output), __type: \"IdentityPool\" }, contents);\n                    return [2 /*return*/, Promise.resolve(response)];\n            }\n        });\n    });\n}\nfunction deserializeAws_json1_1UpdateIdentityPoolCommandError(output, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var parsedOutput, _a, _b, response, errorCode, errorTypeParts, _c, _d, _e, _f, _g, _h, _j, _k, _l, parsedBody, message;\n        return __generator(this, function (_m) {\n            switch (_m.label) {\n                case 0:\n                    _a = [__assign({}, output)];\n                    _b = {};\n                    return [4 /*yield*/, parseBody(output.body, context)];\n                case 1:\n                    parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _m.sent(), _b)]));\n                    errorCode = \"UnknownError\";\n                    errorTypeParts = parsedOutput.body[\"__type\"].split(\"#\");\n                    errorCode =\n                        errorTypeParts[1] === undefined ? errorTypeParts[0] : errorTypeParts[1];\n                    _c = errorCode;\n                    switch (_c) {\n                        case \"ConcurrentModificationException\": return [3 /*break*/, 2];\n                        case \"com.amazonaws.cognito.identity.model#ConcurrentModificationException\": return [3 /*break*/, 2];\n                        case \"InternalErrorException\": return [3 /*break*/, 4];\n                        case \"com.amazonaws.cognito.identity.model#InternalErrorException\": return [3 /*break*/, 4];\n                        case \"InvalidParameterException\": return [3 /*break*/, 6];\n                        case \"com.amazonaws.cognito.identity.model#InvalidParameterException\": return [3 /*break*/, 6];\n                        case \"LimitExceededException\": return [3 /*break*/, 8];\n                        case \"com.amazonaws.cognito.identity.model#LimitExceededException\": return [3 /*break*/, 8];\n                        case \"NotAuthorizedException\": return [3 /*break*/, 10];\n                        case \"com.amazonaws.cognito.identity.model#NotAuthorizedException\": return [3 /*break*/, 10];\n                        case \"ResourceConflictException\": return [3 /*break*/, 12];\n                        case \"com.amazonaws.cognito.identity.model#ResourceConflictException\": return [3 /*break*/, 12];\n                        case \"ResourceNotFoundException\": return [3 /*break*/, 14];\n                        case \"com.amazonaws.cognito.identity.model#ResourceNotFoundException\": return [3 /*break*/, 14];\n                        case \"TooManyRequestsException\": return [3 /*break*/, 16];\n                        case \"com.amazonaws.cognito.identity.model#TooManyRequestsException\": return [3 /*break*/, 16];\n                    }\n                    return [3 /*break*/, 18];\n                case 2:\n                    _d = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ConcurrentModificationExceptionResponse(parsedOutput, context)];\n                case 3:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 4:\n                    _e = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InternalErrorExceptionResponse(parsedOutput, context)];\n                case 5:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 6:\n                    _f = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1InvalidParameterExceptionResponse(parsedOutput, context)];\n                case 7:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 8:\n                    _g = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1LimitExceededExceptionResponse(parsedOutput, context)];\n                case 9:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 10:\n                    _h = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1NotAuthorizedExceptionResponse(parsedOutput, context)];\n                case 11:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 12:\n                    _j = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceConflictExceptionResponse(parsedOutput, context)];\n                case 13:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 14:\n                    _k = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n                case 15:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _k.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 16:\n                    _l = [{}];\n                    return [4 /*yield*/, deserializeAws_json1_1TooManyRequestsExceptionResponse(parsedOutput, context)];\n                case 17:\n                    response = __assign.apply(void 0, [__assign.apply(void 0, _l.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                    return [3 /*break*/, 19];\n                case 18:\n                    parsedBody = parsedOutput.body;\n                    errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                    response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                    _m.label = 19;\n                case 19:\n                    message = response.message || response.Message || errorCode;\n                    response.message = message;\n                    delete response.Message;\n                    return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n            }\n        });\n    });\n}\nvar deserializeAws_json1_1ConcurrentModificationExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var body, deserialized, contents;\n    return __generator(this, function (_a) {\n        body = parsedOutput.body;\n        deserialized = deserializeAws_json1_1ConcurrentModificationException(body, context);\n        contents = __assign({ name: \"ConcurrentModificationException\", $fault: \"client\", $metadata: deserializeMetadata(parsedOutput) }, deserialized);\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_json1_1DeveloperUserAlreadyRegisteredExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var body, deserialized, contents;\n    return __generator(this, function (_a) {\n        body = parsedOutput.body;\n        deserialized = deserializeAws_json1_1DeveloperUserAlreadyRegisteredException(body, context);\n        contents = __assign({ name: \"DeveloperUserAlreadyRegisteredException\", $fault: \"client\", $metadata: deserializeMetadata(parsedOutput) }, deserialized);\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_json1_1ExternalServiceExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var body, deserialized, contents;\n    return __generator(this, function (_a) {\n        body = parsedOutput.body;\n        deserialized = deserializeAws_json1_1ExternalServiceException(body, context);\n        contents = __assign({ name: \"ExternalServiceException\", $fault: \"client\", $metadata: deserializeMetadata(parsedOutput) }, deserialized);\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_json1_1InternalErrorExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var body, deserialized, contents;\n    return __generator(this, function (_a) {\n        body = parsedOutput.body;\n        deserialized = deserializeAws_json1_1InternalErrorException(body, context);\n        contents = __assign({ name: \"InternalErrorException\", $fault: \"server\", $metadata: deserializeMetadata(parsedOutput) }, deserialized);\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_json1_1InvalidIdentityPoolConfigurationExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var body, deserialized, contents;\n    return __generator(this, function (_a) {\n        body = parsedOutput.body;\n        deserialized = deserializeAws_json1_1InvalidIdentityPoolConfigurationException(body, context);\n        contents = __assign({ name: \"InvalidIdentityPoolConfigurationException\", $fault: \"client\", $metadata: deserializeMetadata(parsedOutput) }, deserialized);\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_json1_1InvalidParameterExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var body, deserialized, contents;\n    return __generator(this, function (_a) {\n        body = parsedOutput.body;\n        deserialized = deserializeAws_json1_1InvalidParameterException(body, context);\n        contents = __assign({ name: \"InvalidParameterException\", $fault: \"client\", $metadata: deserializeMetadata(parsedOutput) }, deserialized);\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_json1_1LimitExceededExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var body, deserialized, contents;\n    return __generator(this, function (_a) {\n        body = parsedOutput.body;\n        deserialized = deserializeAws_json1_1LimitExceededException(body, context);\n        contents = __assign({ name: \"LimitExceededException\", $fault: \"client\", $metadata: deserializeMetadata(parsedOutput) }, deserialized);\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_json1_1NotAuthorizedExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var body, deserialized, contents;\n    return __generator(this, function (_a) {\n        body = parsedOutput.body;\n        deserialized = deserializeAws_json1_1NotAuthorizedException(body, context);\n        contents = __assign({ name: \"NotAuthorizedException\", $fault: \"client\", $metadata: deserializeMetadata(parsedOutput) }, deserialized);\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_json1_1ResourceConflictExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var body, deserialized, contents;\n    return __generator(this, function (_a) {\n        body = parsedOutput.body;\n        deserialized = deserializeAws_json1_1ResourceConflictException(body, context);\n        contents = __assign({ name: \"ResourceConflictException\", $fault: \"client\", $metadata: deserializeMetadata(parsedOutput) }, deserialized);\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_json1_1ResourceNotFoundExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var body, deserialized, contents;\n    return __generator(this, function (_a) {\n        body = parsedOutput.body;\n        deserialized = deserializeAws_json1_1ResourceNotFoundException(body, context);\n        contents = __assign({ name: \"ResourceNotFoundException\", $fault: \"client\", $metadata: deserializeMetadata(parsedOutput) }, deserialized);\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_json1_1TooManyRequestsExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var body, deserialized, contents;\n    return __generator(this, function (_a) {\n        body = parsedOutput.body;\n        deserialized = deserializeAws_json1_1TooManyRequestsException(body, context);\n        contents = __assign({ name: \"TooManyRequestsException\", $fault: \"client\", $metadata: deserializeMetadata(parsedOutput) }, deserialized);\n        return [2 /*return*/, contents];\n    });\n}); };\nvar serializeAws_json1_1CognitoIdentityProvider = function (input, context) {\n    var bodyParams = {};\n    if (input.ClientId !== undefined) {\n        bodyParams[\"ClientId\"] = input.ClientId;\n    }\n    if (input.ProviderName !== undefined) {\n        bodyParams[\"ProviderName\"] = input.ProviderName;\n    }\n    if (input.ServerSideTokenCheck !== undefined) {\n        bodyParams[\"ServerSideTokenCheck\"] = input.ServerSideTokenCheck;\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1CognitoIdentityProviderList = function (input, context) {\n    var e_1, _a;\n    var contents = [];\n    try {\n        for (var input_1 = __values(input), input_1_1 = input_1.next(); !input_1_1.done; input_1_1 = input_1.next()) {\n            var entry = input_1_1.value;\n            contents.push(serializeAws_json1_1CognitoIdentityProvider(entry, context));\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (input_1_1 && !input_1_1.done && (_a = input_1.return)) _a.call(input_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return contents;\n};\nvar serializeAws_json1_1CreateIdentityPoolInput = function (input, context) {\n    var bodyParams = {};\n    if (input.AllowClassicFlow !== undefined) {\n        bodyParams[\"AllowClassicFlow\"] = input.AllowClassicFlow;\n    }\n    if (input.AllowUnauthenticatedIdentities !== undefined) {\n        bodyParams[\"AllowUnauthenticatedIdentities\"] =\n            input.AllowUnauthenticatedIdentities;\n    }\n    if (input.CognitoIdentityProviders !== undefined) {\n        bodyParams[\"CognitoIdentityProviders\"] = serializeAws_json1_1CognitoIdentityProviderList(input.CognitoIdentityProviders, context);\n    }\n    if (input.DeveloperProviderName !== undefined) {\n        bodyParams[\"DeveloperProviderName\"] = input.DeveloperProviderName;\n    }\n    if (input.IdentityPoolName !== undefined) {\n        bodyParams[\"IdentityPoolName\"] = input.IdentityPoolName;\n    }\n    if (input.IdentityPoolTags !== undefined) {\n        bodyParams[\"IdentityPoolTags\"] = serializeAws_json1_1IdentityPoolTagsType(input.IdentityPoolTags, context);\n    }\n    if (input.OpenIdConnectProviderARNs !== undefined) {\n        bodyParams[\"OpenIdConnectProviderARNs\"] = serializeAws_json1_1OIDCProviderList(input.OpenIdConnectProviderARNs, context);\n    }\n    if (input.SamlProviderARNs !== undefined) {\n        bodyParams[\"SamlProviderARNs\"] = serializeAws_json1_1SAMLProviderList(input.SamlProviderARNs, context);\n    }\n    if (input.SupportedLoginProviders !== undefined) {\n        bodyParams[\"SupportedLoginProviders\"] = serializeAws_json1_1IdentityProviders(input.SupportedLoginProviders, context);\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1DeleteIdentitiesInput = function (input, context) {\n    var bodyParams = {};\n    if (input.IdentityIdsToDelete !== undefined) {\n        bodyParams[\"IdentityIdsToDelete\"] = serializeAws_json1_1IdentityIdList(input.IdentityIdsToDelete, context);\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1DeleteIdentityPoolInput = function (input, context) {\n    var bodyParams = {};\n    if (input.IdentityPoolId !== undefined) {\n        bodyParams[\"IdentityPoolId\"] = input.IdentityPoolId;\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1DescribeIdentityInput = function (input, context) {\n    var bodyParams = {};\n    if (input.IdentityId !== undefined) {\n        bodyParams[\"IdentityId\"] = input.IdentityId;\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1DescribeIdentityPoolInput = function (input, context) {\n    var bodyParams = {};\n    if (input.IdentityPoolId !== undefined) {\n        bodyParams[\"IdentityPoolId\"] = input.IdentityPoolId;\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1GetCredentialsForIdentityInput = function (input, context) {\n    var bodyParams = {};\n    if (input.CustomRoleArn !== undefined) {\n        bodyParams[\"CustomRoleArn\"] = input.CustomRoleArn;\n    }\n    if (input.IdentityId !== undefined) {\n        bodyParams[\"IdentityId\"] = input.IdentityId;\n    }\n    if (input.Logins !== undefined) {\n        bodyParams[\"Logins\"] = serializeAws_json1_1LoginsMap(input.Logins, context);\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1GetIdInput = function (input, context) {\n    var bodyParams = {};\n    if (input.AccountId !== undefined) {\n        bodyParams[\"AccountId\"] = input.AccountId;\n    }\n    if (input.IdentityPoolId !== undefined) {\n        bodyParams[\"IdentityPoolId\"] = input.IdentityPoolId;\n    }\n    if (input.Logins !== undefined) {\n        bodyParams[\"Logins\"] = serializeAws_json1_1LoginsMap(input.Logins, context);\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1GetIdentityPoolRolesInput = function (input, context) {\n    var bodyParams = {};\n    if (input.IdentityPoolId !== undefined) {\n        bodyParams[\"IdentityPoolId\"] = input.IdentityPoolId;\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1GetOpenIdTokenForDeveloperIdentityInput = function (input, context) {\n    var bodyParams = {};\n    if (input.IdentityId !== undefined) {\n        bodyParams[\"IdentityId\"] = input.IdentityId;\n    }\n    if (input.IdentityPoolId !== undefined) {\n        bodyParams[\"IdentityPoolId\"] = input.IdentityPoolId;\n    }\n    if (input.Logins !== undefined) {\n        bodyParams[\"Logins\"] = serializeAws_json1_1LoginsMap(input.Logins, context);\n    }\n    if (input.TokenDuration !== undefined) {\n        bodyParams[\"TokenDuration\"] = input.TokenDuration;\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1GetOpenIdTokenInput = function (input, context) {\n    var bodyParams = {};\n    if (input.IdentityId !== undefined) {\n        bodyParams[\"IdentityId\"] = input.IdentityId;\n    }\n    if (input.Logins !== undefined) {\n        bodyParams[\"Logins\"] = serializeAws_json1_1LoginsMap(input.Logins, context);\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1IdentityIdList = function (input, context) {\n    var e_2, _a;\n    var contents = [];\n    try {\n        for (var input_2 = __values(input), input_2_1 = input_2.next(); !input_2_1.done; input_2_1 = input_2.next()) {\n            var entry = input_2_1.value;\n            contents.push(entry);\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (input_2_1 && !input_2_1.done && (_a = input_2.return)) _a.call(input_2);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return contents;\n};\nvar serializeAws_json1_1IdentityPool = function (input, context) {\n    var bodyParams = {};\n    if (input.AllowClassicFlow !== undefined) {\n        bodyParams[\"AllowClassicFlow\"] = input.AllowClassicFlow;\n    }\n    if (input.AllowUnauthenticatedIdentities !== undefined) {\n        bodyParams[\"AllowUnauthenticatedIdentities\"] =\n            input.AllowUnauthenticatedIdentities;\n    }\n    if (input.CognitoIdentityProviders !== undefined) {\n        bodyParams[\"CognitoIdentityProviders\"] = serializeAws_json1_1CognitoIdentityProviderList(input.CognitoIdentityProviders, context);\n    }\n    if (input.DeveloperProviderName !== undefined) {\n        bodyParams[\"DeveloperProviderName\"] = input.DeveloperProviderName;\n    }\n    if (input.IdentityPoolId !== undefined) {\n        bodyParams[\"IdentityPoolId\"] = input.IdentityPoolId;\n    }\n    if (input.IdentityPoolName !== undefined) {\n        bodyParams[\"IdentityPoolName\"] = input.IdentityPoolName;\n    }\n    if (input.IdentityPoolTags !== undefined) {\n        bodyParams[\"IdentityPoolTags\"] = serializeAws_json1_1IdentityPoolTagsType(input.IdentityPoolTags, context);\n    }\n    if (input.OpenIdConnectProviderARNs !== undefined) {\n        bodyParams[\"OpenIdConnectProviderARNs\"] = serializeAws_json1_1OIDCProviderList(input.OpenIdConnectProviderARNs, context);\n    }\n    if (input.SamlProviderARNs !== undefined) {\n        bodyParams[\"SamlProviderARNs\"] = serializeAws_json1_1SAMLProviderList(input.SamlProviderARNs, context);\n    }\n    if (input.SupportedLoginProviders !== undefined) {\n        bodyParams[\"SupportedLoginProviders\"] = serializeAws_json1_1IdentityProviders(input.SupportedLoginProviders, context);\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1IdentityPoolTagsListType = function (input, context) {\n    var e_3, _a;\n    var contents = [];\n    try {\n        for (var input_3 = __values(input), input_3_1 = input_3.next(); !input_3_1.done; input_3_1 = input_3.next()) {\n            var entry = input_3_1.value;\n            contents.push(entry);\n        }\n    }\n    catch (e_3_1) { e_3 = { error: e_3_1 }; }\n    finally {\n        try {\n            if (input_3_1 && !input_3_1.done && (_a = input_3.return)) _a.call(input_3);\n        }\n        finally { if (e_3) throw e_3.error; }\n    }\n    return contents;\n};\nvar serializeAws_json1_1IdentityPoolTagsType = function (input, context) {\n    var mapParams = {};\n    Object.keys(input).forEach(function (key) {\n        mapParams[key] = input[key];\n    });\n    return mapParams;\n};\nvar serializeAws_json1_1IdentityProviders = function (input, context) {\n    var mapParams = {};\n    Object.keys(input).forEach(function (key) {\n        mapParams[key] = input[key];\n    });\n    return mapParams;\n};\nvar serializeAws_json1_1ListIdentitiesInput = function (input, context) {\n    var bodyParams = {};\n    if (input.HideDisabled !== undefined) {\n        bodyParams[\"HideDisabled\"] = input.HideDisabled;\n    }\n    if (input.IdentityPoolId !== undefined) {\n        bodyParams[\"IdentityPoolId\"] = input.IdentityPoolId;\n    }\n    if (input.MaxResults !== undefined) {\n        bodyParams[\"MaxResults\"] = input.MaxResults;\n    }\n    if (input.NextToken !== undefined) {\n        bodyParams[\"NextToken\"] = input.NextToken;\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1ListIdentityPoolsInput = function (input, context) {\n    var bodyParams = {};\n    if (input.MaxResults !== undefined) {\n        bodyParams[\"MaxResults\"] = input.MaxResults;\n    }\n    if (input.NextToken !== undefined) {\n        bodyParams[\"NextToken\"] = input.NextToken;\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1ListTagsForResourceInput = function (input, context) {\n    var bodyParams = {};\n    if (input.ResourceArn !== undefined) {\n        bodyParams[\"ResourceArn\"] = input.ResourceArn;\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1LoginsList = function (input, context) {\n    var e_4, _a;\n    var contents = [];\n    try {\n        for (var input_4 = __values(input), input_4_1 = input_4.next(); !input_4_1.done; input_4_1 = input_4.next()) {\n            var entry = input_4_1.value;\n            contents.push(entry);\n        }\n    }\n    catch (e_4_1) { e_4 = { error: e_4_1 }; }\n    finally {\n        try {\n            if (input_4_1 && !input_4_1.done && (_a = input_4.return)) _a.call(input_4);\n        }\n        finally { if (e_4) throw e_4.error; }\n    }\n    return contents;\n};\nvar serializeAws_json1_1LoginsMap = function (input, context) {\n    var mapParams = {};\n    Object.keys(input).forEach(function (key) {\n        mapParams[key] = input[key];\n    });\n    return mapParams;\n};\nvar serializeAws_json1_1LookupDeveloperIdentityInput = function (input, context) {\n    var bodyParams = {};\n    if (input.DeveloperUserIdentifier !== undefined) {\n        bodyParams[\"DeveloperUserIdentifier\"] = input.DeveloperUserIdentifier;\n    }\n    if (input.IdentityId !== undefined) {\n        bodyParams[\"IdentityId\"] = input.IdentityId;\n    }\n    if (input.IdentityPoolId !== undefined) {\n        bodyParams[\"IdentityPoolId\"] = input.IdentityPoolId;\n    }\n    if (input.MaxResults !== undefined) {\n        bodyParams[\"MaxResults\"] = input.MaxResults;\n    }\n    if (input.NextToken !== undefined) {\n        bodyParams[\"NextToken\"] = input.NextToken;\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1MappingRule = function (input, context) {\n    var bodyParams = {};\n    if (input.Claim !== undefined) {\n        bodyParams[\"Claim\"] = input.Claim;\n    }\n    if (input.MatchType !== undefined) {\n        bodyParams[\"MatchType\"] = input.MatchType;\n    }\n    if (input.RoleARN !== undefined) {\n        bodyParams[\"RoleARN\"] = input.RoleARN;\n    }\n    if (input.Value !== undefined) {\n        bodyParams[\"Value\"] = input.Value;\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1MappingRulesList = function (input, context) {\n    var e_5, _a;\n    var contents = [];\n    try {\n        for (var input_5 = __values(input), input_5_1 = input_5.next(); !input_5_1.done; input_5_1 = input_5.next()) {\n            var entry = input_5_1.value;\n            contents.push(serializeAws_json1_1MappingRule(entry, context));\n        }\n    }\n    catch (e_5_1) { e_5 = { error: e_5_1 }; }\n    finally {\n        try {\n            if (input_5_1 && !input_5_1.done && (_a = input_5.return)) _a.call(input_5);\n        }\n        finally { if (e_5) throw e_5.error; }\n    }\n    return contents;\n};\nvar serializeAws_json1_1MergeDeveloperIdentitiesInput = function (input, context) {\n    var bodyParams = {};\n    if (input.DestinationUserIdentifier !== undefined) {\n        bodyParams[\"DestinationUserIdentifier\"] = input.DestinationUserIdentifier;\n    }\n    if (input.DeveloperProviderName !== undefined) {\n        bodyParams[\"DeveloperProviderName\"] = input.DeveloperProviderName;\n    }\n    if (input.IdentityPoolId !== undefined) {\n        bodyParams[\"IdentityPoolId\"] = input.IdentityPoolId;\n    }\n    if (input.SourceUserIdentifier !== undefined) {\n        bodyParams[\"SourceUserIdentifier\"] = input.SourceUserIdentifier;\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1OIDCProviderList = function (input, context) {\n    var e_6, _a;\n    var contents = [];\n    try {\n        for (var input_6 = __values(input), input_6_1 = input_6.next(); !input_6_1.done; input_6_1 = input_6.next()) {\n            var entry = input_6_1.value;\n            contents.push(entry);\n        }\n    }\n    catch (e_6_1) { e_6 = { error: e_6_1 }; }\n    finally {\n        try {\n            if (input_6_1 && !input_6_1.done && (_a = input_6.return)) _a.call(input_6);\n        }\n        finally { if (e_6) throw e_6.error; }\n    }\n    return contents;\n};\nvar serializeAws_json1_1RoleMapping = function (input, context) {\n    var bodyParams = {};\n    if (input.AmbiguousRoleResolution !== undefined) {\n        bodyParams[\"AmbiguousRoleResolution\"] = input.AmbiguousRoleResolution;\n    }\n    if (input.RulesConfiguration !== undefined) {\n        bodyParams[\"RulesConfiguration\"] = serializeAws_json1_1RulesConfigurationType(input.RulesConfiguration, context);\n    }\n    if (input.Type !== undefined) {\n        bodyParams[\"Type\"] = input.Type;\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1RoleMappingMap = function (input, context) {\n    var mapParams = {};\n    Object.keys(input).forEach(function (key) {\n        mapParams[key] = serializeAws_json1_1RoleMapping(input[key], context);\n    });\n    return mapParams;\n};\nvar serializeAws_json1_1RolesMap = function (input, context) {\n    var mapParams = {};\n    Object.keys(input).forEach(function (key) {\n        mapParams[key] = input[key];\n    });\n    return mapParams;\n};\nvar serializeAws_json1_1RulesConfigurationType = function (input, context) {\n    var bodyParams = {};\n    if (input.Rules !== undefined) {\n        bodyParams[\"Rules\"] = serializeAws_json1_1MappingRulesList(input.Rules, context);\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1SAMLProviderList = function (input, context) {\n    var e_7, _a;\n    var contents = [];\n    try {\n        for (var input_7 = __values(input), input_7_1 = input_7.next(); !input_7_1.done; input_7_1 = input_7.next()) {\n            var entry = input_7_1.value;\n            contents.push(entry);\n        }\n    }\n    catch (e_7_1) { e_7 = { error: e_7_1 }; }\n    finally {\n        try {\n            if (input_7_1 && !input_7_1.done && (_a = input_7.return)) _a.call(input_7);\n        }\n        finally { if (e_7) throw e_7.error; }\n    }\n    return contents;\n};\nvar serializeAws_json1_1SetIdentityPoolRolesInput = function (input, context) {\n    var bodyParams = {};\n    if (input.IdentityPoolId !== undefined) {\n        bodyParams[\"IdentityPoolId\"] = input.IdentityPoolId;\n    }\n    if (input.RoleMappings !== undefined) {\n        bodyParams[\"RoleMappings\"] = serializeAws_json1_1RoleMappingMap(input.RoleMappings, context);\n    }\n    if (input.Roles !== undefined) {\n        bodyParams[\"Roles\"] = serializeAws_json1_1RolesMap(input.Roles, context);\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1TagResourceInput = function (input, context) {\n    var bodyParams = {};\n    if (input.ResourceArn !== undefined) {\n        bodyParams[\"ResourceArn\"] = input.ResourceArn;\n    }\n    if (input.Tags !== undefined) {\n        bodyParams[\"Tags\"] = serializeAws_json1_1IdentityPoolTagsType(input.Tags, context);\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1UnlinkDeveloperIdentityInput = function (input, context) {\n    var bodyParams = {};\n    if (input.DeveloperProviderName !== undefined) {\n        bodyParams[\"DeveloperProviderName\"] = input.DeveloperProviderName;\n    }\n    if (input.DeveloperUserIdentifier !== undefined) {\n        bodyParams[\"DeveloperUserIdentifier\"] = input.DeveloperUserIdentifier;\n    }\n    if (input.IdentityId !== undefined) {\n        bodyParams[\"IdentityId\"] = input.IdentityId;\n    }\n    if (input.IdentityPoolId !== undefined) {\n        bodyParams[\"IdentityPoolId\"] = input.IdentityPoolId;\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1UnlinkIdentityInput = function (input, context) {\n    var bodyParams = {};\n    if (input.IdentityId !== undefined) {\n        bodyParams[\"IdentityId\"] = input.IdentityId;\n    }\n    if (input.Logins !== undefined) {\n        bodyParams[\"Logins\"] = serializeAws_json1_1LoginsMap(input.Logins, context);\n    }\n    if (input.LoginsToRemove !== undefined) {\n        bodyParams[\"LoginsToRemove\"] = serializeAws_json1_1LoginsList(input.LoginsToRemove, context);\n    }\n    return bodyParams;\n};\nvar serializeAws_json1_1UntagResourceInput = function (input, context) {\n    var bodyParams = {};\n    if (input.ResourceArn !== undefined) {\n        bodyParams[\"ResourceArn\"] = input.ResourceArn;\n    }\n    if (input.TagKeys !== undefined) {\n        bodyParams[\"TagKeys\"] = serializeAws_json1_1IdentityPoolTagsListType(input.TagKeys, context);\n    }\n    return bodyParams;\n};\nvar deserializeAws_json1_1CognitoIdentityProvider = function (output, context) {\n    var contents = {\n        __type: \"CognitoIdentityProvider\",\n        ClientId: undefined,\n        ProviderName: undefined,\n        ServerSideTokenCheck: undefined\n    };\n    if (output.ClientId !== undefined && output.ClientId !== null) {\n        contents.ClientId = output.ClientId;\n    }\n    if (output.ProviderName !== undefined && output.ProviderName !== null) {\n        contents.ProviderName = output.ProviderName;\n    }\n    if (output.ServerSideTokenCheck !== undefined &&\n        output.ServerSideTokenCheck !== null) {\n        contents.ServerSideTokenCheck = output.ServerSideTokenCheck;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1CognitoIdentityProviderList = function (output, context) {\n    return (output || []).map(function (entry) {\n        return deserializeAws_json1_1CognitoIdentityProvider(entry, context);\n    });\n};\nvar deserializeAws_json1_1ConcurrentModificationException = function (output, context) {\n    var contents = {\n        __type: \"ConcurrentModificationException\",\n        message: undefined\n    };\n    if (output.message !== undefined && output.message !== null) {\n        contents.message = output.message;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1Credentials = function (output, context) {\n    var contents = {\n        __type: \"Credentials\",\n        AccessKeyId: undefined,\n        Expiration: undefined,\n        SecretKey: undefined,\n        SessionToken: undefined\n    };\n    if (output.AccessKeyId !== undefined && output.AccessKeyId !== null) {\n        contents.AccessKeyId = output.AccessKeyId;\n    }\n    if (output.Expiration !== undefined && output.Expiration !== null) {\n        contents.Expiration = new Date(Math.round(output.Expiration * 1000));\n    }\n    if (output.SecretKey !== undefined && output.SecretKey !== null) {\n        contents.SecretKey = output.SecretKey;\n    }\n    if (output.SessionToken !== undefined && output.SessionToken !== null) {\n        contents.SessionToken = output.SessionToken;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1DeleteIdentitiesResponse = function (output, context) {\n    var contents = {\n        __type: \"DeleteIdentitiesResponse\",\n        UnprocessedIdentityIds: undefined\n    };\n    if (output.UnprocessedIdentityIds !== undefined &&\n        output.UnprocessedIdentityIds !== null) {\n        contents.UnprocessedIdentityIds = deserializeAws_json1_1UnprocessedIdentityIdList(output.UnprocessedIdentityIds, context);\n    }\n    return contents;\n};\nvar deserializeAws_json1_1DeveloperUserAlreadyRegisteredException = function (output, context) {\n    var contents = {\n        __type: \"DeveloperUserAlreadyRegisteredException\",\n        message: undefined\n    };\n    if (output.message !== undefined && output.message !== null) {\n        contents.message = output.message;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1DeveloperUserIdentifierList = function (output, context) {\n    return (output || []).map(function (entry) { return entry; });\n};\nvar deserializeAws_json1_1ExternalServiceException = function (output, context) {\n    var contents = {\n        __type: \"ExternalServiceException\",\n        message: undefined\n    };\n    if (output.message !== undefined && output.message !== null) {\n        contents.message = output.message;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1GetCredentialsForIdentityResponse = function (output, context) {\n    var contents = {\n        __type: \"GetCredentialsForIdentityResponse\",\n        Credentials: undefined,\n        IdentityId: undefined\n    };\n    if (output.Credentials !== undefined && output.Credentials !== null) {\n        contents.Credentials = deserializeAws_json1_1Credentials(output.Credentials, context);\n    }\n    if (output.IdentityId !== undefined && output.IdentityId !== null) {\n        contents.IdentityId = output.IdentityId;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1GetIdResponse = function (output, context) {\n    var contents = {\n        __type: \"GetIdResponse\",\n        IdentityId: undefined\n    };\n    if (output.IdentityId !== undefined && output.IdentityId !== null) {\n        contents.IdentityId = output.IdentityId;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1GetIdentityPoolRolesResponse = function (output, context) {\n    var contents = {\n        __type: \"GetIdentityPoolRolesResponse\",\n        IdentityPoolId: undefined,\n        RoleMappings: undefined,\n        Roles: undefined\n    };\n    if (output.IdentityPoolId !== undefined && output.IdentityPoolId !== null) {\n        contents.IdentityPoolId = output.IdentityPoolId;\n    }\n    if (output.RoleMappings !== undefined && output.RoleMappings !== null) {\n        contents.RoleMappings = deserializeAws_json1_1RoleMappingMap(output.RoleMappings, context);\n    }\n    if (output.Roles !== undefined && output.Roles !== null) {\n        contents.Roles = deserializeAws_json1_1RolesMap(output.Roles, context);\n    }\n    return contents;\n};\nvar deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityResponse = function (output, context) {\n    var contents = {\n        __type: \"GetOpenIdTokenForDeveloperIdentityResponse\",\n        IdentityId: undefined,\n        Token: undefined\n    };\n    if (output.IdentityId !== undefined && output.IdentityId !== null) {\n        contents.IdentityId = output.IdentityId;\n    }\n    if (output.Token !== undefined && output.Token !== null) {\n        contents.Token = output.Token;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1GetOpenIdTokenResponse = function (output, context) {\n    var contents = {\n        __type: \"GetOpenIdTokenResponse\",\n        IdentityId: undefined,\n        Token: undefined\n    };\n    if (output.IdentityId !== undefined && output.IdentityId !== null) {\n        contents.IdentityId = output.IdentityId;\n    }\n    if (output.Token !== undefined && output.Token !== null) {\n        contents.Token = output.Token;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1IdentitiesList = function (output, context) {\n    return (output || []).map(function (entry) {\n        return deserializeAws_json1_1IdentityDescription(entry, context);\n    });\n};\nvar deserializeAws_json1_1IdentityDescription = function (output, context) {\n    var contents = {\n        __type: \"IdentityDescription\",\n        CreationDate: undefined,\n        IdentityId: undefined,\n        LastModifiedDate: undefined,\n        Logins: undefined\n    };\n    if (output.CreationDate !== undefined && output.CreationDate !== null) {\n        contents.CreationDate = new Date(Math.round(output.CreationDate * 1000));\n    }\n    if (output.IdentityId !== undefined && output.IdentityId !== null) {\n        contents.IdentityId = output.IdentityId;\n    }\n    if (output.LastModifiedDate !== undefined &&\n        output.LastModifiedDate !== null) {\n        contents.LastModifiedDate = new Date(Math.round(output.LastModifiedDate * 1000));\n    }\n    if (output.Logins !== undefined && output.Logins !== null) {\n        contents.Logins = deserializeAws_json1_1LoginsList(output.Logins, context);\n    }\n    return contents;\n};\nvar deserializeAws_json1_1IdentityPool = function (output, context) {\n    var contents = {\n        __type: \"IdentityPool\",\n        AllowClassicFlow: undefined,\n        AllowUnauthenticatedIdentities: undefined,\n        CognitoIdentityProviders: undefined,\n        DeveloperProviderName: undefined,\n        IdentityPoolId: undefined,\n        IdentityPoolName: undefined,\n        IdentityPoolTags: undefined,\n        OpenIdConnectProviderARNs: undefined,\n        SamlProviderARNs: undefined,\n        SupportedLoginProviders: undefined\n    };\n    if (output.AllowClassicFlow !== undefined &&\n        output.AllowClassicFlow !== null) {\n        contents.AllowClassicFlow = output.AllowClassicFlow;\n    }\n    if (output.AllowUnauthenticatedIdentities !== undefined &&\n        output.AllowUnauthenticatedIdentities !== null) {\n        contents.AllowUnauthenticatedIdentities =\n            output.AllowUnauthenticatedIdentities;\n    }\n    if (output.CognitoIdentityProviders !== undefined &&\n        output.CognitoIdentityProviders !== null) {\n        contents.CognitoIdentityProviders = deserializeAws_json1_1CognitoIdentityProviderList(output.CognitoIdentityProviders, context);\n    }\n    if (output.DeveloperProviderName !== undefined &&\n        output.DeveloperProviderName !== null) {\n        contents.DeveloperProviderName = output.DeveloperProviderName;\n    }\n    if (output.IdentityPoolId !== undefined && output.IdentityPoolId !== null) {\n        contents.IdentityPoolId = output.IdentityPoolId;\n    }\n    if (output.IdentityPoolName !== undefined &&\n        output.IdentityPoolName !== null) {\n        contents.IdentityPoolName = output.IdentityPoolName;\n    }\n    if (output.IdentityPoolTags !== undefined &&\n        output.IdentityPoolTags !== null) {\n        contents.IdentityPoolTags = deserializeAws_json1_1IdentityPoolTagsType(output.IdentityPoolTags, context);\n    }\n    if (output.OpenIdConnectProviderARNs !== undefined &&\n        output.OpenIdConnectProviderARNs !== null) {\n        contents.OpenIdConnectProviderARNs = deserializeAws_json1_1OIDCProviderList(output.OpenIdConnectProviderARNs, context);\n    }\n    if (output.SamlProviderARNs !== undefined &&\n        output.SamlProviderARNs !== null) {\n        contents.SamlProviderARNs = deserializeAws_json1_1SAMLProviderList(output.SamlProviderARNs, context);\n    }\n    if (output.SupportedLoginProviders !== undefined &&\n        output.SupportedLoginProviders !== null) {\n        contents.SupportedLoginProviders = deserializeAws_json1_1IdentityProviders(output.SupportedLoginProviders, context);\n    }\n    return contents;\n};\nvar deserializeAws_json1_1IdentityPoolShortDescription = function (output, context) {\n    var contents = {\n        __type: \"IdentityPoolShortDescription\",\n        IdentityPoolId: undefined,\n        IdentityPoolName: undefined\n    };\n    if (output.IdentityPoolId !== undefined && output.IdentityPoolId !== null) {\n        contents.IdentityPoolId = output.IdentityPoolId;\n    }\n    if (output.IdentityPoolName !== undefined &&\n        output.IdentityPoolName !== null) {\n        contents.IdentityPoolName = output.IdentityPoolName;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1IdentityPoolTagsType = function (output, context) {\n    var mapParams = {};\n    Object.keys(output).forEach(function (key) {\n        mapParams[key] = output[key];\n    });\n    return mapParams;\n};\nvar deserializeAws_json1_1IdentityPoolsList = function (output, context) {\n    return (output || []).map(function (entry) {\n        return deserializeAws_json1_1IdentityPoolShortDescription(entry, context);\n    });\n};\nvar deserializeAws_json1_1IdentityProviders = function (output, context) {\n    var mapParams = {};\n    Object.keys(output).forEach(function (key) {\n        mapParams[key] = output[key];\n    });\n    return mapParams;\n};\nvar deserializeAws_json1_1InternalErrorException = function (output, context) {\n    var contents = {\n        __type: \"InternalErrorException\",\n        message: undefined\n    };\n    if (output.message !== undefined && output.message !== null) {\n        contents.message = output.message;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1InvalidIdentityPoolConfigurationException = function (output, context) {\n    var contents = {\n        __type: \"InvalidIdentityPoolConfigurationException\",\n        message: undefined\n    };\n    if (output.message !== undefined && output.message !== null) {\n        contents.message = output.message;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1InvalidParameterException = function (output, context) {\n    var contents = {\n        __type: \"InvalidParameterException\",\n        message: undefined\n    };\n    if (output.message !== undefined && output.message !== null) {\n        contents.message = output.message;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1LimitExceededException = function (output, context) {\n    var contents = {\n        __type: \"LimitExceededException\",\n        message: undefined\n    };\n    if (output.message !== undefined && output.message !== null) {\n        contents.message = output.message;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1ListIdentitiesResponse = function (output, context) {\n    var contents = {\n        __type: \"ListIdentitiesResponse\",\n        Identities: undefined,\n        IdentityPoolId: undefined,\n        NextToken: undefined\n    };\n    if (output.Identities !== undefined && output.Identities !== null) {\n        contents.Identities = deserializeAws_json1_1IdentitiesList(output.Identities, context);\n    }\n    if (output.IdentityPoolId !== undefined && output.IdentityPoolId !== null) {\n        contents.IdentityPoolId = output.IdentityPoolId;\n    }\n    if (output.NextToken !== undefined && output.NextToken !== null) {\n        contents.NextToken = output.NextToken;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1ListIdentityPoolsResponse = function (output, context) {\n    var contents = {\n        __type: \"ListIdentityPoolsResponse\",\n        IdentityPools: undefined,\n        NextToken: undefined\n    };\n    if (output.IdentityPools !== undefined && output.IdentityPools !== null) {\n        contents.IdentityPools = deserializeAws_json1_1IdentityPoolsList(output.IdentityPools, context);\n    }\n    if (output.NextToken !== undefined && output.NextToken !== null) {\n        contents.NextToken = output.NextToken;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1ListTagsForResourceResponse = function (output, context) {\n    var contents = {\n        __type: \"ListTagsForResourceResponse\",\n        Tags: undefined\n    };\n    if (output.Tags !== undefined && output.Tags !== null) {\n        contents.Tags = deserializeAws_json1_1IdentityPoolTagsType(output.Tags, context);\n    }\n    return contents;\n};\nvar deserializeAws_json1_1LoginsList = function (output, context) {\n    return (output || []).map(function (entry) { return entry; });\n};\nvar deserializeAws_json1_1LookupDeveloperIdentityResponse = function (output, context) {\n    var contents = {\n        __type: \"LookupDeveloperIdentityResponse\",\n        DeveloperUserIdentifierList: undefined,\n        IdentityId: undefined,\n        NextToken: undefined\n    };\n    if (output.DeveloperUserIdentifierList !== undefined &&\n        output.DeveloperUserIdentifierList !== null) {\n        contents.DeveloperUserIdentifierList = deserializeAws_json1_1DeveloperUserIdentifierList(output.DeveloperUserIdentifierList, context);\n    }\n    if (output.IdentityId !== undefined && output.IdentityId !== null) {\n        contents.IdentityId = output.IdentityId;\n    }\n    if (output.NextToken !== undefined && output.NextToken !== null) {\n        contents.NextToken = output.NextToken;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1MappingRule = function (output, context) {\n    var contents = {\n        __type: \"MappingRule\",\n        Claim: undefined,\n        MatchType: undefined,\n        RoleARN: undefined,\n        Value: undefined\n    };\n    if (output.Claim !== undefined && output.Claim !== null) {\n        contents.Claim = output.Claim;\n    }\n    if (output.MatchType !== undefined && output.MatchType !== null) {\n        contents.MatchType = output.MatchType;\n    }\n    if (output.RoleARN !== undefined && output.RoleARN !== null) {\n        contents.RoleARN = output.RoleARN;\n    }\n    if (output.Value !== undefined && output.Value !== null) {\n        contents.Value = output.Value;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1MappingRulesList = function (output, context) {\n    return (output || []).map(function (entry) {\n        return deserializeAws_json1_1MappingRule(entry, context);\n    });\n};\nvar deserializeAws_json1_1MergeDeveloperIdentitiesResponse = function (output, context) {\n    var contents = {\n        __type: \"MergeDeveloperIdentitiesResponse\",\n        IdentityId: undefined\n    };\n    if (output.IdentityId !== undefined && output.IdentityId !== null) {\n        contents.IdentityId = output.IdentityId;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1NotAuthorizedException = function (output, context) {\n    var contents = {\n        __type: \"NotAuthorizedException\",\n        message: undefined\n    };\n    if (output.message !== undefined && output.message !== null) {\n        contents.message = output.message;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1OIDCProviderList = function (output, context) {\n    return (output || []).map(function (entry) { return entry; });\n};\nvar deserializeAws_json1_1ResourceConflictException = function (output, context) {\n    var contents = {\n        __type: \"ResourceConflictException\",\n        message: undefined\n    };\n    if (output.message !== undefined && output.message !== null) {\n        contents.message = output.message;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1ResourceNotFoundException = function (output, context) {\n    var contents = {\n        __type: \"ResourceNotFoundException\",\n        message: undefined\n    };\n    if (output.message !== undefined && output.message !== null) {\n        contents.message = output.message;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1RoleMapping = function (output, context) {\n    var contents = {\n        __type: \"RoleMapping\",\n        AmbiguousRoleResolution: undefined,\n        RulesConfiguration: undefined,\n        Type: undefined\n    };\n    if (output.AmbiguousRoleResolution !== undefined &&\n        output.AmbiguousRoleResolution !== null) {\n        contents.AmbiguousRoleResolution = output.AmbiguousRoleResolution;\n    }\n    if (output.RulesConfiguration !== undefined &&\n        output.RulesConfiguration !== null) {\n        contents.RulesConfiguration = deserializeAws_json1_1RulesConfigurationType(output.RulesConfiguration, context);\n    }\n    if (output.Type !== undefined && output.Type !== null) {\n        contents.Type = output.Type;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1RoleMappingMap = function (output, context) {\n    var mapParams = {};\n    Object.keys(output).forEach(function (key) {\n        mapParams[key] = deserializeAws_json1_1RoleMapping(output[key], context);\n    });\n    return mapParams;\n};\nvar deserializeAws_json1_1RolesMap = function (output, context) {\n    var mapParams = {};\n    Object.keys(output).forEach(function (key) {\n        mapParams[key] = output[key];\n    });\n    return mapParams;\n};\nvar deserializeAws_json1_1RulesConfigurationType = function (output, context) {\n    var contents = {\n        __type: \"RulesConfigurationType\",\n        Rules: undefined\n    };\n    if (output.Rules !== undefined && output.Rules !== null) {\n        contents.Rules = deserializeAws_json1_1MappingRulesList(output.Rules, context);\n    }\n    return contents;\n};\nvar deserializeAws_json1_1SAMLProviderList = function (output, context) {\n    return (output || []).map(function (entry) { return entry; });\n};\nvar deserializeAws_json1_1TagResourceResponse = function (output, context) {\n    var contents = {\n        __type: \"TagResourceResponse\"\n    };\n    return contents;\n};\nvar deserializeAws_json1_1TooManyRequestsException = function (output, context) {\n    var contents = {\n        __type: \"TooManyRequestsException\",\n        message: undefined\n    };\n    if (output.message !== undefined && output.message !== null) {\n        contents.message = output.message;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1UnprocessedIdentityId = function (output, context) {\n    var contents = {\n        __type: \"UnprocessedIdentityId\",\n        ErrorCode: undefined,\n        IdentityId: undefined\n    };\n    if (output.ErrorCode !== undefined && output.ErrorCode !== null) {\n        contents.ErrorCode = output.ErrorCode;\n    }\n    if (output.IdentityId !== undefined && output.IdentityId !== null) {\n        contents.IdentityId = output.IdentityId;\n    }\n    return contents;\n};\nvar deserializeAws_json1_1UnprocessedIdentityIdList = function (output, context) {\n    return (output || []).map(function (entry) {\n        return deserializeAws_json1_1UnprocessedIdentityId(entry, context);\n    });\n};\nvar deserializeAws_json1_1UntagResourceResponse = function (output, context) {\n    var contents = {\n        __type: \"UntagResourceResponse\"\n    };\n    return contents;\n};\nvar deserializeMetadata = function (output) { return ({\n    httpStatusCode: output.statusCode,\n    httpHeaders: output.headers,\n    requestId: output.headers[\"x-amzn-requestid\"]\n}); };\n// Collect low-level response body stream to Uint8Array.\nvar collectBody = function (streamBody, context) {\n    if (streamBody instanceof Uint8Array) {\n        return Promise.resolve(streamBody);\n    }\n    return (context.streamCollector(streamBody) || Promise.resolve(new Uint8Array()));\n};\n// Encode Uint8Array data into string with utf-8.\nvar collectBodyString = function (streamBody, context) {\n    return collectBody(streamBody, context).then(function (body) {\n        return context.utf8Encoder(body);\n    });\n};\nvar buildHttpRpcRequest = function (context, headers, path, resolvedHostname, body) {\n    var contents = __assign(__assign({}, context.endpoint), { protocol: \"https\", method: \"POST\", path: path, headers: headers });\n    if (resolvedHostname !== undefined) {\n        contents.hostname = resolvedHostname;\n    }\n    if (body !== undefined) {\n        contents.body = body;\n    }\n    return new __HttpRequest(contents);\n};\nvar parseBody = function (streamBody, context) {\n    return collectBodyString(streamBody, context).then(function (encoded) {\n        if (encoded.length) {\n            return JSON.parse(encoded);\n        }\n        return {};\n    });\n};\n//# sourceMappingURL=Aws_json1_1.js.map","import { __extends } from \"tslib\";\nimport { deserializeAws_json1_1GetCredentialsForIdentityCommand, serializeAws_json1_1GetCredentialsForIdentityCommand } from \"../protocols/Aws_json1_1\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\nvar GetCredentialsForIdentityCommand = /** @class */ (function (_super) {\n    __extends(GetCredentialsForIdentityCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function GetCredentialsForIdentityCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    GetCredentialsForIdentityCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        var stack = clientStack.concat(this.middlewareStack);\n        var handlerExecutionContext = {\n            logger: {}\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    GetCredentialsForIdentityCommand.prototype.serialize = function (input, context) {\n        return serializeAws_json1_1GetCredentialsForIdentityCommand(input, context);\n    };\n    GetCredentialsForIdentityCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_json1_1GetCredentialsForIdentityCommand(output, context);\n    };\n    return GetCredentialsForIdentityCommand;\n}($Command));\nexport { GetCredentialsForIdentityCommand };\n//# sourceMappingURL=GetCredentialsForIdentityCommand.js.map","import { __awaiter, __generator } from \"tslib\";\nimport { resolveLogins } from \"./resolveLogins\";\nimport { ProviderError } from \"@aws-sdk/property-provider\";\nimport { GetCredentialsForIdentityCommand } from \"@aws-sdk/client-cognito-identity\";\n/**\n * Retrieves temporary AWS credentials using Amazon Cognito's\n * `GetCredentialsForIdentity` operation.\n *\n * Results from this function call are not cached internally.\n */\nexport function fromCognitoIdentity(parameters) {\n    var _this = this;\n    return function () { return __awaiter(_this, void 0, void 0, function () {\n        var _a, _b, _c, AccessKeyId, Expiration, _d, SecretKey, SessionToken, _e, _f, _g, _h, _j;\n        return __generator(this, function (_k) {\n            switch (_k.label) {\n                case 0:\n                    _f = (_e = parameters.client).send;\n                    _g = GetCredentialsForIdentityCommand.bind;\n                    _h = {\n                        CustomRoleArn: parameters.customRoleArn,\n                        IdentityId: parameters.identityId\n                    };\n                    if (!parameters.logins) return [3 /*break*/, 2];\n                    return [4 /*yield*/, resolveLogins(parameters.logins)];\n                case 1:\n                    _j = _k.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    _j = undefined;\n                    _k.label = 3;\n                case 3: return [4 /*yield*/, _f.apply(_e, [new (_g.apply(GetCredentialsForIdentityCommand, [void 0, (_h.Logins = _j,\n                                _h)]))()])];\n                case 4:\n                    _a = (_k.sent()).Credentials, _b = _a === void 0 ? throwOnMissingCredentials() : _a, _c = _b.AccessKeyId, AccessKeyId = _c === void 0 ? throwOnMissingAccessKeyId() : _c, Expiration = _b.Expiration, _d = _b.SecretKey, SecretKey = _d === void 0 ? throwOnMissingSecretKey() : _d, SessionToken = _b.SessionToken;\n                    return [2 /*return*/, {\n                            accessKeyId: AccessKeyId,\n                            secretAccessKey: SecretKey,\n                            sessionToken: SessionToken,\n                            expiration: Expiration\n                        }];\n            }\n        });\n    }); };\n}\nfunction throwOnMissingAccessKeyId() {\n    throw new ProviderError(\"Response from Amazon Cognito contained no access key ID\");\n}\nfunction throwOnMissingCredentials() {\n    throw new ProviderError(\"Response from Amazon Cognito contained no credentials\");\n}\nfunction throwOnMissingSecretKey() {\n    throw new ProviderError(\"Response from Amazon Cognito contained no secret key\");\n}\n//# sourceMappingURL=fromCognitoIdentity.js.map","var STORE_NAME = \"IdentityIds\";\nvar IndexedDbStorage = /** @class */ (function () {\n    function IndexedDbStorage(dbName) {\n        if (dbName === void 0) { dbName = \"aws:cognito-identity-ids\"; }\n        this.dbName = dbName;\n    }\n    IndexedDbStorage.prototype.getItem = function (key) {\n        return this.withObjectStore(\"readonly\", function (store) {\n            var req = store.get(key);\n            return new Promise(function (resolve) {\n                req.onerror = function () { return resolve(null); };\n                req.onsuccess = function () { return resolve(req.result ? req.result.value : null); };\n            });\n        }).catch(function () { return null; });\n    };\n    IndexedDbStorage.prototype.removeItem = function (key) {\n        return this.withObjectStore(\"readwrite\", function (store) {\n            var req = store.delete(key);\n            return new Promise(function (resolve, reject) {\n                req.onerror = function () { return reject(req.error); };\n                req.onsuccess = function () { return resolve(); };\n            });\n        });\n    };\n    IndexedDbStorage.prototype.setItem = function (id, value) {\n        return this.withObjectStore(\"readwrite\", function (store) {\n            var req = store.put({ id: id, value: value });\n            return new Promise(function (resolve, reject) {\n                req.onerror = function () { return reject(req.error); };\n                req.onsuccess = function () { return resolve(); };\n            });\n        });\n    };\n    IndexedDbStorage.prototype.getDb = function () {\n        var openDbRequest = self.indexedDB.open(this.dbName, 1);\n        return new Promise(function (resolve, reject) {\n            openDbRequest.onsuccess = function () {\n                resolve(openDbRequest.result);\n            };\n            openDbRequest.onerror = function () {\n                reject(openDbRequest.error);\n            };\n            openDbRequest.onblocked = function () {\n                reject(new Error(\"Unable to access DB\"));\n            };\n            openDbRequest.onupgradeneeded = function (event) {\n                var db = openDbRequest.result;\n                db.onerror = function () {\n                    reject(new Error(\"Failed to create object store\"));\n                };\n                db.createObjectStore(STORE_NAME, { keyPath: \"id\" });\n            };\n        });\n    };\n    IndexedDbStorage.prototype.withObjectStore = function (mode, action) {\n        return this.getDb().then(function (db) {\n            var tx = db.transaction(STORE_NAME, mode);\n            tx.oncomplete = function () { return db.close(); };\n            return new Promise(function (resolve, reject) {\n                tx.onerror = function () { return reject(tx.error); };\n                resolve(action(tx.objectStore(STORE_NAME)));\n            }).catch(function (err) {\n                db.close();\n                throw err;\n            });\n        });\n    };\n    return IndexedDbStorage;\n}());\nexport { IndexedDbStorage };\n//# sourceMappingURL=IndexedDbStorage.js.map","import { IndexedDbStorage } from \"./IndexedDbStorage\";\nimport { InMemoryStorage } from \"./InMemoryStorage\";\nvar inMemoryStorage = new InMemoryStorage();\nexport function localStorage() {\n    if (typeof self === \"object\" && self.indexedDB) {\n        return new IndexedDbStorage();\n    }\n    if (typeof window === \"object\" && window.localStorage) {\n        return window.localStorage;\n    }\n    return inMemoryStorage;\n}\n//# sourceMappingURL=localStorage.js.map","var InMemoryStorage = /** @class */ (function () {\n    function InMemoryStorage(store) {\n        if (store === void 0) { store = {}; }\n        this.store = store;\n    }\n    InMemoryStorage.prototype.getItem = function (key) {\n        if (key in this.store) {\n            return this.store[key];\n        }\n        return null;\n    };\n    InMemoryStorage.prototype.removeItem = function (key) {\n        delete this.store[key];\n    };\n    InMemoryStorage.prototype.setItem = function (key, value) {\n        this.store[key] = value;\n    };\n    return InMemoryStorage;\n}());\nexport { InMemoryStorage };\n//# sourceMappingURL=InMemoryStorage.js.map","import { __extends } from \"tslib\";\nimport { deserializeAws_json1_1GetIdCommand, serializeAws_json1_1GetIdCommand } from \"../protocols/Aws_json1_1\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\nvar GetIdCommand = /** @class */ (function (_super) {\n    __extends(GetIdCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function GetIdCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    GetIdCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        var stack = clientStack.concat(this.middlewareStack);\n        var handlerExecutionContext = {\n            logger: {}\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    GetIdCommand.prototype.serialize = function (input, context) {\n        return serializeAws_json1_1GetIdCommand(input, context);\n    };\n    GetIdCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_json1_1GetIdCommand(output, context);\n    };\n    return GetIdCommand;\n}($Command));\nexport { GetIdCommand };\n//# sourceMappingURL=GetIdCommand.js.map","import { __awaiter, __generator } from \"tslib\";\nimport { fromCognitoIdentity } from \"./fromCognitoIdentity\";\nimport { localStorage } from \"./localStorage\";\nimport { resolveLogins } from \"./resolveLogins\";\nimport { ProviderError } from \"@aws-sdk/property-provider\";\nimport { GetIdCommand } from \"@aws-sdk/client-cognito-identity\";\n/**\n * Retrieves or generates a unique identifier using Amazon Cognito's `GetId`\n * operation, then generates temporary AWS credentials using Amazon Cognito's\n * `GetCredentialsForIdentity` operation.\n *\n * Results from `GetId` are cached internally, but results from\n * `GetCredentialsForIdentity` are not.\n */\nexport function fromCognitoIdentityPool(_a) {\n    var _this = this;\n    var accountId = _a.accountId, _b = _a.cache, cache = _b === void 0 ? localStorage() : _b, client = _a.client, customRoleArn = _a.customRoleArn, identityPoolId = _a.identityPoolId, logins = _a.logins, _c = _a.userIdentifier, userIdentifier = _c === void 0 ? !logins || Object.keys(logins).length === 0\n        ? \"ANONYMOUS\"\n        : undefined : _c;\n    var cacheKey = userIdentifier\n        ? \"aws:cognito-identity-credentials:\" + identityPoolId + \":\" + userIdentifier\n        : undefined;\n    var provider = function () { return __awaiter(_this, void 0, void 0, function () {\n        var identityId, _a, _b, IdentityId, _c, _d, _e, _f, _g;\n        return __generator(this, function (_h) {\n            switch (_h.label) {\n                case 0:\n                    _a = cacheKey;\n                    if (!_a) return [3 /*break*/, 2];\n                    return [4 /*yield*/, cache.getItem(cacheKey)];\n                case 1:\n                    _a = (_h.sent());\n                    _h.label = 2;\n                case 2:\n                    identityId = _a;\n                    if (!!identityId) return [3 /*break*/, 7];\n                    _d = (_c = client).send;\n                    _e = GetIdCommand.bind;\n                    _f = {\n                        AccountId: accountId,\n                        IdentityPoolId: identityPoolId\n                    };\n                    if (!logins) return [3 /*break*/, 4];\n                    return [4 /*yield*/, resolveLogins(logins)];\n                case 3:\n                    _g = _h.sent();\n                    return [3 /*break*/, 5];\n                case 4:\n                    _g = undefined;\n                    _h.label = 5;\n                case 5: return [4 /*yield*/, _d.apply(_c, [new (_e.apply(GetIdCommand, [void 0, (_f.Logins = _g,\n                                _f)]))()])];\n                case 6:\n                    _b = (_h.sent()).IdentityId, IdentityId = _b === void 0 ? throwOnMissingId() : _b;\n                    identityId = IdentityId;\n                    if (cacheKey) {\n                        Promise.resolve(cache.setItem(cacheKey, identityId)).catch(function () { });\n                    }\n                    _h.label = 7;\n                case 7:\n                    provider = fromCognitoIdentity({\n                        client: client,\n                        customRoleArn: customRoleArn,\n                        logins: logins,\n                        identityId: identityId\n                    });\n                    return [2 /*return*/, provider()];\n            }\n        });\n    }); };\n    return function () {\n        return provider().catch(function (err) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (cacheKey) {\n                    Promise.resolve(cache.removeItem(cacheKey)).catch(function () { });\n                }\n                throw err;\n            });\n        }); });\n    };\n}\nfunction throwOnMissingId() {\n    throw new ProviderError(\"Response from Amazon Cognito contained no identity ID\");\n}\n//# sourceMappingURL=fromCognitoIdentityPool.js.map","// Partition default templates\nvar AWS_TEMPLATE = \"cognito-identity.{region}.amazonaws.com\";\nvar AWS_CN_TEMPLATE = \"cognito-identity.{region}.amazonaws.com.cn\";\nvar AWS_ISO_TEMPLATE = \"cognito-identity.{region}.c2s.ic.gov\";\nvar AWS_ISO_B_TEMPLATE = \"cognito-identity.{region}.sc2s.sgov.gov\";\nvar AWS_US_GOV_TEMPLATE = \"cognito-identity.{region}.amazonaws.com\";\n// Partition regions\nvar AWS_REGIONS = new Set([\n    \"ap-south-1\",\n    \"eu-north-1\",\n    \"eu-west-3\",\n    \"eu-west-2\",\n    \"eu-west-1\",\n    \"ap-northeast-2\",\n    \"ap-northeast-1\",\n    \"me-south-1\",\n    \"ca-central-1\",\n    \"sa-east-1\",\n    \"ap-east-1\",\n    \"ap-southeast-1\",\n    \"ap-southeast-2\",\n    \"eu-central-1\",\n    \"us-east-1\",\n    \"us-east-2\",\n    \"us-west-1\",\n    \"us-west-2\"\n]);\nvar AWS_CN_REGIONS = new Set([\"cn-north-1\", \"cn-northwest-1\"]);\nvar AWS_ISO_REGIONS = new Set([\"us-iso-east-1\"]);\nvar AWS_ISO_B_REGIONS = new Set([\"us-isob-east-1\"]);\nvar AWS_US_GOV_REGIONS = new Set([\"us-gov-west-1\", \"us-gov-east-1\"]);\nexport var defaultRegionInfoProvider = function (region, options) {\n    var regionInfo = undefined;\n    switch (region) {\n        // First, try to match exact region names.\n        case \"ap-northeast-1\":\n            regionInfo = {\n                hostname: \"cognito-identity.ap-northeast-1.amazonaws.com\"\n            };\n            break;\n        case \"ap-northeast-2\":\n            regionInfo = {\n                hostname: \"cognito-identity.ap-northeast-2.amazonaws.com\"\n            };\n            break;\n        case \"ap-south-1\":\n            regionInfo = {\n                hostname: \"cognito-identity.ap-south-1.amazonaws.com\"\n            };\n            break;\n        case \"ap-southeast-1\":\n            regionInfo = {\n                hostname: \"cognito-identity.ap-southeast-1.amazonaws.com\"\n            };\n            break;\n        case \"ap-southeast-2\":\n            regionInfo = {\n                hostname: \"cognito-identity.ap-southeast-2.amazonaws.com\"\n            };\n            break;\n        case \"ca-central-1\":\n            regionInfo = {\n                hostname: \"cognito-identity.ca-central-1.amazonaws.com\"\n            };\n            break;\n        case \"cn-north-1\":\n            regionInfo = {\n                hostname: \"cognito-identity.cn-north-1.amazonaws.com.cn\"\n            };\n            break;\n        case \"eu-central-1\":\n            regionInfo = {\n                hostname: \"cognito-identity.eu-central-1.amazonaws.com\"\n            };\n            break;\n        case \"eu-west-1\":\n            regionInfo = {\n                hostname: \"cognito-identity.eu-west-1.amazonaws.com\"\n            };\n            break;\n        case \"eu-west-2\":\n            regionInfo = {\n                hostname: \"cognito-identity.eu-west-2.amazonaws.com\"\n            };\n            break;\n        case \"us-east-1\":\n            regionInfo = {\n                hostname: \"cognito-identity.us-east-1.amazonaws.com\"\n            };\n            break;\n        case \"us-east-2\":\n            regionInfo = {\n                hostname: \"cognito-identity.us-east-2.amazonaws.com\"\n            };\n            break;\n        case \"us-west-2\":\n            regionInfo = {\n                hostname: \"cognito-identity.us-west-2.amazonaws.com\"\n            };\n            break;\n        // Next, try to match partition endpoints.\n        default:\n            if (AWS_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_TEMPLATE.replace(\"{region}\", region)\n                };\n            }\n            if (AWS_CN_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_CN_TEMPLATE.replace(\"{region}\", region)\n                };\n            }\n            if (AWS_ISO_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_ISO_TEMPLATE.replace(\"{region}\", region)\n                };\n            }\n            if (AWS_ISO_B_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_ISO_B_TEMPLATE.replace(\"{region}\", region)\n                };\n            }\n            if (AWS_US_GOV_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_US_GOV_TEMPLATE.replace(\"{region}\", region)\n                };\n            }\n            // Finally, assume it's an AWS partition endpoint.\n            if (regionInfo === undefined) {\n                regionInfo = {\n                    hostname: AWS_TEMPLATE.replace(\"{region}\", region)\n                };\n            }\n    }\n    return Promise.resolve(regionInfo);\n};\n//# sourceMappingURL=endpoints.js.map","import { defaultRegionInfoProvider } from \"./endpoints\";\nexport var ClientSharedValues = {\n    apiVersion: \"2014-06-30\",\n    disableHostPrefix: false,\n    signingName: \"cognito-identity\",\n    regionInfoProvider: defaultRegionInfoProvider\n};\n//# sourceMappingURL=runtimeConfig.shared.js.map","import { __assign } from \"tslib\";\nimport { invalidFunction } from \"@aws-sdk/invalid-dependency\";\nimport { Sha256 } from \"@aws-crypto/sha256-browser\";\nimport { FetchHttpHandler } from \"@aws-sdk/fetch-http-handler\";\nimport { parseUrl } from \"@aws-sdk/url-parser-browser\";\nimport { calculateBodyLength } from \"@aws-sdk/util-body-length-browser\";\nimport { streamCollector } from \"@aws-sdk/stream-collector-browser\";\nimport { fromUtf8, toUtf8 } from \"@aws-sdk/util-utf8-browser\";\nimport { fromBase64, toBase64 } from \"@aws-sdk/util-base64-browser\";\nimport { defaultUserAgent } from \"@aws-sdk/util-user-agent-browser\";\nimport { name, version } from \"./package.json\";\nimport { ClientSharedValues } from \"./runtimeConfig.shared\";\nexport var ClientDefaultValues = __assign(__assign({}, ClientSharedValues), { requestHandler: new FetchHttpHandler(), sha256: Sha256, urlParser: parseUrl, bodyLengthChecker: calculateBodyLength, streamCollector: streamCollector, base64Decoder: fromBase64, base64Encoder: toBase64, utf8Decoder: fromUtf8, utf8Encoder: toUtf8, defaultUserAgent: defaultUserAgent(name, version), runtime: \"browser\", credentialDefaultProvider: (function () { }), regionDefaultProvider: invalidFunction(\"Region is missing\") });\n//# sourceMappingURL=runtimeConfig.browser.js.map","import { __assign, __extends } from \"tslib\";\nimport { ClientDefaultValues as __ClientDefaultValues } from \"./runtimeConfig\";\nimport { resolveEndpointsConfig, resolveRegionConfig } from \"@aws-sdk/config-resolver\";\nimport { getContentLengthPlugin } from \"@aws-sdk/middleware-content-length\";\nimport { getHostHeaderPlugin, resolveHostHeaderConfig } from \"@aws-sdk/middleware-host-header\";\nimport { getRetryPlugin, resolveRetryConfig } from \"@aws-sdk/middleware-retry\";\nimport { resolveAwsAuthConfig } from \"@aws-sdk/middleware-signing\";\nimport { getUserAgentPlugin, resolveUserAgentConfig } from \"@aws-sdk/middleware-user-agent\";\nimport { Client as __Client } from \"@aws-sdk/smithy-client\";\n/**\n * <fullname>Amazon Cognito Federated Identities</fullname>\n *          <p>Amazon Cognito Federated Identities is a web service that delivers scoped temporary\n *          credentials to mobile devices and other untrusted environments. It uniquely identifies a\n *          device and supplies the user with a consistent identity over the lifetime of an\n *          application.</p>\n *          <p>Using Amazon Cognito Federated Identities, you can enable authentication with one or\n *          more third-party identity providers (Facebook, Google, or Login with Amazon) or an Amazon\n *          Cognito user pool, and you can also choose to support unauthenticated access from your app.\n *          Cognito delivers a unique identifier for each user and acts as an OpenID token provider\n *          trusted by AWS Security Token Service (STS) to access temporary, limited-privilege AWS\n *          credentials.</p>\n *          <p>For a description of the authentication flow from the Amazon Cognito Developer Guide\n *          see <a href=\"https://docs.aws.amazon.com/cognito/latest/developerguide/authentication-flow.html\">Authentication Flow</a>.</p>\n *          <p>For more information see <a href=\"https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-identity.html\">Amazon Cognito Federated Identities</a>.</p>\n */\nvar CognitoIdentityClient = /** @class */ (function (_super) {\n    __extends(CognitoIdentityClient, _super);\n    function CognitoIdentityClient(configuration) {\n        var _this = this;\n        var _config_0 = __assign(__assign({}, __ClientDefaultValues), configuration);\n        var _config_1 = resolveRegionConfig(_config_0);\n        var _config_2 = resolveEndpointsConfig(_config_1);\n        var _config_3 = resolveAwsAuthConfig(_config_2);\n        var _config_4 = resolveRetryConfig(_config_3);\n        var _config_5 = resolveUserAgentConfig(_config_4);\n        var _config_6 = resolveHostHeaderConfig(_config_5);\n        _this = _super.call(this, _config_6) || this;\n        _this.config = _config_6;\n        _this.middlewareStack.use(getRetryPlugin(_this.config));\n        _this.middlewareStack.use(getUserAgentPlugin(_this.config));\n        _this.middlewareStack.use(getContentLengthPlugin(_this.config));\n        _this.middlewareStack.use(getHostHeaderPlugin(_this.config));\n        return _this;\n    }\n    CognitoIdentityClient.prototype.destroy = function () { };\n    return CognitoIdentityClient;\n}(__Client));\nexport { CognitoIdentityClient };\n//# sourceMappingURL=CognitoIdentityClient.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { ConsoleLogger as Logger } from './Logger';\nimport { StorageHelper } from './StorageHelper';\nimport { makeQuerablePromise } from './JS';\nimport { FacebookOAuth, GoogleOAuth } from './OAuthHelper';\nimport { getAmplifyUserAgent } from './Platform';\nimport { Amplify } from './Amplify';\nimport { fromCognitoIdentity, fromCognitoIdentityPool, } from '@aws-sdk/credential-provider-cognito-identity';\nimport { CognitoIdentityClient, GetIdCommand, } from '@aws-sdk/client-cognito-identity';\nvar logger = new Logger('Credentials');\nvar CREDENTIALS_TTL = 50 * 60 * 1000; // 50 min, can be modified on config if required in the future\nvar CredentialsClass = /** @class */ (function () {\n    function CredentialsClass(config) {\n        this._gettingCredPromise = null;\n        this._refreshHandlers = {};\n        this.configure(config);\n        this._refreshHandlers['google'] = GoogleOAuth.refreshGoogleToken;\n        this._refreshHandlers['facebook'] = FacebookOAuth.refreshFacebookToken;\n    }\n    CredentialsClass.prototype.getCredSource = function () {\n        return this._credentials_source;\n    };\n    CredentialsClass.prototype.configure = function (config) {\n        if (!config)\n            return this._config || {};\n        this._config = Object.assign({}, this._config, config);\n        var refreshHandlers = this._config.refreshHandlers;\n        // If the developer has provided an object of refresh handlers,\n        // then we can merge the provided handlers with the current handlers.\n        if (refreshHandlers) {\n            this._refreshHandlers = __assign(__assign({}, this._refreshHandlers), refreshHandlers);\n        }\n        this._storage = this._config.storage;\n        if (!this._storage) {\n            this._storage = new StorageHelper().getStorage();\n        }\n        this._storageSync = Promise.resolve();\n        if (typeof this._storage['sync'] === 'function') {\n            this._storageSync = this._storage['sync']();\n        }\n        return this._config;\n    };\n    CredentialsClass.prototype.get = function () {\n        logger.debug('getting credentials');\n        return this._pickupCredentials();\n    };\n    CredentialsClass.prototype._pickupCredentials = function () {\n        logger.debug('picking up credentials');\n        if (!this._gettingCredPromise || !this._gettingCredPromise.isPending()) {\n            logger.debug('getting new cred promise');\n            this._gettingCredPromise = makeQuerablePromise(this._keepAlive());\n        }\n        else {\n            logger.debug('getting old cred promise');\n        }\n        return this._gettingCredPromise;\n    };\n    CredentialsClass.prototype._keepAlive = function () {\n        logger.debug('checking if credentials exists and not expired');\n        var cred = this._credentials;\n        if (cred && !this._isExpired(cred)) {\n            logger.debug('credentials not changed and not expired, directly return');\n            return Promise.resolve(cred);\n        }\n        logger.debug('need to get a new credential or refresh the existing one');\n        if (Amplify.Auth &&\n            typeof Amplify.Auth.currentUserCredentials === 'function') {\n            return Amplify.Auth.currentUserCredentials();\n        }\n        else {\n            return Promise.reject('No Auth module registered in Amplify');\n        }\n    };\n    CredentialsClass.prototype.refreshFederatedToken = function (federatedInfo) {\n        var _this = this;\n        logger.debug('Getting federated credentials');\n        var provider = federatedInfo.provider, user = federatedInfo.user;\n        var token = federatedInfo.token;\n        var expires_at = federatedInfo.expires_at;\n        // Make sure expires_at is in millis\n        expires_at =\n            new Date(expires_at).getFullYear() === 1970\n                ? expires_at * 1000\n                : expires_at;\n        var that = this;\n        logger.debug('checking if federated jwt token expired');\n        if (expires_at > new Date().getTime()) {\n            // if not expired\n            logger.debug('token not expired');\n            return this._setCredentialsFromFederation({\n                provider: provider,\n                token: token,\n                user: user,\n                expires_at: expires_at,\n            });\n        }\n        else {\n            // if refresh handler exists\n            if (that._refreshHandlers[provider] &&\n                typeof that._refreshHandlers[provider] === 'function') {\n                logger.debug('getting refreshed jwt token from federation provider');\n                return that._refreshHandlers[provider]()\n                    .then(function (data) {\n                    logger.debug('refresh federated token sucessfully', data);\n                    token = data.token;\n                    expires_at = data.expires_at;\n                    return that._setCredentialsFromFederation({\n                        provider: provider,\n                        token: token,\n                        user: user,\n                        expires_at: expires_at,\n                    });\n                })\n                    .catch(function (e) {\n                    logger.debug('refresh federated token failed', e);\n                    _this.clear();\n                    return Promise.reject('refreshing federation token failed: ' + e);\n                });\n            }\n            else {\n                logger.debug('no refresh handler for provider:', provider);\n                this.clear();\n                return Promise.reject('no refresh handler for provider');\n            }\n        }\n    };\n    CredentialsClass.prototype._isExpired = function (credentials) {\n        if (!credentials) {\n            logger.debug('no credentials for expiration check');\n            return true;\n        }\n        logger.debug('are these credentials expired?', credentials);\n        var ts = Date.now();\n        var delta = 10 * 60 * 1000; // 10 minutes in milli seconds\n        /* returns date object.\n            https://github.com/aws/aws-sdk-js-v3/blob/v1.0.0-beta.1/packages/types/src/credentials.ts#L26\n        */\n        var expiration = credentials.expiration;\n        if (expiration.getTime() > ts + delta &&\n            ts < this._nextCredentialsRefresh) {\n            return false;\n        }\n        return true;\n    };\n    CredentialsClass.prototype._setCredentialsForGuest = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, identityPoolId, region, mandatorySignIn, identityId, e_1, cognitoClient, credentials, cognitoIdentityParams, credentialsProvider;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        logger.debug('setting credentials for guest');\n                        _a = this._config, identityPoolId = _a.identityPoolId, region = _a.region, mandatorySignIn = _a.mandatorySignIn;\n                        if (mandatorySignIn) {\n                            return [2 /*return*/, Promise.reject('cannot get guest credentials when mandatory signin enabled')];\n                        }\n                        if (!identityPoolId) {\n                            logger.debug('No Cognito Identity pool provided for unauthenticated access');\n                            return [2 /*return*/, Promise.reject('No Cognito Identity pool provided for unauthenticated access')];\n                        }\n                        if (!region) {\n                            logger.debug('region is not configured for getting the credentials');\n                            return [2 /*return*/, Promise.reject('region is not configured for getting the credentials')];\n                        }\n                        identityId = undefined;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this._storageSync];\n                    case 2:\n                        _b.sent();\n                        identityId = this._storage.getItem('CognitoIdentityId-' + identityPoolId);\n                        this._identityId = identityId;\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _b.sent();\n                        logger.debug('Failed to get the cached identityId', e_1);\n                        return [3 /*break*/, 4];\n                    case 4:\n                        cognitoClient = new CognitoIdentityClient({\n                            region: region,\n                            credentials: function () { return Promise.resolve({}); },\n                            customUserAgent: getAmplifyUserAgent(),\n                        });\n                        credentials = undefined;\n                        if (identityId && identityId !== 'undefined') {\n                            cognitoIdentityParams = {\n                                identityId: identityId,\n                                client: cognitoClient,\n                            };\n                            credentials = fromCognitoIdentity(cognitoIdentityParams)();\n                        }\n                        else {\n                            credentialsProvider = function () { return __awaiter(_this, void 0, void 0, function () {\n                                var IdentityId, cognitoIdentityParams, credentialsFromCognitoIdentity;\n                                return __generator(this, function (_a) {\n                                    switch (_a.label) {\n                                        case 0: return [4 /*yield*/, cognitoClient.send(new GetIdCommand({\n                                                IdentityPoolId: identityPoolId,\n                                            }))];\n                                        case 1:\n                                            IdentityId = (_a.sent()).IdentityId;\n                                            this._identityId = IdentityId;\n                                            cognitoIdentityParams = {\n                                                client: cognitoClient,\n                                                identityId: IdentityId,\n                                            };\n                                            credentialsFromCognitoIdentity = fromCognitoIdentity(cognitoIdentityParams);\n                                            return [2 /*return*/, credentialsFromCognitoIdentity()];\n                                    }\n                                });\n                            }); };\n                            credentials = credentialsProvider().catch(function (err) { return __awaiter(_this, void 0, void 0, function () {\n                                return __generator(this, function (_a) {\n                                    throw err;\n                                });\n                            }); });\n                        }\n                        return [2 /*return*/, this._loadCredentials(credentials, 'guest', false, null)\n                                .then(function (res) {\n                                return res;\n                            })\n                                .catch(function (e) { return __awaiter(_this, void 0, void 0, function () {\n                                return __generator(this, function (_a) {\n                                    return [2 /*return*/, e];\n                                });\n                            }); })];\n                }\n            });\n        });\n    };\n    CredentialsClass.prototype._setCredentialsFromFederation = function (params) {\n        var provider = params.provider, token = params.token;\n        var domains = {\n            google: 'accounts.google.com',\n            facebook: 'graph.facebook.com',\n            amazon: 'www.amazon.com',\n            developer: 'cognito-identity.amazonaws.com',\n        };\n        // Use custom provider url instead of the predefined ones\n        var domain = domains[provider] || provider;\n        if (!domain) {\n            return Promise.reject('You must specify a federated provider');\n        }\n        var logins = {};\n        logins[domain] = token;\n        var _a = this._config, identityPoolId = _a.identityPoolId, region = _a.region;\n        if (!identityPoolId) {\n            logger.debug('No Cognito Federated Identity pool provided');\n            return Promise.reject('No Cognito Federated Identity pool provided');\n        }\n        if (!region) {\n            logger.debug('region is not configured for getting the credentials');\n            return Promise.reject('region is not configured for getting the credentials');\n        }\n        var cognitoClient = new CognitoIdentityClient({\n            region: region,\n            credentials: function () { return Promise.resolve({}); },\n            customUserAgent: getAmplifyUserAgent(),\n        });\n        var cognitoIdentityParams = {\n            logins: logins,\n            identityPoolId: identityPoolId,\n            client: cognitoClient,\n        };\n        var credentials = fromCognitoIdentityPool(cognitoIdentityParams)();\n        return this._loadCredentials(credentials, 'federated', true, params);\n    };\n    CredentialsClass.prototype._setCredentialsFromSession = function (session) {\n        var _this = this;\n        logger.debug('set credentials from session');\n        var idToken = session.getIdToken().getJwtToken();\n        var _a = this._config, region = _a.region, userPoolId = _a.userPoolId, identityPoolId = _a.identityPoolId;\n        if (!identityPoolId) {\n            logger.debug('No Cognito Federated Identity pool provided');\n            return Promise.reject('No Cognito Federated Identity pool provided');\n        }\n        if (!region) {\n            logger.debug('region is not configured for getting the credentials');\n            return Promise.reject('region is not configured for getting the credentials');\n        }\n        var key = 'cognito-idp.' + region + '.amazonaws.com/' + userPoolId;\n        var logins = {};\n        logins[key] = idToken;\n        var cognitoClient = new CognitoIdentityClient({\n            region: region,\n            credentials: function () { return Promise.resolve({}); },\n            customUserAgent: getAmplifyUserAgent(),\n        });\n        /*\n            Retreiving identityId with GetIdCommand to mimic the behavior in the following code in aws-sdk-v3:\n            https://git.io/JeDxU\n\n            Note: Retreive identityId from CredentialsProvider once aws-sdk-js v3 supports this.\n        */\n        var credentialsProvider = function () { return __awaiter(_this, void 0, void 0, function () {\n            var IdentityId, cognitoIdentityParams, credentialsFromCognitoIdentity;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, cognitoClient.send(new GetIdCommand({\n                            IdentityPoolId: identityPoolId,\n                            Logins: logins,\n                        }))];\n                    case 1:\n                        IdentityId = (_a.sent()).IdentityId;\n                        this._identityId = IdentityId;\n                        cognitoIdentityParams = {\n                            client: cognitoClient,\n                            logins: logins,\n                            identityId: IdentityId,\n                        };\n                        credentialsFromCognitoIdentity = fromCognitoIdentity(cognitoIdentityParams);\n                        return [2 /*return*/, credentialsFromCognitoIdentity()];\n                }\n            });\n        }); };\n        var credentials = credentialsProvider().catch(function (err) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw err;\n            });\n        }); });\n        return this._loadCredentials(credentials, 'userPool', true, null);\n    };\n    CredentialsClass.prototype._loadCredentials = function (credentials, source, authenticated, info) {\n        var _this = this;\n        var that = this;\n        var identityPoolId = this._config.identityPoolId;\n        return new Promise(function (res, rej) {\n            credentials\n                .then(function (credentials) { return __awaiter(_this, void 0, void 0, function () {\n                var user, provider, token, expires_at, e_2;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            logger.debug('Load credentials successfully', credentials);\n                            if (this._identityId && !credentials.identityId) {\n                                credentials['identityId'] = this._identityId;\n                            }\n                            that._credentials = credentials;\n                            that._credentials.authenticated = authenticated;\n                            that._credentials_source = source;\n                            that._nextCredentialsRefresh = new Date().getTime() + CREDENTIALS_TTL;\n                            if (source === 'federated') {\n                                user = info.user;\n                                provider = info.provider, token = info.token, expires_at = info.expires_at;\n                                try {\n                                    this._storage.setItem('aws-amplify-federatedInfo', JSON.stringify({\n                                        provider: provider,\n                                        token: token,\n                                        user: user,\n                                        expires_at: expires_at,\n                                    }));\n                                }\n                                catch (e) {\n                                    logger.debug('Failed to put federated info into auth storage', e);\n                                }\n                            }\n                            if (!(source === 'guest')) return [3 /*break*/, 4];\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, this._storageSync];\n                        case 2:\n                            _a.sent();\n                            this._storage.setItem('CognitoIdentityId-' + identityPoolId, credentials.identityId // TODO: IdentityId is currently not returned by fromCognitoIdentityPool()\n                            );\n                            return [3 /*break*/, 4];\n                        case 3:\n                            e_2 = _a.sent();\n                            logger.debug('Failed to cache identityId', e_2);\n                            return [3 /*break*/, 4];\n                        case 4:\n                            res(that._credentials);\n                            return [2 /*return*/];\n                    }\n                });\n            }); })\n                .catch(function (err) {\n                if (err) {\n                    logger.debug('Failed to load credentials', credentials);\n                    rej(err);\n                    return;\n                }\n            });\n        });\n    };\n    CredentialsClass.prototype.set = function (params, source) {\n        if (source === 'session') {\n            return this._setCredentialsFromSession(params);\n        }\n        else if (source === 'federation') {\n            return this._setCredentialsFromFederation(params);\n        }\n        else if (source === 'guest') {\n            return this._setCredentialsForGuest();\n        }\n        else {\n            logger.debug('no source specified for setting credentials');\n            return Promise.reject('invalid source');\n        }\n    };\n    CredentialsClass.prototype.clear = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this._credentials = null;\n                this._credentials_source = null;\n                this._storage.removeItem('aws-amplify-federatedInfo');\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Compact version of credentials\n     * @param {Object} credentials\n     * @return {Object} - Credentials\n     */\n    CredentialsClass.prototype.shear = function (credentials) {\n        return {\n            accessKeyId: credentials.accessKeyId,\n            sessionToken: credentials.sessionToken,\n            secretAccessKey: credentials.secretAccessKey,\n            identityId: credentials.identityId,\n            authenticated: credentials.authenticated,\n        };\n    };\n    return CredentialsClass;\n}());\nexport { CredentialsClass };\nexport var Credentials = new CredentialsClass(null);\n/**\n * @deprecated use named import\n */\nexport default Credentials;\n//# sourceMappingURL=Credentials.js.map","/**\n * Date & time utility functions to abstract the `aws-sdk` away from users.\n * (v2 => v3 modularization is a breaking change)\n *\n * @see https://github.com/aws/aws-sdk-js/blob/6edf586dcc1de7fe8fbfbbd9a0d2b1847921e6e1/lib/util.js#L262\n */\nexport var DateUtils = {\n    /**\n     * Milliseconds to offset the date to compensate for clock skew between device & services\n     */\n    clockOffset: 0,\n    getDateWithClockOffset: function () {\n        if (DateUtils.clockOffset) {\n            return new Date(new Date().getTime() + DateUtils.clockOffset);\n        }\n        else {\n            return new Date();\n        }\n    },\n    /**\n     * @returns {number} Clock offset in milliseconds\n     */\n    getClockOffset: function () {\n        return DateUtils.clockOffset;\n    },\n    /**\n     * @param {number} offset Clock offset in milliseconds\n     */\n    setClockOffset: function (offset) {\n        DateUtils.clockOffset = offset;\n    },\n};\n//# sourceMappingURL=DateUtils.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { ConsoleLogger as Logger } from './Logger';\nimport { Sha256 as jsSha256 } from '@aws-crypto/sha256-js';\nimport { toHex } from '@aws-sdk/util-hex-encoding';\nimport { parse, format } from 'url';\nimport { DateUtils } from './Util';\nvar logger = new Logger('Signer');\nvar DEFAULT_ALGORITHM = 'AWS4-HMAC-SHA256';\nvar IOT_SERVICE_NAME = 'iotdevicegateway';\nvar encrypt = function (key, src) {\n    var hash = new jsSha256(key);\n    hash.update(src);\n    return hash.digestSync();\n};\nvar hash = function (src) {\n    var arg = src || '';\n    var hash = new jsSha256();\n    hash.update(arg);\n    return toHex(hash.digestSync());\n};\n/**\n * @private\n * RFC 3986 compliant version of encodeURIComponent\n */\nvar escape_RFC3986 = function (component) {\n    return component.replace(/[!'()*]/g, function (c) {\n        return ('%' +\n            c\n                .charCodeAt(0)\n                .toString(16)\n                .toUpperCase());\n    });\n};\n/**\n * @private\n * Create canonical query string\n *\n */\nvar canonical_query = function (query) {\n    if (!query || query.length === 0) {\n        return '';\n    }\n    return query\n        .split('&')\n        .map(function (e) {\n        var key_val = e.split('=');\n        if (key_val.length === 1) {\n            return e;\n        }\n        else {\n            var reencoded_val = escape_RFC3986(key_val[1]);\n            return key_val[0] + '=' + reencoded_val;\n        }\n    })\n        .sort(function (a, b) {\n        var key_a = a.split('=')[0];\n        var key_b = b.split('=')[0];\n        if (key_a === key_b) {\n            return a < b ? -1 : 1;\n        }\n        else {\n            return key_a < key_b ? -1 : 1;\n        }\n    })\n        .join('&');\n};\n/**\n* @private\n* Create canonical headers\n*\n<pre>\nCanonicalHeaders =\n    CanonicalHeadersEntry0 + CanonicalHeadersEntry1 + ... + CanonicalHeadersEntryN\nCanonicalHeadersEntry =\n    Lowercase(HeaderName) + ':' + Trimall(HeaderValue) + '\\n'\n</pre>\n*/\nvar canonical_headers = function (headers) {\n    if (!headers || Object.keys(headers).length === 0) {\n        return '';\n    }\n    return (Object.keys(headers)\n        .map(function (key) {\n        return {\n            key: key.toLowerCase(),\n            value: headers[key] ? headers[key].trim().replace(/\\s+/g, ' ') : '',\n        };\n    })\n        .sort(function (a, b) {\n        return a.key < b.key ? -1 : 1;\n    })\n        .map(function (item) {\n        return item.key + ':' + item.value;\n    })\n        .join('\\n') + '\\n');\n};\n/**\n * List of header keys included in the canonical headers.\n * @access private\n */\nvar signed_headers = function (headers) {\n    return Object.keys(headers)\n        .map(function (key) {\n        return key.toLowerCase();\n    })\n        .sort()\n        .join(';');\n};\n/**\n* @private\n* Create canonical request\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-create-canonical-request.html|Create a Canonical Request}\n*\n<pre>\nCanonicalRequest =\n    HTTPRequestMethod + '\\n' +\n    CanonicalURI + '\\n' +\n    CanonicalQueryString + '\\n' +\n    CanonicalHeaders + '\\n' +\n    SignedHeaders + '\\n' +\n    HexEncode(Hash(RequestPayload))\n</pre>\n*/\nvar canonical_request = function (request) {\n    var url_info = parse(request.url);\n    return [\n        request.method || '/',\n        encodeURIComponent(url_info.pathname).replace(/%2F/gi, '/'),\n        canonical_query(url_info.query),\n        canonical_headers(request.headers),\n        signed_headers(request.headers),\n        hash(request.data),\n    ].join('\\n');\n};\nvar parse_service_info = function (request) {\n    var url_info = parse(request.url), host = url_info.host;\n    var matched = host.match(/([^\\.]+)\\.(?:([^\\.]*)\\.)?amazonaws\\.com$/);\n    var parsed = (matched || []).slice(1, 3);\n    if (parsed[1] === 'es') {\n        // Elastic Search\n        parsed = parsed.reverse();\n    }\n    return {\n        service: request.service || parsed[0],\n        region: request.region || parsed[1],\n    };\n};\nvar credential_scope = function (d_str, region, service) {\n    return [d_str, region, service, 'aws4_request'].join('/');\n};\n/**\n* @private\n* Create a string to sign\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html|Create String to Sign}\n*\n<pre>\nStringToSign =\n    Algorithm + \\n +\n    RequestDateTime + \\n +\n    CredentialScope + \\n +\n    HashedCanonicalRequest\n</pre>\n*/\nvar string_to_sign = function (algorithm, canonical_request, dt_str, scope) {\n    return [algorithm, dt_str, scope, hash(canonical_request)].join('\\n');\n};\n/**\n* @private\n* Create signing key\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html|Calculate Signature}\n*\n<pre>\nkSecret = your secret access key\nkDate = HMAC(\"AWS4\" + kSecret, Date)\nkRegion = HMAC(kDate, Region)\nkService = HMAC(kRegion, Service)\nkSigning = HMAC(kService, \"aws4_request\")\n</pre>\n*/\nvar get_signing_key = function (secret_key, d_str, service_info) {\n    logger.debug(service_info);\n    var k = 'AWS4' + secret_key, k_date = encrypt(k, d_str), k_region = encrypt(k_date, service_info.region), k_service = encrypt(k_region, service_info.service), k_signing = encrypt(k_service, 'aws4_request');\n    return k_signing;\n};\nvar get_signature = function (signing_key, str_to_sign) {\n    return toHex(encrypt(signing_key, str_to_sign));\n};\n/**\n * @private\n * Create authorization header\n * Refer to\n * {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-add-signature-to-request.html|Add the Signing Information}\n */\nvar get_authorization_header = function (algorithm, access_key, scope, signed_headers, signature) {\n    return [\n        algorithm + ' ' + 'Credential=' + access_key + '/' + scope,\n        'SignedHeaders=' + signed_headers,\n        'Signature=' + signature,\n    ].join(', ');\n};\nvar Signer = /** @class */ (function () {\n    function Signer() {\n    }\n    /**\n    * Sign a HTTP request, add 'Authorization' header to request param\n    * @method sign\n    * @memberof Signer\n    * @static\n    *\n    * @param {object} request - HTTP request object\n    <pre>\n    request: {\n        method: GET | POST | PUT ...\n        url: ...,\n        headers: {\n            header1: ...\n        },\n        data: data\n    }\n    </pre>\n    * @param {object} access_info - AWS access credential info\n    <pre>\n    access_info: {\n        access_key: ...,\n        secret_key: ...,\n        session_token: ...\n    }\n    </pre>\n    * @param {object} [service_info] - AWS service type and region, optional,\n    *                                  if not provided then parse out from url\n    <pre>\n    service_info: {\n        service: ...,\n        region: ...\n    }\n    </pre>\n    *\n    * @returns {object} Signed HTTP request\n    */\n    Signer.sign = function (request, access_info, service_info) {\n        if (service_info === void 0) { service_info = null; }\n        request.headers = request.headers || {};\n        // datetime string and date string\n        var dt = DateUtils.getDateWithClockOffset(), dt_str = dt.toISOString().replace(/[:\\-]|\\.\\d{3}/g, ''), d_str = dt_str.substr(0, 8);\n        var url_info = parse(request.url);\n        request.headers['host'] = url_info.host;\n        request.headers['x-amz-date'] = dt_str;\n        if (access_info.session_token) {\n            request.headers['X-Amz-Security-Token'] = access_info.session_token;\n        }\n        // Task 1: Create a Canonical Request\n        var request_str = canonical_request(request);\n        logger.debug(request_str);\n        // Task 2: Create a String to Sign\n        var serviceInfo = service_info || parse_service_info(request), scope = credential_scope(d_str, serviceInfo.region, serviceInfo.service), str_to_sign = string_to_sign(DEFAULT_ALGORITHM, request_str, dt_str, scope);\n        // Task 3: Calculate the Signature\n        var signing_key = get_signing_key(access_info.secret_key, d_str, serviceInfo), signature = get_signature(signing_key, str_to_sign);\n        // Task 4: Adding the Signing information to the Request\n        var authorization_header = get_authorization_header(DEFAULT_ALGORITHM, access_info.access_key, scope, signed_headers(request.headers), signature);\n        request.headers['Authorization'] = authorization_header;\n        return request;\n    };\n    Signer.signUrl = function (urlOrRequest, accessInfo, serviceInfo, expiration) {\n        var urlToSign = typeof urlOrRequest === 'object' ? urlOrRequest.url : urlOrRequest;\n        var method = typeof urlOrRequest === 'object' ? urlOrRequest.method : 'GET';\n        var body = typeof urlOrRequest === 'object' ? urlOrRequest.body : undefined;\n        var now = DateUtils.getDateWithClockOffset()\n            .toISOString()\n            .replace(/[:\\-]|\\.\\d{3}/g, '');\n        var today = now.substr(0, 8);\n        // Intentionally discarding search\n        var _a = parse(urlToSign, true, true), search = _a.search, parsedUrl = __rest(_a, [\"search\"]);\n        var host = parsedUrl.host;\n        var signedHeaders = { host: host };\n        var _b = serviceInfo || parse_service_info({ url: format(parsedUrl) }), region = _b.region, service = _b.service;\n        var credentialScope = credential_scope(today, region, service);\n        // IoT service does not allow the session token in the canonical request\n        // https://docs.aws.amazon.com/general/latest/gr/sigv4-add-signature-to-request.html\n        var sessionTokenRequired = accessInfo.session_token && service !== IOT_SERVICE_NAME;\n        var queryParams = __assign(__assign(__assign({ 'X-Amz-Algorithm': DEFAULT_ALGORITHM, 'X-Amz-Credential': [accessInfo.access_key, credentialScope].join('/'), 'X-Amz-Date': now.substr(0, 16) }, (sessionTokenRequired\n            ? { 'X-Amz-Security-Token': \"\" + accessInfo.session_token }\n            : {})), (expiration ? { 'X-Amz-Expires': \"\" + expiration } : {})), { 'X-Amz-SignedHeaders': Object.keys(signedHeaders).join(',') });\n        var canonicalRequest = canonical_request({\n            method: method,\n            url: format(__assign(__assign({}, parsedUrl), { query: __assign(__assign({}, parsedUrl.query), queryParams) })),\n            headers: signedHeaders,\n            data: body,\n        });\n        var stringToSign = string_to_sign(DEFAULT_ALGORITHM, canonicalRequest, now, credentialScope);\n        var signing_key = get_signing_key(accessInfo.secret_key, today, {\n            region: region,\n            service: service,\n        });\n        var signature = get_signature(signing_key, stringToSign);\n        var additionalQueryParams = __assign({ 'X-Amz-Signature': signature }, (accessInfo.session_token && {\n            'X-Amz-Security-Token': accessInfo.session_token,\n        }));\n        var result = format({\n            protocol: parsedUrl.protocol,\n            slashes: true,\n            hostname: parsedUrl.hostname,\n            port: parsedUrl.port,\n            pathname: parsedUrl.pathname,\n            query: __assign(__assign(__assign({}, parsedUrl.query), queryParams), additionalQueryParams),\n        });\n        return result;\n    };\n    return Signer;\n}());\nexport { Signer };\n/**\n * @deprecated use per-function import\n */\nexport default Signer;\n//# sourceMappingURL=Signer.js.map","'use strict';\n\nvar Observable = require('zen-observable');\n\nfunction addMethods(target, methods) {\n  Object.keys(methods).forEach(function(k) {\n    var desc = Object.getOwnPropertyDescriptor(methods, k);\n    desc.enumerable = false;\n    Object.defineProperty(target, k, desc);\n  });\n}\n\nfunction send(p, message, value) {\n  if (p._observer) {\n    sendMessage(p._observer, message, value);\n  } else if (p._observers) {\n    var list = [];\n    p._observers.forEach(function(to) { list.push(to); });\n    list.forEach(function(to) { sendMessage(to, message, value); });\n  }\n}\n\nfunction sendMessage(observer, message, value) {\n  if (observer.closed) {\n    return;\n  }\n  switch (message) {\n    case 'next': return observer.next(value);\n    case 'error': return observer.error(value);\n    case 'complete': return observer.complete(value);\n  }\n}\n\nfunction hasObserver(p) {\n  return p._observer || p._observers && p._observers.size > 0;\n}\n\nfunction addObserver(p, observer) {\n  if (p._observers) {\n    p._observers.add(observer);\n  } else if (!p._observer) {\n    p._observer = observer;\n  } else {\n    p._observers = new Set();\n    p._observers.add(p._observer);\n    p._observers.add(observer);\n    p._observer = null;\n  }\n}\n\nfunction deleteObserver(p, observer) {\n  if (p._observers) {\n    p._observers.delete(observer);\n  } else if (p._observer === observer) {\n    p._observer = null;\n  }\n}\n\nfunction notifyStart(p, opts) {\n  !hasObserver(p) && opts && opts.start && opts.start();\n}\n\nfunction notifyPause(p, opts) {\n  !hasObserver(p) && opts && opts.pause && opts.pause();\n}\n\nfunction PushStream(opts) {\n  var p = this;\n  this._observer = null;\n  this._observers = null;\n  this._observable = new Observable(function(observer) {\n    notifyStart(p, opts);\n    addObserver(p, observer);\n    return function() {\n      deleteObserver(p, observer);\n      notifyPause(p, opts);\n    };\n  });\n}\n\naddMethods(PushStream.prototype, {\n  get observable() { return this._observable; },\n  get observed() { return hasObserver(this); },\n  next: function(x) { send(this, 'next', x); },\n  error: function(e) { send(this, 'error', e); },\n  complete: function(x) { send(this, 'complete', x); },\n});\n\nmodule.exports = PushStream;\n","var getDefaultAdapter = function () {\n    if (window.indexedDB) {\n        return require('../indexeddb').default;\n    }\n    if (process && process.env) {\n        throw new Error('Node is not supported');\n    }\n};\nexport default getDefaultAdapter;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar protocol_http_1 = require(\"@aws-sdk/protocol-http\");\nvar CONTENT_LENGTH_HEADER = \"content-length\";\nfunction contentLengthMiddleware(bodyLengthChecker) {\n    var _this = this;\n    return function (next) { return function (args) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n        var request, body, headers, length;\n        var _a;\n        return tslib_1.__generator(this, function (_b) {\n            request = args.request;\n            if (protocol_http_1.HttpRequest.isInstance(request)) {\n                body = request.body, headers = request.headers;\n                if (body &&\n                    Object.keys(headers)\n                        .map(function (str) { return str.toLowerCase(); })\n                        .indexOf(CONTENT_LENGTH_HEADER) === -1) {\n                    length = bodyLengthChecker(body);\n                    if (length !== undefined) {\n                        request.headers = tslib_1.__assign(tslib_1.__assign({}, request.headers), (_a = {}, _a[CONTENT_LENGTH_HEADER] = String(length), _a));\n                    }\n                }\n            }\n            return [2 /*return*/, next(tslib_1.__assign(tslib_1.__assign({}, args), { request: request }))];\n        });\n    }); }; };\n}\nexports.contentLengthMiddleware = contentLengthMiddleware;\nexports.contentLengthMiddlewareOptions = {\n    step: \"build\",\n    tags: [\"SET_CONTENT_LENGTH\", \"CONTENT_LENGTH\"],\n    name: \"contentLengthMiddleware\"\n};\nexports.getContentLengthPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(contentLengthMiddleware(options.bodyLengthChecker), exports.contentLengthMiddlewareOptions);\n    }\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBVUEsd0RBQXFEO0FBRXJELElBQU0scUJBQXFCLEdBQUcsZ0JBQWdCLENBQUM7QUFFL0MsU0FBZ0IsdUJBQXVCLENBQ3JDLGlCQUF1QztJQUR6QyxpQkFnQ0M7SUE3QkMsT0FBTyxVQUNMLElBQStCLElBQ0QsT0FBQSxVQUM5QixJQUFnQzs7OztZQUU1QixPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUMzQixJQUFJLDJCQUFXLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFO2dCQUMzQixJQUFJLEdBQWMsT0FBTyxLQUFyQixFQUFFLE9BQU8sR0FBSyxPQUFPLFFBQVosQ0FBYTtnQkFDbEMsSUFDRSxJQUFJO29CQUNKLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO3lCQUNqQixHQUFHLENBQUMsVUFBQSxHQUFHLElBQUksT0FBQSxHQUFHLENBQUMsV0FBVyxFQUFFLEVBQWpCLENBQWlCLENBQUM7eUJBQzdCLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUN4QztvQkFDTSxNQUFNLEdBQUcsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ3ZDLElBQUksTUFBTSxLQUFLLFNBQVMsRUFBRTt3QkFDeEIsT0FBTyxDQUFDLE9BQU8seUNBQ1YsT0FBTyxDQUFDLE9BQU8sZ0JBQ2pCLHFCQUFxQixJQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFDeEMsQ0FBQztxQkFDSDtpQkFDRjthQUNGO1lBRUQsc0JBQU8sSUFBSSx1Q0FDTixJQUFJLEtBQ1AsT0FBTyxTQUFBLElBQ1AsRUFBQzs7U0FDSixFQTFCK0IsQ0EwQi9CLENBQUM7QUFDSixDQUFDO0FBaENELDBEQWdDQztBQUVZLFFBQUEsOEJBQThCLEdBQXdCO0lBQ2pFLElBQUksRUFBRSxPQUFPO0lBQ2IsSUFBSSxFQUFFLENBQUMsb0JBQW9CLEVBQUUsZ0JBQWdCLENBQUM7SUFDOUMsSUFBSSxFQUFFLHlCQUF5QjtDQUNoQyxDQUFDO0FBRVcsUUFBQSxzQkFBc0IsR0FBRyxVQUFDLE9BRXRDLElBQTBCLE9BQUEsQ0FBQztJQUMxQixZQUFZLEVBQUUsVUFBQSxXQUFXO1FBQ3ZCLFdBQVcsQ0FBQyxHQUFHLENBQ2IsdUJBQXVCLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLEVBQ2xELHNDQUE4QixDQUMvQixDQUFDO0lBQ0osQ0FBQztDQUNGLENBQUMsRUFQeUIsQ0FPekIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEJ1aWxkSGFuZGxlcixcbiAgQnVpbGRIYW5kbGVyQXJndW1lbnRzLFxuICBCdWlsZE1pZGRsZXdhcmUsXG4gIEJvZHlMZW5ndGhDYWxjdWxhdG9yLFxuICBNZXRhZGF0YUJlYXJlcixcbiAgQnVpbGRIYW5kbGVyT3V0cHV0LFxuICBQbHVnZ2FibGUsXG4gIEJ1aWxkSGFuZGxlck9wdGlvbnNcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAYXdzLXNkay9wcm90b2NvbC1odHRwXCI7XG5cbmNvbnN0IENPTlRFTlRfTEVOR1RIX0hFQURFUiA9IFwiY29udGVudC1sZW5ndGhcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRMZW5ndGhNaWRkbGV3YXJlKFxuICBib2R5TGVuZ3RoQ2hlY2tlcjogQm9keUxlbmd0aENhbGN1bGF0b3Jcbik6IEJ1aWxkTWlkZGxld2FyZTxhbnksIGFueT4ge1xuICByZXR1cm4gPE91dHB1dCBleHRlbmRzIE1ldGFkYXRhQmVhcmVyPihcbiAgICBuZXh0OiBCdWlsZEhhbmRsZXI8YW55LCBPdXRwdXQ+XG4gICk6IEJ1aWxkSGFuZGxlcjxhbnksIE91dHB1dD4gPT4gYXN5bmMgKFxuICAgIGFyZ3M6IEJ1aWxkSGFuZGxlckFyZ3VtZW50czxhbnk+XG4gICk6IFByb21pc2U8QnVpbGRIYW5kbGVyT3V0cHV0PE91dHB1dD4+ID0+IHtcbiAgICBsZXQgcmVxdWVzdCA9IGFyZ3MucmVxdWVzdDtcbiAgICBpZiAoSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShyZXF1ZXN0KSkge1xuICAgICAgY29uc3QgeyBib2R5LCBoZWFkZXJzIH0gPSByZXF1ZXN0O1xuICAgICAgaWYgKFxuICAgICAgICBib2R5ICYmXG4gICAgICAgIE9iamVjdC5rZXlzKGhlYWRlcnMpXG4gICAgICAgICAgLm1hcChzdHIgPT4gc3RyLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgLmluZGV4T2YoQ09OVEVOVF9MRU5HVEhfSEVBREVSKSA9PT0gLTFcbiAgICAgICkge1xuICAgICAgICBjb25zdCBsZW5ndGggPSBib2R5TGVuZ3RoQ2hlY2tlcihib2R5KTtcbiAgICAgICAgaWYgKGxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVxdWVzdC5oZWFkZXJzID0ge1xuICAgICAgICAgICAgLi4ucmVxdWVzdC5oZWFkZXJzLFxuICAgICAgICAgICAgW0NPTlRFTlRfTEVOR1RIX0hFQURFUl06IFN0cmluZyhsZW5ndGgpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXh0KHtcbiAgICAgIC4uLmFyZ3MsXG4gICAgICByZXF1ZXN0XG4gICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBjb250ZW50TGVuZ3RoTWlkZGxld2FyZU9wdGlvbnM6IEJ1aWxkSGFuZGxlck9wdGlvbnMgPSB7XG4gIHN0ZXA6IFwiYnVpbGRcIixcbiAgdGFnczogW1wiU0VUX0NPTlRFTlRfTEVOR1RIXCIsIFwiQ09OVEVOVF9MRU5HVEhcIl0sXG4gIG5hbWU6IFwiY29udGVudExlbmd0aE1pZGRsZXdhcmVcIlxufTtcblxuZXhwb3J0IGNvbnN0IGdldENvbnRlbnRMZW5ndGhQbHVnaW4gPSAob3B0aW9uczoge1xuICBib2R5TGVuZ3RoQ2hlY2tlcjogQm9keUxlbmd0aENhbGN1bGF0b3I7XG59KTogUGx1Z2dhYmxlPGFueSwgYW55PiA9PiAoe1xuICBhcHBseVRvU3RhY2s6IGNsaWVudFN0YWNrID0+IHtcbiAgICBjbGllbnRTdGFjay5hZGQoXG4gICAgICBjb250ZW50TGVuZ3RoTWlkZGxld2FyZShvcHRpb25zLmJvZHlMZW5ndGhDaGVja2VyKSxcbiAgICAgIGNvbnRlbnRMZW5ndGhNaWRkbGV3YXJlT3B0aW9uc1xuICAgICk7XG4gIH1cbn0pO1xuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./configurations\"), exports);\ntslib_1.__exportStar(require(\"./middleware\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMkRBQWlDO0FBQ2pDLHVEQUE2QiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gXCIuL2NvbmZpZ3VyYXRpb25zXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9taWRkbGV3YXJlXCI7XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isArrayBuffer(arg) {\n    return ((typeof ArrayBuffer === \"function\" && arg instanceof ArrayBuffer) ||\n        Object.prototype.toString.call(arg) === \"[object ArrayBuffer]\");\n}\nexports.isArrayBuffer = isArrayBuffer;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLFNBQWdCLGFBQWEsQ0FBQyxHQUFRO0lBQ3BDLE9BQU8sQ0FDTCxDQUFDLE9BQU8sV0FBVyxLQUFLLFVBQVUsSUFBSSxHQUFHLFlBQVksV0FBVyxDQUFDO1FBQ2pFLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxzQkFBc0IsQ0FDL0QsQ0FBQztBQUNKLENBQUM7QUFMRCxzQ0FLQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc0FycmF5QnVmZmVyKGFyZzogYW55KTogYXJnIGlzIEFycmF5QnVmZmVyIHtcbiAgcmV0dXJuIChcbiAgICAodHlwZW9mIEFycmF5QnVmZmVyID09PSBcImZ1bmN0aW9uXCIgJiYgYXJnIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8XG4gICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZykgPT09IFwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIlxuICApO1xufVxuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.invalidFunction = function (message) { return function () {\n    throw new Error(message);\n}; };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBYSxRQUFBLGVBQWUsR0FBRyxVQUFDLE9BQWUsSUFBSyxPQUFBO0lBQ2xELE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDM0IsQ0FBQyxFQUZtRCxDQUVuRCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGludmFsaWRGdW5jdGlvbiA9IChtZXNzYWdlOiBzdHJpbmcpID0+ICgpID0+IHtcbiAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xufTtcbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./crossPlatformSha256\"), exports);\nvar ie11Sha256_1 = require(\"./ie11Sha256\");\nexports.Ie11Sha256 = ie11Sha256_1.Sha256;\nvar webCryptoSha256_1 = require(\"./webCryptoSha256\");\nexports.WebCryptoSha256 = webCryptoSha256_1.Sha256;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./fetch-http-handler\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsK0RBQXFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi4vZmV0Y2gtaHR0cC1oYW5kbGVyXCI7XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar querystring_parser_1 = require(\"@aws-sdk/querystring-parser\");\nexports.parseUrl = function (url) {\n    var _a = new URL(url), hostname = _a.hostname, pathname = _a.pathname, port = _a.port, protocol = _a.protocol, search = _a.search;\n    var query;\n    if (search) {\n        query = querystring_parser_1.parseQueryString(search);\n    }\n    return {\n        hostname: hostname,\n        port: port ? parseInt(port) : undefined,\n        protocol: protocol,\n        path: pathname,\n        query: query\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxrRUFBK0Q7QUFHbEQsUUFBQSxRQUFRLEdBQWMsVUFBQyxHQUFXO0lBQ3ZDLElBQUEsaUJBQTZELEVBQTNELHNCQUFRLEVBQUUsc0JBQVEsRUFBRSxjQUFJLEVBQUUsc0JBQVEsRUFBRSxrQkFBdUIsQ0FBQztJQUVwRSxJQUFJLEtBQW9DLENBQUM7SUFDekMsSUFBSSxNQUFNLEVBQUU7UUFDVixLQUFLLEdBQUcscUNBQWdCLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDbEM7SUFFRCxPQUFPO1FBQ0wsUUFBUSxVQUFBO1FBQ1IsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTO1FBQ3ZDLFFBQVEsVUFBQTtRQUNSLElBQUksRUFBRSxRQUFRO1FBQ2QsS0FBSyxPQUFBO0tBQ04sQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlUXVlcnlTdHJpbmcgfSBmcm9tIFwiQGF3cy1zZGsvcXVlcnlzdHJpbmctcGFyc2VyXCI7XG5pbXBvcnQgeyBFbmRwb2ludCwgUXVlcnlQYXJhbWV0ZXJCYWcsIFVybFBhcnNlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgcGFyc2VVcmw6IFVybFBhcnNlciA9ICh1cmw6IHN0cmluZyk6IEVuZHBvaW50ID0+IHtcbiAgY29uc3QgeyBob3N0bmFtZSwgcGF0aG5hbWUsIHBvcnQsIHByb3RvY29sLCBzZWFyY2ggfSA9IG5ldyBVUkwodXJsKTtcblxuICBsZXQgcXVlcnk6IFF1ZXJ5UGFyYW1ldGVyQmFnIHwgdW5kZWZpbmVkO1xuICBpZiAoc2VhcmNoKSB7XG4gICAgcXVlcnkgPSBwYXJzZVF1ZXJ5U3RyaW5nKHNlYXJjaCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGhvc3RuYW1lLFxuICAgIHBvcnQ6IHBvcnQgPyBwYXJzZUludChwb3J0KSA6IHVuZGVmaW5lZCxcbiAgICBwcm90b2NvbCxcbiAgICBwYXRoOiBwYXRobmFtZSxcbiAgICBxdWVyeVxuICB9O1xufTtcbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction calculateBodyLength(body) {\n    if (typeof body === \"string\") {\n        return body.length;\n    }\n    else if (typeof body.byteLength === \"number\") {\n        // handles Uint8Array, ArrayBuffer, Buffer, and ArrayBufferView\n        return body.byteLength;\n    }\n    else if (typeof body.size === \"number\") {\n        // handles browser File object\n        return body.size;\n    }\n}\nexports.calculateBodyLength = calculateBodyLength;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFnQixtQkFBbUIsQ0FBQyxJQUFTO0lBQzNDLElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO1FBQzVCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztLQUNwQjtTQUFNLElBQUksT0FBTyxJQUFJLENBQUMsVUFBVSxLQUFLLFFBQVEsRUFBRTtRQUM5QywrREFBK0Q7UUFDL0QsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0tBQ3hCO1NBQU0sSUFBSSxPQUFPLElBQUksQ0FBQyxJQUFJLEtBQUssUUFBUSxFQUFFO1FBQ3hDLDhCQUE4QjtRQUM5QixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7S0FDbEI7QUFDSCxDQUFDO0FBVkQsa0RBVUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlQm9keUxlbmd0aChib2R5OiBhbnkpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICBpZiAodHlwZW9mIGJvZHkgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gYm9keS5sZW5ndGg7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkuYnl0ZUxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgIC8vIGhhbmRsZXMgVWludDhBcnJheSwgQXJyYXlCdWZmZXIsIEJ1ZmZlciwgYW5kIEFycmF5QnVmZmVyVmlld1xuICAgIHJldHVybiBib2R5LmJ5dGVMZW5ndGg7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkuc2l6ZSA9PT0gXCJudW1iZXJcIikge1xuICAgIC8vIGhhbmRsZXMgYnJvd3NlciBGaWxlIG9iamVjdFxuICAgIHJldHVybiBib2R5LnNpemU7XG4gIH1cbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.streamCollector = function (stream) {\n    return new Response(stream)\n        .arrayBuffer()\n        .then(function (arrayBuffer) { return new Uint8Array(arrayBuffer); });\n};\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction defaultUserAgent(packageName, packageVersion) {\n    var originUserAgent = typeof navigator !== \"undefined\" && typeof navigator.userAgent === \"string\"\n        ? navigator.userAgent\n        : \"\";\n    return \"aws-sdk-js-v3-\" + packageName + \"/\" + packageVersion + \" \" + originUserAgent;\n}\nexports.defaultUserAgent = defaultUserAgent;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQSxTQUFnQixnQkFBZ0IsQ0FDOUIsV0FBbUIsRUFDbkIsY0FBc0I7SUFFdEIsSUFBSSxlQUFlLEdBQ2pCLE9BQU8sU0FBUyxLQUFLLFdBQVcsSUFBSSxPQUFPLFNBQVMsQ0FBQyxTQUFTLEtBQUssUUFBUTtRQUN6RSxDQUFDLENBQUMsU0FBUyxDQUFDLFNBQVM7UUFDckIsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNULE9BQU8sbUJBQWlCLFdBQVcsU0FBSSxjQUFjLFNBQUksZUFBaUIsQ0FBQztBQUM3RSxDQUFDO0FBVEQsNENBU0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFVzZXJBZ2VudChcbiAgcGFja2FnZU5hbWU6IHN0cmluZyxcbiAgcGFja2FnZVZlcnNpb246IHN0cmluZ1xuKTogc3RyaW5nIHtcbiAgbGV0IG9yaWdpblVzZXJBZ2VudCA9XG4gICAgdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgbmF2aWdhdG9yLnVzZXJBZ2VudCA9PT0gXCJzdHJpbmdcIlxuICAgICAgPyBuYXZpZ2F0b3IudXNlckFnZW50XG4gICAgICA6IFwiXCI7XG4gIHJldHVybiBgYXdzLXNkay1qcy12My0ke3BhY2thZ2VOYW1lfS8ke3BhY2thZ2VWZXJzaW9ufSAke29yaWdpblVzZXJBZ2VudH1gO1xufVxuIl19","module.exports = require('./lib/Observable.js').Observable;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","module.exports = require(\"./zen-observable.js\").Observable;\n","'use strict'; (function(fn, name) { if (typeof exports !== \"undefined\") { fn(exports, module); } else if (typeof self !== \"undefined\") { var e = name === \"*\" ? self : (name ? self[name] = {} : {}); fn(e, { exports: e }); } })(function(exports, module) { // === Symbol Support ===\n\nfunction hasSymbol(name) {\n  return typeof Symbol === \"function\" && Boolean(Symbol[name]);\n}\n\nfunction getSymbol(name) {\n  return hasSymbol(name) ? Symbol[name] : \"@@\" + name;\n}\n\n// Ponyfill Symbol.observable for interoperability with other libraries\nif (typeof Symbol === \"function\" && !Symbol.observable) {\n  Symbol.observable = Symbol(\"observable\");\n}\n\n// === Abstract Operations ===\n\nfunction hostReportError(e) {\n  setTimeout(function() { throw e });\n}\n\nfunction getMethod(obj, key) {\n  var value = obj[key];\n\n  if (value == null)\n    return undefined;\n\n  if (typeof value !== \"function\")\n    throw new TypeError(value + \" is not a function\");\n\n  return value;\n}\n\nfunction getSpecies(obj) {\n  var ctor = obj.constructor;\n  if (ctor !== undefined) {\n    ctor = ctor[getSymbol(\"species\")];\n    if (ctor === null) {\n      ctor = undefined;\n    }\n  }\n  return ctor !== undefined ? ctor : Observable;\n}\n\nfunction addMethods(target, methods) {\n  Object.keys(methods).forEach(function(k) {\n    var desc = Object.getOwnPropertyDescriptor(methods, k);\n    desc.enumerable = false;\n    Object.defineProperty(target, k, desc);\n  });\n}\n\nfunction cleanupSubscription(subscription) {\n  // Assert:  observer._observer is undefined\n\n  var cleanup = subscription._cleanup;\n\n  if (!cleanup)\n    return;\n\n  // Drop the reference to the cleanup function so that we won't call it\n  // more than once\n  subscription._cleanup = undefined;\n\n  // Call the cleanup function\n  try { cleanup() }\n  catch (e) { hostReportError(e) }\n}\n\nfunction subscriptionClosed(subscription) {\n  return subscription._observer === undefined;\n}\n\nfunction closeSubscription(subscription) {\n  if (subscriptionClosed(subscription))\n    return;\n\n  subscription._observer = undefined;\n  cleanupSubscription(subscription);\n}\n\nfunction cleanupFromSubscription(subscription) {\n  return function() { subscription.unsubscribe() };\n}\n\nfunction Subscription(observer, subscriber) {\n  // Assert: subscriber is callable\n\n  // The observer must be an object\n  if (Object(observer) !== observer)\n    throw new TypeError(\"Observer must be an object\");\n\n  this._cleanup = undefined;\n  this._observer = observer;\n\n  try {\n    var start$0 = getMethod(observer, \"start\");\n    if (start$0) start$0.call(observer, this);\n  } catch (e) {\n    hostReportError(e);\n  }\n\n  if (subscriptionClosed(this))\n    return;\n\n  observer = new SubscriptionObserver(this);\n\n  try {\n    // Call the subscriber function\n    var cleanup$0 = subscriber.call(undefined, observer);\n\n    // The return value must be undefined, null, a subscription object, or a function\n    if (cleanup$0 != null) {\n      if (typeof cleanup$0.unsubscribe === \"function\")\n        cleanup$0 = cleanupFromSubscription(cleanup$0);\n      else if (typeof cleanup$0 !== \"function\")\n        throw new TypeError(cleanup$0 + \" is not a function\");\n\n      this._cleanup = cleanup$0;\n    }\n  } catch (e) {\n    // If an error occurs during startup, then attempt to send the error\n    // to the observer\n    observer.error(e);\n    return;\n  }\n\n  // If the stream is already finished, then perform cleanup\n  if (subscriptionClosed(this))\n    cleanupSubscription(this);\n}\n\naddMethods(Subscription.prototype = {}, {\n  get closed() { return subscriptionClosed(this) },\n  unsubscribe: function() { closeSubscription(this) },\n});\n\nfunction SubscriptionObserver(subscription) {\n  this._subscription = subscription;\n}\n\naddMethods(SubscriptionObserver.prototype = {}, {\n\n  get closed() { return subscriptionClosed(this._subscription) },\n\n  next: function(value) {\n    var subscription = this._subscription;\n\n    // If the stream is closed, then return undefined\n    if (subscriptionClosed(subscription))\n      return;\n\n    var observer = subscription._observer;\n\n    try {\n      // If the observer has a \"next\" method, send the next value\n      var m$0 = getMethod(observer, \"next\");\n      if (m$0) m$0.call(observer, value);\n    } catch (e) {\n      hostReportError(e);\n    }\n  },\n\n  error: function(value) {\n    var subscription = this._subscription;\n\n    // If the stream is closed, throw the error to the caller\n    if (subscriptionClosed(subscription)) {\n      hostReportError(value);\n      return;\n    }\n\n    var observer = subscription._observer;\n    subscription._observer = undefined;\n\n    try {\n      var m$1 = getMethod(observer, \"error\");\n      if (m$1) m$1.call(observer, value);\n      else throw value;\n    } catch (e) {\n      hostReportError(e);\n    }\n\n    cleanupSubscription(subscription);\n  },\n\n  complete: function() {\n    var subscription = this._subscription;\n\n    if (subscriptionClosed(subscription))\n      return;\n\n    var observer = subscription._observer;\n    subscription._observer = undefined;\n\n    try {\n      var m$2 = getMethod(observer, \"complete\");\n      if (m$2) m$2.call(observer);\n    } catch (e) {\n      hostReportError(e);\n    }\n\n    cleanupSubscription(subscription);\n  },\n\n});\n\nfunction Observable(subscriber) {\n  // Constructor cannot be called as a function\n  if (!(this instanceof Observable))\n    throw new TypeError(\"Observable cannot be called as a function\");\n\n  // The stream subscriber must be a function\n  if (typeof subscriber !== \"function\")\n    throw new TypeError(\"Observable initializer must be a function\");\n\n  this._subscriber = subscriber;\n}\n\naddMethods(Observable.prototype, {\n\n  subscribe: function(observer) { for (var args = [], __$0 = 1; __$0 < arguments.length; ++__$0) args.push(arguments[__$0]); \n    if (typeof observer === 'function') {\n      observer = {\n        next: observer,\n        error: args[0],\n        complete: args[1],\n      };\n    } else if (typeof observer !== 'object' || observer === null) {\n      observer = {};\n    }\n\n    return new Subscription(observer, this._subscriber);\n  },\n\n  forEach: function(fn) { var __this = this; \n    return new Promise(function(resolve, reject) {\n      if (typeof fn !== \"function\")\n        return Promise.reject(new TypeError(fn + \" is not a function\"));\n\n      __this.subscribe({\n        _subscription: null,\n\n        start: function(subscription) {\n          if (Object(subscription) !== subscription)\n            throw new TypeError(subscription + \" is not an object\");\n\n          this._subscription = subscription;\n        },\n\n        next: function(value) {\n          var subscription = this._subscription;\n\n          if (subscription.closed)\n            return;\n\n          try {\n            fn(value);\n          } catch (err) {\n            reject(err);\n            subscription.unsubscribe();\n          }\n        },\n\n        error: reject,\n        complete: resolve,\n      });\n    });\n  },\n\n  map: function(fn) { var __this = this; \n    if (typeof fn !== \"function\")\n      throw new TypeError(fn + \" is not a function\");\n\n    var C = getSpecies(this);\n\n    return new C(function(observer) { return __this.subscribe({\n      next: function(value) {\n        if (observer.closed)\n          return;\n\n        try { value = fn(value) }\n        catch (e) { return observer.error(e) }\n\n        observer.next(value);\n      },\n\n      error: function(e) { observer.error(e) },\n      complete: function() { observer.complete() },\n    }); });\n  },\n\n  filter: function(fn) { var __this = this; \n    if (typeof fn !== \"function\")\n      throw new TypeError(fn + \" is not a function\");\n\n    var C = getSpecies(this);\n\n    return new C(function(observer) { return __this.subscribe({\n      next: function(value) {\n        if (observer.closed)\n          return;\n\n        try { if (!fn(value)) return }\n        catch (e) { return observer.error(e) }\n\n        observer.next(value);\n      },\n\n      error: function(e) { observer.error(e) },\n      complete: function() { observer.complete() },\n    }); });\n  },\n\n  reduce: function(fn) { var __this = this; \n    if (typeof fn !== \"function\")\n      throw new TypeError(fn + \" is not a function\");\n\n    var C = getSpecies(this);\n    var hasSeed = arguments.length > 1;\n    var hasValue = false;\n    var seed = arguments[1];\n    var acc = seed;\n\n    return new C(function(observer) { return __this.subscribe({\n\n      next: function(value) {\n        if (observer.closed)\n          return;\n\n        var first = !hasValue;\n        hasValue = true;\n\n        if (!first || hasSeed) {\n          try { acc = fn(acc, value) }\n          catch (e) { return observer.error(e) }\n        } else {\n          acc = value;\n        }\n      },\n\n      error: function(e) { observer.error(e) },\n\n      complete: function() {\n        if (!hasValue && !hasSeed) {\n          return observer.error(new TypeError(\"Cannot reduce an empty sequence\"));\n        }\n\n        observer.next(acc);\n        observer.complete();\n      },\n\n    }); });\n  },\n\n});\n\nObject.defineProperty(Observable.prototype, getSymbol(\"observable\"), {\n  value: function() { return this },\n  writable: true,\n  configurable: true,\n});\n\naddMethods(Observable, {\n\n  from: function(x) {\n    var C = typeof this === \"function\" ? this : Observable;\n\n    if (x == null)\n      throw new TypeError(x + \" is not an object\");\n\n    var method = getMethod(x, getSymbol(\"observable\"));\n\n    if (method) {\n      var observable$0 = method.call(x);\n\n      if (Object(observable$0) !== observable$0)\n        throw new TypeError(observable$0 + \" is not an object\");\n\n      if (observable$0.constructor === C)\n        return observable$0;\n\n      return new C(function(observer) { return observable$0.subscribe(observer); });\n    }\n\n    if (hasSymbol(\"iterator\") && (method = getMethod(x, getSymbol(\"iterator\")))) {\n      return new C(function(observer) {\n        for (var __$0 = (method.call(x))[Symbol.iterator](), __$1; __$1 = __$0.next(), !__$1.done;) { var item$0 = __$1.value; \n          observer.next(item$0);\n          if (observer.closed)\n            return;\n        }\n\n        observer.complete();\n      });\n    }\n\n    if (Array.isArray(x)) {\n      return new C(function(observer) {\n        for (var i$0 = 0; i$0 < x.length; ++i$0) {\n          observer.next(x[i$0]);\n          if (observer.closed)\n            return;\n        }\n\n        observer.complete();\n      });\n    }\n\n    throw new TypeError(x + \" is not observable\");\n  },\n\n  of: function() { for (var items = [], __$0 = 0; __$0 < arguments.length; ++__$0) items.push(arguments[__$0]); \n    var C = typeof this === \"function\" ? this : Observable;\n\n    return new C(function(observer) {\n      for (var i$1 = 0; i$1 < items.length; ++i$1) {\n        observer.next(items[i$1]);\n        if (observer.closed)\n          return;\n      }\n\n      observer.complete();\n    });\n  },\n\n});\n\nObject.defineProperty(Observable, getSymbol(\"species\"), {\n  get: function() { return this },\n  configurable: true,\n});\n\nObject.defineProperty(Observable, \"extensions\", {\n  value: {\n    observableSymbol: getSymbol(\"observable\"),\n    setHostReportError: function(fn) { hostReportError = fn },\n  },\n});\n\nexports.Observable = Observable;\n\n\n}, \"*\");","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nfunction normalizeEndpoint(endpoint, urlParser) {\n    if (typeof endpoint === \"string\") {\n        var promisified_1 = Promise.resolve(urlParser(endpoint));\n        return function () { return promisified_1; };\n    }\n    else if (typeof endpoint === \"object\") {\n        var promisified_2 = Promise.resolve(endpoint);\n        return function () { return promisified_2; };\n    }\n    return endpoint;\n}\nexports.normalizeEndpoint = normalizeEndpoint;\nfunction resolveEndpointsConfig(input) {\n    var _this = this;\n    var tls = input.tls === undefined ? true : input.tls;\n    var endpoint = input.endpoint\n        ? normalizeEndpoint(input.endpoint, input.urlParser)\n        : function () {\n            return input.region().then(function (region) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n                var hostname, endpoint;\n                return tslib_1.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, input.regionInfoProvider(region)];\n                        case 1:\n                            hostname = ((_a.sent()) || {}).hostname;\n                            if (!hostname) {\n                                throw new Error(\"Cannot resolve hostname from client config\");\n                            }\n                            endpoint = input.urlParser((tls ? \"https:\" : \"http:\") + \"//\" + hostname);\n                            return [2 /*return*/, endpoint];\n                    }\n                });\n            }); });\n        };\n    return tslib_1.__assign(tslib_1.__assign({}, input), { endpoint: endpoint,\n        tls: tls });\n}\nexports.resolveEndpointsConfig = resolveEndpointsConfig;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW5kcG9pbnRzQ29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL0VuZHBvaW50c0NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFRQSxTQUFnQixpQkFBaUIsQ0FDL0IsUUFBaUQsRUFDakQsU0FBcUI7SUFFckIsSUFBSSxPQUFPLFFBQVEsS0FBSyxRQUFRLEVBQUU7UUFDaEMsSUFBTSxhQUFXLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUMxRCxPQUFPLGNBQU0sT0FBQSxhQUFXLEVBQVgsQ0FBVyxDQUFDO0tBQzFCO1NBQU0sSUFBSSxPQUFPLFFBQVEsS0FBSyxRQUFRLEVBQUU7UUFDdkMsSUFBTSxhQUFXLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM5QyxPQUFPLGNBQU0sT0FBQSxhQUFXLEVBQVgsQ0FBVyxDQUFDO0tBQzFCO0lBQ0QsT0FBTyxRQUFTLENBQUM7QUFDbkIsQ0FBQztBQVpELDhDQVlDO0FBc0JELFNBQWdCLHNCQUFzQixDQUNwQyxLQUFvRDtJQUR0RCxpQkF3QkM7SUFyQkMsSUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDLEdBQUcsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztJQUN2RCxJQUFNLFFBQVEsR0FBdUIsS0FBSyxDQUFDLFFBQVE7UUFDakQsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQztRQUNwRCxDQUFDLENBQUM7WUFDRSxPQUFBLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBTSxNQUFNOzs7O2dDQUUzQixxQkFBTSxLQUFLLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLEVBQUE7OzRCQURuQyxRQUFRLEdBQUcsQ0FDZixDQUFDLFNBQXNDLENBQUMsSUFBSyxFQUFpQixDQUMvRCxDQUFDLFFBQVE7NEJBQ1YsSUFBSSxDQUFDLFFBQVEsRUFBRTtnQ0FDYixNQUFNLElBQUksS0FBSyxDQUFDLDRDQUE0QyxDQUFDLENBQUM7NkJBQy9EOzRCQUNLLFFBQVEsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUM5QixDQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxPQUFPLFdBQUssUUFBVSxDQUMzQyxDQUFDOzRCQUNGLHNCQUFPLFFBQVEsRUFBQzs7O2lCQUNqQixDQUFDO1FBWEYsQ0FXRSxDQUFDO0lBQ1QsNkNBQ0ssS0FBSyxLQUNSLFFBQVEsVUFBQTtRQUNSLEdBQUcsS0FBQSxJQUNIO0FBQ0osQ0FBQztBQXhCRCx3REF3QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBQcm92aWRlcixcbiAgVXJsUGFyc2VyLFxuICBFbmRwb2ludCxcbiAgUmVnaW9uSW5mb1Byb3ZpZGVyLFxuICBSZWdpb25JbmZvXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplRW5kcG9pbnQoXG4gIGVuZHBvaW50Pzogc3RyaW5nIHwgRW5kcG9pbnQgfCBQcm92aWRlcjxFbmRwb2ludD4sXG4gIHVybFBhcnNlcj86IFVybFBhcnNlclxuKTogUHJvdmlkZXI8RW5kcG9pbnQ+IHtcbiAgaWYgKHR5cGVvZiBlbmRwb2ludCA9PT0gXCJzdHJpbmdcIikge1xuICAgIGNvbnN0IHByb21pc2lmaWVkID0gUHJvbWlzZS5yZXNvbHZlKHVybFBhcnNlciEoZW5kcG9pbnQpKTtcbiAgICByZXR1cm4gKCkgPT4gcHJvbWlzaWZpZWQ7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVuZHBvaW50ID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3QgcHJvbWlzaWZpZWQgPSBQcm9taXNlLnJlc29sdmUoZW5kcG9pbnQpO1xuICAgIHJldHVybiAoKSA9PiBwcm9taXNpZmllZDtcbiAgfVxuICByZXR1cm4gZW5kcG9pbnQhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVuZHBvaW50c0lucHV0Q29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBmdWxseSBxdWFsaWZpZWQgZW5kcG9pbnQgb2YgdGhlIHdlYnNlcnZpY2UuIFRoaXMgaXMgb25seSByZXF1aXJlZCB3aGVuIHVzaW5nIGEgY3VzdG9tIGVuZHBvaW50IChmb3IgZXhhbXBsZSwgd2hlbiB1c2luZyBhIGxvY2FsIHZlcnNpb24gb2YgUzMpLlxuICAgKi9cbiAgZW5kcG9pbnQ/OiBzdHJpbmcgfCBFbmRwb2ludCB8IFByb3ZpZGVyPEVuZHBvaW50PjtcblxuICAvKipcbiAgICogV2hldGhlciBUTFMgaXMgZW5hYmxlZCBmb3IgcmVxdWVzdHMuXG4gICAqL1xuICB0bHM/OiBib29sZWFuO1xufVxuaW50ZXJmYWNlIFByZXZpb3VzbHlSZXNvbHZlZCB7XG4gIHJlZ2lvbkluZm9Qcm92aWRlcjogUmVnaW9uSW5mb1Byb3ZpZGVyO1xuICB1cmxQYXJzZXI6IFVybFBhcnNlcjtcbiAgcmVnaW9uOiBQcm92aWRlcjxzdHJpbmc+O1xufVxuZXhwb3J0IGludGVyZmFjZSBFbmRwb2ludHNSZXNvbHZlZENvbmZpZ1xuICBleHRlbmRzIFJlcXVpcmVkPEVuZHBvaW50c0lucHV0Q29uZmlnPiB7XG4gIGVuZHBvaW50OiBQcm92aWRlcjxFbmRwb2ludD47XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUVuZHBvaW50c0NvbmZpZzxUPihcbiAgaW5wdXQ6IFQgJiBFbmRwb2ludHNJbnB1dENvbmZpZyAmIFByZXZpb3VzbHlSZXNvbHZlZFxuKTogVCAmIEVuZHBvaW50c1Jlc29sdmVkQ29uZmlnIHtcbiAgY29uc3QgdGxzID0gaW5wdXQudGxzID09PSB1bmRlZmluZWQgPyB0cnVlIDogaW5wdXQudGxzO1xuICBjb25zdCBlbmRwb2ludDogUHJvdmlkZXI8RW5kcG9pbnQ+ID0gaW5wdXQuZW5kcG9pbnRcbiAgICA/IG5vcm1hbGl6ZUVuZHBvaW50KGlucHV0LmVuZHBvaW50LCBpbnB1dC51cmxQYXJzZXIpXG4gICAgOiAoKSA9PlxuICAgICAgICBpbnB1dC5yZWdpb24oKS50aGVuKGFzeW5jIHJlZ2lvbiA9PiB7XG4gICAgICAgICAgY29uc3QgaG9zdG5hbWUgPSAoXG4gICAgICAgICAgICAoYXdhaXQgaW5wdXQucmVnaW9uSW5mb1Byb3ZpZGVyKHJlZ2lvbikpIHx8ICh7fSBhcyBSZWdpb25JbmZvKVxuICAgICAgICAgICkuaG9zdG5hbWU7XG4gICAgICAgICAgaWYgKCFob3N0bmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc29sdmUgaG9zdG5hbWUgZnJvbSBjbGllbnQgY29uZmlnXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGlucHV0LnVybFBhcnNlcihcbiAgICAgICAgICAgIGAke3RscyA/IFwiaHR0cHM6XCIgOiBcImh0dHA6XCJ9Ly8ke2hvc3RuYW1lfWBcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBlbmRwb2ludDtcbiAgICAgICAgfSk7XG4gIHJldHVybiB7XG4gICAgLi4uaW5wdXQsXG4gICAgZW5kcG9pbnQsXG4gICAgdGxzXG4gIH07XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nfunction resolveRegionConfig(input) {\n    var region = input.region || input.regionDefaultProvider(input);\n    return tslib_1.__assign(tslib_1.__assign({}, input), { region: normalizeRegion(region) });\n}\nexports.resolveRegionConfig = resolveRegionConfig;\nfunction normalizeRegion(region) {\n    if (typeof region === \"string\") {\n        var promisified_1 = Promise.resolve(region);\n        return function () { return promisified_1; };\n    }\n    return region;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVnaW9uQ29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL1JlZ2lvbkNvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFjQSxTQUFnQixtQkFBbUIsQ0FDakMsS0FBaUQ7SUFFakQsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMscUJBQXFCLENBQUMsS0FBWSxDQUFDLENBQUM7SUFDdkUsNkNBQ0ssS0FBSyxLQUNSLE1BQU0sRUFBRSxlQUFlLENBQUMsTUFBTSxDQUFDLElBQy9CO0FBQ0osQ0FBQztBQVJELGtEQVFDO0FBRUQsU0FBUyxlQUFlLENBQUMsTUFBaUM7SUFDeEQsSUFBSSxPQUFPLE1BQU0sS0FBSyxRQUFRLEVBQUU7UUFDOUIsSUFBTSxhQUFXLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM1QyxPQUFPLGNBQU0sT0FBQSxhQUFXLEVBQVgsQ0FBVyxDQUFDO0tBQzFCO0lBQ0QsT0FBTyxNQUEwQixDQUFDO0FBQ3BDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlZ2lvbklucHV0Q29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBBV1MgcmVnaW9uIHRvIHdoaWNoIHRoaXMgY2xpZW50IHdpbGwgc2VuZCByZXF1ZXN0c1xuICAgKi9cbiAgcmVnaW9uPzogc3RyaW5nIHwgUHJvdmlkZXI8c3RyaW5nPjtcbn1cbmludGVyZmFjZSBQcmV2aW91c2x5UmVzb2x2ZWQge1xuICByZWdpb25EZWZhdWx0UHJvdmlkZXI6IChpbnB1dDogYW55KSA9PiBQcm92aWRlcjxzdHJpbmc+O1xufVxuZXhwb3J0IGludGVyZmFjZSBSZWdpb25SZXNvbHZlZENvbmZpZyB7XG4gIHJlZ2lvbjogUHJvdmlkZXI8c3RyaW5nPjtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlUmVnaW9uQ29uZmlnPFQ+KFxuICBpbnB1dDogVCAmIFJlZ2lvbklucHV0Q29uZmlnICYgUHJldmlvdXNseVJlc29sdmVkXG4pOiBUICYgUmVnaW9uUmVzb2x2ZWRDb25maWcge1xuICBsZXQgcmVnaW9uID0gaW5wdXQucmVnaW9uIHx8IGlucHV0LnJlZ2lvbkRlZmF1bHRQcm92aWRlcihpbnB1dCBhcyBhbnkpO1xuICByZXR1cm4ge1xuICAgIC4uLmlucHV0LFxuICAgIHJlZ2lvbjogbm9ybWFsaXplUmVnaW9uKHJlZ2lvbilcbiAgfTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplUmVnaW9uKHJlZ2lvbjogc3RyaW5nIHwgUHJvdmlkZXI8c3RyaW5nPik6IFByb3ZpZGVyPHN0cmluZz4ge1xuICBpZiAodHlwZW9mIHJlZ2lvbiA9PT0gXCJzdHJpbmdcIikge1xuICAgIGNvbnN0IHByb21pc2lmaWVkID0gUHJvbWlzZS5yZXNvbHZlKHJlZ2lvbik7XG4gICAgcmV0dXJuICgpID0+IHByb21pc2lmaWVkO1xuICB9XG4gIHJldHVybiByZWdpb24gYXMgUHJvdmlkZXI8c3RyaW5nPjtcbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction destroyRequestHandlerConfig(config) {\n    if (config.requestHandler.destroy)\n        config.requestHandler.destroy();\n}\nexports.destroyRequestHandlerConfig = destroyRequestHandlerConfig;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSGFuZGxlckNvbmZpZy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9IYW5kbGVyQ29uZmlnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEsU0FBZ0IsMkJBQTJCLENBQUMsTUFFM0M7SUFDQyxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTztRQUFFLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDckUsQ0FBQztBQUpELGtFQUlDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVxdWVzdEhhbmRsZXIgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lSZXF1ZXN0SGFuZGxlckNvbmZpZyhjb25maWc6IHtcbiAgcmVxdWVzdEhhbmRsZXI6IFJlcXVlc3RIYW5kbGVyPGFueSwgYW55LCBhbnk+O1xufSk6IHZvaWQge1xuICBpZiAoY29uZmlnLnJlcXVlc3RIYW5kbGVyLmRlc3Ryb3kpIGNvbmZpZy5yZXF1ZXN0SGFuZGxlci5kZXN0cm95KCk7XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar HttpResponse = /** @class */ (function () {\n    function HttpResponse(options) {\n        this.statusCode = options.statusCode;\n        this.headers = options.headers || {};\n        this.body = options.body;\n    }\n    HttpResponse.isInstance = function (response) {\n        //determine if response is a valid HttpResponse\n        if (!response)\n            return false;\n        var resp = response;\n        return (typeof resp.statusCode === \"number\" && typeof resp.headers === \"object\");\n    };\n    return HttpResponse;\n}());\nexports.HttpResponse = HttpResponse;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHR0cFJlc3BvbnNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2h0dHBSZXNwb25zZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQVlBO0lBS0Usc0JBQVksT0FBNEI7UUFDdEMsSUFBSSxDQUFDLFVBQVUsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUM7UUFDckMsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO0lBQzNCLENBQUM7SUFFTSx1QkFBVSxHQUFqQixVQUFrQixRQUFpQjtRQUNqQywrQ0FBK0M7UUFDL0MsSUFBSSxDQUFDLFFBQVE7WUFBRSxPQUFPLEtBQUssQ0FBQztRQUM1QixJQUFNLElBQUksR0FBRyxRQUFlLENBQUM7UUFDN0IsT0FBTyxDQUNMLE9BQU8sSUFBSSxDQUFDLFVBQVUsS0FBSyxRQUFRLElBQUksT0FBTyxJQUFJLENBQUMsT0FBTyxLQUFLLFFBQVEsQ0FDeEUsQ0FBQztJQUNKLENBQUM7SUFDSCxtQkFBQztBQUFELENBQUMsQUFuQkQsSUFtQkM7QUFuQlksb0NBQVkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBIdHRwTWVzc2FnZSxcbiAgSGVhZGVyQmFnLFxuICBIdHRwUmVzcG9uc2UgYXMgSUh0dHBSZXNwb25zZVxufSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxudHlwZSBIdHRwUmVzcG9uc2VPcHRpb25zID0gUGFydGlhbDxIdHRwTWVzc2FnZT4gJiB7XG4gIHN0YXR1c0NvZGU6IG51bWJlcjtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSHR0cFJlc3BvbnNlIGV4dGVuZHMgSUh0dHBSZXNwb25zZSB7fVxuXG5leHBvcnQgY2xhc3MgSHR0cFJlc3BvbnNlIHtcbiAgcHVibGljIHN0YXR1c0NvZGU6IG51bWJlcjtcbiAgcHVibGljIGhlYWRlcnM6IEhlYWRlckJhZztcbiAgcHVibGljIGJvZHk/OiBhbnk7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogSHR0cFJlc3BvbnNlT3B0aW9ucykge1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IG9wdGlvbnMuc3RhdHVzQ29kZTtcbiAgICB0aGlzLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwge307XG4gICAgdGhpcy5ib2R5ID0gb3B0aW9ucy5ib2R5O1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UocmVzcG9uc2U6IHVua25vd24pOiByZXNwb25zZSBpcyBIdHRwUmVzcG9uc2Uge1xuICAgIC8vZGV0ZXJtaW5lIGlmIHJlc3BvbnNlIGlzIGEgdmFsaWQgSHR0cFJlc3BvbnNlXG4gICAgaWYgKCFyZXNwb25zZSkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IHJlc3AgPSByZXNwb25zZSBhcyBhbnk7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGVvZiByZXNwLnN0YXR1c0NvZGUgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIHJlc3AuaGVhZGVycyA9PT0gXCJvYmplY3RcIlxuICAgICk7XG4gIH1cbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar HttpRequest = /** @class */ (function () {\n    function HttpRequest(options) {\n        this.method = options.method || \"GET\";\n        this.hostname = options.hostname || \"localhost\";\n        this.port = options.port;\n        this.query = options.query || {};\n        this.headers = options.headers || {};\n        this.body = options.body;\n        this.protocol = options.protocol\n            ? options.protocol.substr(-1) !== \":\"\n                ? options.protocol + \":\"\n                : options.protocol\n            : \"https:\";\n        this.path = options.path\n            ? options.path.charAt(0) !== \"/\"\n                ? \"/\" + options.path\n                : options.path\n            : \"/\";\n    }\n    HttpRequest.isInstance = function (request) {\n        //determine if request is a valid httpRequest\n        if (!request)\n            return false;\n        var req = request;\n        return (\"method\" in req &&\n            \"protocol\" in req &&\n            \"hostname\" in req &&\n            \"path\" in req &&\n            typeof req[\"query\"] === \"object\" &&\n            typeof req[\"headers\"] === \"object\");\n    };\n    HttpRequest.prototype.clone = function () {\n        var cloned = new HttpRequest(tslib_1.__assign(tslib_1.__assign({}, this), { headers: tslib_1.__assign({}, this.headers) }));\n        if (cloned.query)\n            cloned.query = cloneQuery(cloned.query);\n        return cloned;\n    };\n    return HttpRequest;\n}());\nexports.HttpRequest = HttpRequest;\nfunction cloneQuery(query) {\n    return Object.keys(query).reduce(function (carry, paramName) {\n        var _a;\n        var param = query[paramName];\n        return tslib_1.__assign(tslib_1.__assign({}, carry), (_a = {}, _a[paramName] = Array.isArray(param) ? tslib_1.__spread(param) : param, _a));\n    }, {});\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHR0cFJlcXVlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaHR0cFJlcXVlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBYUE7SUFVRSxxQkFBWSxPQUEyQjtRQUNyQyxJQUFJLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLElBQUksS0FBSyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDLFFBQVEsSUFBSSxXQUFXLENBQUM7UUFDaEQsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUM7UUFDakMsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQztRQUNyQyxJQUFJLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFDekIsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUMsUUFBUTtZQUM5QixDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHO2dCQUNuQyxDQUFDLENBQUksT0FBTyxDQUFDLFFBQVEsTUFBRztnQkFDeEIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRO1lBQ3BCLENBQUMsQ0FBQyxRQUFRLENBQUM7UUFDYixJQUFJLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJO1lBQ3RCLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHO2dCQUM5QixDQUFDLENBQUMsTUFBSSxPQUFPLENBQUMsSUFBTTtnQkFDcEIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJO1lBQ2hCLENBQUMsQ0FBQyxHQUFHLENBQUM7SUFDVixDQUFDO0lBRU0sc0JBQVUsR0FBakIsVUFBa0IsT0FBZ0I7UUFDaEMsNkNBQTZDO1FBQzdDLElBQUksQ0FBQyxPQUFPO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFDM0IsSUFBTSxHQUFHLEdBQVEsT0FBTyxDQUFDO1FBQ3pCLE9BQU8sQ0FDTCxRQUFRLElBQUksR0FBRztZQUNmLFVBQVUsSUFBSSxHQUFHO1lBQ2pCLFVBQVUsSUFBSSxHQUFHO1lBQ2pCLE1BQU0sSUFBSSxHQUFHO1lBQ2IsT0FBTyxHQUFHLENBQUMsT0FBTyxDQUFDLEtBQUssUUFBUTtZQUNoQyxPQUFPLEdBQUcsQ0FBQyxTQUFTLENBQUMsS0FBSyxRQUFRLENBQ25DLENBQUM7SUFDSixDQUFDO0lBRUQsMkJBQUssR0FBTDtRQUNFLElBQU0sTUFBTSxHQUFHLElBQUksV0FBVyx1Q0FDekIsSUFBSSxLQUNQLE9BQU8sdUJBQU8sSUFBSSxDQUFDLE9BQU8sS0FDMUIsQ0FBQztRQUNILElBQUksTUFBTSxDQUFDLEtBQUs7WUFBRSxNQUFNLENBQUMsS0FBSyxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUQsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQUNILGtCQUFDO0FBQUQsQ0FBQyxBQW5ERCxJQW1EQztBQW5EWSxrQ0FBVztBQXFEeEIsU0FBUyxVQUFVLENBQUMsS0FBd0I7SUFDMUMsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FDOUIsVUFBQyxLQUF3QixFQUFFLFNBQWlCOztRQUMxQyxJQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDL0IsNkNBQ0ssS0FBSyxnQkFDUCxTQUFTLElBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGtCQUFLLEtBQUssRUFBRSxDQUFDLENBQUMsS0FBSyxPQUN0RDtJQUNKLENBQUMsRUFDRCxFQUFFLENBQ0gsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBIdHRwTWVzc2FnZSxcbiAgRW5kcG9pbnQsXG4gIFF1ZXJ5UGFyYW1ldGVyQmFnLFxuICBIZWFkZXJCYWcsXG4gIEh0dHBSZXF1ZXN0IGFzIElIdHRwUmVxdWVzdFxufSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxudHlwZSBIdHRwUmVxdWVzdE9wdGlvbnMgPSBQYXJ0aWFsPEh0dHBNZXNzYWdlPiAmXG4gIFBhcnRpYWw8RW5kcG9pbnQ+ICYgeyBtZXRob2Q/OiBzdHJpbmcgfTtcblxuZXhwb3J0IGludGVyZmFjZSBIdHRwUmVxdWVzdCBleHRlbmRzIElIdHRwUmVxdWVzdCB7fVxuXG5leHBvcnQgY2xhc3MgSHR0cFJlcXVlc3QgaW1wbGVtZW50cyBIdHRwTWVzc2FnZSwgRW5kcG9pbnQge1xuICBwdWJsaWMgbWV0aG9kOiBzdHJpbmc7XG4gIHB1YmxpYyBwcm90b2NvbDogc3RyaW5nO1xuICBwdWJsaWMgaG9zdG5hbWU6IHN0cmluZztcbiAgcHVibGljIHBvcnQ/OiBudW1iZXI7XG4gIHB1YmxpYyBwYXRoOiBzdHJpbmc7XG4gIHB1YmxpYyBxdWVyeTogUXVlcnlQYXJhbWV0ZXJCYWc7XG4gIHB1YmxpYyBoZWFkZXJzOiBIZWFkZXJCYWc7XG4gIHB1YmxpYyBib2R5PzogYW55O1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEh0dHBSZXF1ZXN0T3B0aW9ucykge1xuICAgIHRoaXMubWV0aG9kID0gb3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIjtcbiAgICB0aGlzLmhvc3RuYW1lID0gb3B0aW9ucy5ob3N0bmFtZSB8fCBcImxvY2FsaG9zdFwiO1xuICAgIHRoaXMucG9ydCA9IG9wdGlvbnMucG9ydDtcbiAgICB0aGlzLnF1ZXJ5ID0gb3B0aW9ucy5xdWVyeSB8fCB7fTtcbiAgICB0aGlzLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwge307XG4gICAgdGhpcy5ib2R5ID0gb3B0aW9ucy5ib2R5O1xuICAgIHRoaXMucHJvdG9jb2wgPSBvcHRpb25zLnByb3RvY29sXG4gICAgICA/IG9wdGlvbnMucHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gXCI6XCJcbiAgICAgICAgPyBgJHtvcHRpb25zLnByb3RvY29sfTpgXG4gICAgICAgIDogb3B0aW9ucy5wcm90b2NvbFxuICAgICAgOiBcImh0dHBzOlwiO1xuICAgIHRoaXMucGF0aCA9IG9wdGlvbnMucGF0aFxuICAgICAgPyBvcHRpb25zLnBhdGguY2hhckF0KDApICE9PSBcIi9cIlxuICAgICAgICA/IGAvJHtvcHRpb25zLnBhdGh9YFxuICAgICAgICA6IG9wdGlvbnMucGF0aFxuICAgICAgOiBcIi9cIjtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKHJlcXVlc3Q6IHVua25vd24pOiByZXF1ZXN0IGlzIEh0dHBSZXF1ZXN0IHtcbiAgICAvL2RldGVybWluZSBpZiByZXF1ZXN0IGlzIGEgdmFsaWQgaHR0cFJlcXVlc3RcbiAgICBpZiAoIXJlcXVlc3QpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCByZXE6IGFueSA9IHJlcXVlc3Q7XG4gICAgcmV0dXJuIChcbiAgICAgIFwibWV0aG9kXCIgaW4gcmVxICYmXG4gICAgICBcInByb3RvY29sXCIgaW4gcmVxICYmXG4gICAgICBcImhvc3RuYW1lXCIgaW4gcmVxICYmXG4gICAgICBcInBhdGhcIiBpbiByZXEgJiZcbiAgICAgIHR5cGVvZiByZXFbXCJxdWVyeVwiXSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgdHlwZW9mIHJlcVtcImhlYWRlcnNcIl0gPT09IFwib2JqZWN0XCJcbiAgICApO1xuICB9XG5cbiAgY2xvbmUoKTogSHR0cFJlcXVlc3Qge1xuICAgIGNvbnN0IGNsb25lZCA9IG5ldyBIdHRwUmVxdWVzdCh7XG4gICAgICAuLi50aGlzLFxuICAgICAgaGVhZGVyczogeyAuLi50aGlzLmhlYWRlcnMgfVxuICAgIH0pO1xuICAgIGlmIChjbG9uZWQucXVlcnkpIGNsb25lZC5xdWVyeSA9IGNsb25lUXVlcnkoY2xvbmVkLnF1ZXJ5KTtcbiAgICByZXR1cm4gY2xvbmVkO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNsb25lUXVlcnkocXVlcnk6IFF1ZXJ5UGFyYW1ldGVyQmFnKTogUXVlcnlQYXJhbWV0ZXJCYWcge1xuICByZXR1cm4gT2JqZWN0LmtleXMocXVlcnkpLnJlZHVjZShcbiAgICAoY2Fycnk6IFF1ZXJ5UGFyYW1ldGVyQmFnLCBwYXJhbU5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgcGFyYW0gPSBxdWVyeVtwYXJhbU5hbWVdO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY2FycnksXG4gICAgICAgIFtwYXJhbU5hbWVdOiBBcnJheS5pc0FycmF5KHBhcmFtKSA/IFsuLi5wYXJhbV0gOiBwYXJhbVxuICAgICAgfTtcbiAgICB9LFxuICAgIHt9XG4gICk7XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isValidHostname(hostname) {\n    var hostPattern = /^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9]$/;\n    return hostPattern.test(hostname);\n}\nexports.isValidHostname = isValidHostname;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXNWYWxpZEhvc3RuYW1lLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2lzVmFsaWRIb3N0bmFtZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLFNBQWdCLGVBQWUsQ0FBQyxRQUFnQjtJQUM5QyxJQUFNLFdBQVcsR0FBRyx5REFBeUQsQ0FBQztJQUM5RSxPQUFPLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDcEMsQ0FBQztBQUhELDBDQUdDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRIb3N0bmFtZShob3N0bmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IGhvc3RQYXR0ZXJuID0gL15bYS16QS1aMC05XXsxfSR8XlthLXpBLVowLTldW2EtekEtWjAtOVxcLV0qW2EtekEtWjAtOV0kLztcbiAgcmV0dXJuIGhvc3RQYXR0ZXJuLnRlc3QoaG9zdG5hbWUpO1xufVxuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nfunction retryMiddleware(options) {\n    var _this = this;\n    return function (next) { return function (args) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n        return tslib_1.__generator(this, function (_a) {\n            return [2 /*return*/, options.retryStrategy.retry(next, args)];\n        });\n    }); }; };\n}\nexports.retryMiddleware = retryMiddleware;\nexports.retryMiddlewareOptions = {\n    name: \"retryMiddleware\",\n    tags: [\"RETRY\"],\n    step: \"finalizeRequest\",\n    priority: \"high\"\n};\nexports.getRetryPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        if (options.maxRetries > 0) {\n            clientStack.add(retryMiddleware(options), exports.retryMiddlewareOptions);\n        }\n    }\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmV0cnlNaWRkbGV3YXJlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3JldHJ5TWlkZGxld2FyZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFXQSxTQUFnQixlQUFlLENBQUMsT0FBNEI7SUFBNUQsaUJBUUM7SUFQQyxPQUFPLFVBQ0wsSUFBa0MsSUFDRCxPQUFBLFVBQ2pDLElBQW1DOztZQUVuQyxzQkFBTyxPQUFPLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUM7O1NBQ2hELEVBSmtDLENBSWxDLENBQUM7QUFDSixDQUFDO0FBUkQsMENBUUM7QUFFWSxRQUFBLHNCQUFzQixHQUNkO0lBQ25CLElBQUksRUFBRSxpQkFBaUI7SUFDdkIsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDO0lBQ2YsSUFBSSxFQUFFLGlCQUFpQjtJQUN2QixRQUFRLEVBQUUsTUFBTTtDQUNqQixDQUFDO0FBRVcsUUFBQSxjQUFjLEdBQUcsVUFDNUIsT0FBNEIsSUFDSixPQUFBLENBQUM7SUFDekIsWUFBWSxFQUFFLFVBQUEsV0FBVztRQUN2QixJQUFJLE9BQU8sQ0FBQyxVQUFVLEdBQUcsQ0FBQyxFQUFFO1lBQzFCLFdBQVcsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxFQUFFLDhCQUFzQixDQUFDLENBQUM7U0FDbkU7SUFDSCxDQUFDO0NBQ0YsQ0FBQyxFQU53QixDQU14QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRmluYWxpemVIYW5kbGVyLFxuICBGaW5hbGl6ZUhhbmRsZXJBcmd1bWVudHMsXG4gIE1ldGFkYXRhQmVhcmVyLFxuICBGaW5hbGl6ZUhhbmRsZXJPdXRwdXQsXG4gIFBsdWdnYWJsZSxcbiAgRmluYWxpemVSZXF1ZXN0SGFuZGxlck9wdGlvbnMsXG4gIEFic29sdXRlTG9jYXRpb25cbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBSZXRyeVJlc29sdmVkQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlndXJhdGlvbnNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHJldHJ5TWlkZGxld2FyZShvcHRpb25zOiBSZXRyeVJlc29sdmVkQ29uZmlnKSB7XG4gIHJldHVybiA8T3V0cHV0IGV4dGVuZHMgTWV0YWRhdGFCZWFyZXIgPSBNZXRhZGF0YUJlYXJlcj4oXG4gICAgbmV4dDogRmluYWxpemVIYW5kbGVyPGFueSwgT3V0cHV0PlxuICApOiBGaW5hbGl6ZUhhbmRsZXI8YW55LCBPdXRwdXQ+ID0+IGFzeW5jIChcbiAgICBhcmdzOiBGaW5hbGl6ZUhhbmRsZXJBcmd1bWVudHM8YW55PlxuICApOiBQcm9taXNlPEZpbmFsaXplSGFuZGxlck91dHB1dDxPdXRwdXQ+PiA9PiB7XG4gICAgcmV0dXJuIG9wdGlvbnMucmV0cnlTdHJhdGVneS5yZXRyeShuZXh0LCBhcmdzKTtcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IHJldHJ5TWlkZGxld2FyZU9wdGlvbnM6IEZpbmFsaXplUmVxdWVzdEhhbmRsZXJPcHRpb25zICZcbiAgQWJzb2x1dGVMb2NhdGlvbiA9IHtcbiAgbmFtZTogXCJyZXRyeU1pZGRsZXdhcmVcIixcbiAgdGFnczogW1wiUkVUUllcIl0sXG4gIHN0ZXA6IFwiZmluYWxpemVSZXF1ZXN0XCIsXG4gIHByaW9yaXR5OiBcImhpZ2hcIlxufTtcblxuZXhwb3J0IGNvbnN0IGdldFJldHJ5UGx1Z2luID0gKFxuICBvcHRpb25zOiBSZXRyeVJlc29sdmVkQ29uZmlnXG4pOiBQbHVnZ2FibGU8YW55LCBhbnk+ID0+ICh7XG4gIGFwcGx5VG9TdGFjazogY2xpZW50U3RhY2sgPT4ge1xuICAgIGlmIChvcHRpb25zLm1heFJldHJpZXMgPiAwKSB7XG4gICAgICBjbGllbnRTdGFjay5hZGQocmV0cnlNaWRkbGV3YXJlKG9wdGlvbnMpLCByZXRyeU1pZGRsZXdhcmVPcHRpb25zKTtcbiAgICB9XG4gIH1cbn0pO1xuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Errors encountered when the client clock and server clock cannot agree on the\n * current time.\n *\n * These errors are retryable, assuming the SDK has enabled clock skew\n * correction.\n */\nexports.CLOCK_SKEW_ERROR_CODES = {\n    AuthFailure: true,\n    InvalidSignatureException: true,\n    RequestExpired: true,\n    RequestInTheFuture: true,\n    RequestTimeTooSkewed: true,\n    SignatureDoesNotMatch: true\n};\n/**\n * Errors encountered when the state presumed by an operation is not yet ready.\n */\nexports.STILL_PROCESSING_ERROR_CODES = {\n    PriorRequestNotComplete: true\n};\n/**\n * Errors that indicate the SDK is being throttled.\n *\n * These errors are always retryable.\n */\nexports.THROTTLING_ERROR_CODES = {\n    BandwidthLimitExceeded: true,\n    ProvisionedThroughputExceededException: true,\n    RequestLimitExceeded: true,\n    RequestThrottled: true,\n    RequestThrottledException: true,\n    SlowDown: true,\n    ThrottledException: true,\n    Throttling: true,\n    ThrottlingException: true,\n    TooManyRequestsException: true\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBOzs7Ozs7R0FNRztBQUNVLFFBQUEsc0JBQXNCLEdBQWlCO0lBQ2xELFdBQVcsRUFBRSxJQUFJO0lBQ2pCLHlCQUF5QixFQUFFLElBQUk7SUFDL0IsY0FBYyxFQUFFLElBQUk7SUFDcEIsa0JBQWtCLEVBQUUsSUFBSTtJQUN4QixvQkFBb0IsRUFBRSxJQUFJO0lBQzFCLHFCQUFxQixFQUFFLElBQUk7Q0FDNUIsQ0FBQztBQUVGOztHQUVHO0FBQ1UsUUFBQSw0QkFBNEIsR0FBaUI7SUFDeEQsdUJBQXVCLEVBQUUsSUFBSTtDQUM5QixDQUFDO0FBRUY7Ozs7R0FJRztBQUNVLFFBQUEsc0JBQXNCLEdBQWlCO0lBQ2xELHNCQUFzQixFQUFFLElBQUk7SUFDNUIsc0NBQXNDLEVBQUUsSUFBSTtJQUM1QyxvQkFBb0IsRUFBRSxJQUFJO0lBQzFCLGdCQUFnQixFQUFFLElBQUk7SUFDdEIseUJBQXlCLEVBQUUsSUFBSTtJQUMvQixRQUFRLEVBQUUsSUFBSTtJQUNkLGtCQUFrQixFQUFFLElBQUk7SUFDeEIsVUFBVSxFQUFFLElBQUk7SUFDaEIsbUJBQW1CLEVBQUUsSUFBSTtJQUN6Qix3QkFBd0IsRUFBRSxJQUFJO0NBQy9CLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBFcnJvckNvZGVTZXQgPSB7IFtlcnJvckNvZGU6IHN0cmluZ106IHRydWUgfTtcblxuLyoqXG4gKiBFcnJvcnMgZW5jb3VudGVyZWQgd2hlbiB0aGUgY2xpZW50IGNsb2NrIGFuZCBzZXJ2ZXIgY2xvY2sgY2Fubm90IGFncmVlIG9uIHRoZVxuICogY3VycmVudCB0aW1lLlxuICpcbiAqIFRoZXNlIGVycm9ycyBhcmUgcmV0cnlhYmxlLCBhc3N1bWluZyB0aGUgU0RLIGhhcyBlbmFibGVkIGNsb2NrIHNrZXdcbiAqIGNvcnJlY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBDTE9DS19TS0VXX0VSUk9SX0NPREVTOiBFcnJvckNvZGVTZXQgPSB7XG4gIEF1dGhGYWlsdXJlOiB0cnVlLFxuICBJbnZhbGlkU2lnbmF0dXJlRXhjZXB0aW9uOiB0cnVlLFxuICBSZXF1ZXN0RXhwaXJlZDogdHJ1ZSxcbiAgUmVxdWVzdEluVGhlRnV0dXJlOiB0cnVlLFxuICBSZXF1ZXN0VGltZVRvb1NrZXdlZDogdHJ1ZSxcbiAgU2lnbmF0dXJlRG9lc05vdE1hdGNoOiB0cnVlXG59O1xuXG4vKipcbiAqIEVycm9ycyBlbmNvdW50ZXJlZCB3aGVuIHRoZSBzdGF0ZSBwcmVzdW1lZCBieSBhbiBvcGVyYXRpb24gaXMgbm90IHlldCByZWFkeS5cbiAqL1xuZXhwb3J0IGNvbnN0IFNUSUxMX1BST0NFU1NJTkdfRVJST1JfQ09ERVM6IEVycm9yQ29kZVNldCA9IHtcbiAgUHJpb3JSZXF1ZXN0Tm90Q29tcGxldGU6IHRydWVcbn07XG5cbi8qKlxuICogRXJyb3JzIHRoYXQgaW5kaWNhdGUgdGhlIFNESyBpcyBiZWluZyB0aHJvdHRsZWQuXG4gKlxuICogVGhlc2UgZXJyb3JzIGFyZSBhbHdheXMgcmV0cnlhYmxlLlxuICovXG5leHBvcnQgY29uc3QgVEhST1RUTElOR19FUlJPUl9DT0RFUzogRXJyb3JDb2RlU2V0ID0ge1xuICBCYW5kd2lkdGhMaW1pdEV4Y2VlZGVkOiB0cnVlLFxuICBQcm92aXNpb25lZFRocm91Z2hwdXRFeGNlZWRlZEV4Y2VwdGlvbjogdHJ1ZSxcbiAgUmVxdWVzdExpbWl0RXhjZWVkZWQ6IHRydWUsXG4gIFJlcXVlc3RUaHJvdHRsZWQ6IHRydWUsXG4gIFJlcXVlc3RUaHJvdHRsZWRFeGNlcHRpb246IHRydWUsXG4gIFNsb3dEb3duOiB0cnVlLFxuICBUaHJvdHRsZWRFeGNlcHRpb246IHRydWUsXG4gIFRocm90dGxpbmc6IHRydWUsXG4gIFRocm90dGxpbmdFeGNlcHRpb246IHRydWUsXG4gIFRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvbjogdHJ1ZVxufTtcbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar defaultStrategy_1 = require(\"./defaultStrategy\");\nfunction resolveRetryConfig(input) {\n    var maxRetries = input.maxRetries === undefined ? 3 : input.maxRetries;\n    return tslib_1.__assign(tslib_1.__assign({}, input), { maxRetries: maxRetries, retryStrategy: input.retryStrategy || new defaultStrategy_1.ExponentialBackOffStrategy(maxRetries) });\n}\nexports.resolveRetryConfig = resolveRetryConfig;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29uZmlndXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EscURBQStEO0FBZ0IvRCxTQUFnQixrQkFBa0IsQ0FDaEMsS0FBMkI7SUFFM0IsSUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLFVBQVUsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQztJQUN6RSw2Q0FDSyxLQUFLLEtBQ1IsVUFBVSxZQUFBLEVBQ1YsYUFBYSxFQUNYLEtBQUssQ0FBQyxhQUFhLElBQUksSUFBSSw0Q0FBMEIsQ0FBQyxVQUFVLENBQUMsSUFDbkU7QUFDSixDQUFDO0FBVkQsZ0RBVUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXRyeVN0cmF0ZWd5IH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBFeHBvbmVudGlhbEJhY2tPZmZTdHJhdGVneSB9IGZyb20gXCIuL2RlZmF1bHRTdHJhdGVneVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJldHJ5SW5wdXRDb25maWcge1xuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRpbWVzIHJlcXVlc3RzIHRoYXQgZW5jb3VudGVyIHBvdGVudGlhbGx5IHRyYW5zaWVudCBmYWlsdXJlcyBzaG91bGQgYmUgcmV0cmllZFxuICAgKi9cbiAgbWF4UmV0cmllcz86IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBzdHJhdGVneSB0byByZXRyeSB0aGUgcmVxdWVzdC4gVXNpbmcgYnVpbHQtaW4gZXhwb25lbnRpYWwgYmFja29mZiBzdHJhdGVneSBieSBkZWZhdWx0LlxuICAgKi9cbiAgcmV0cnlTdHJhdGVneT86IFJldHJ5U3RyYXRlZ3k7XG59XG5leHBvcnQgaW50ZXJmYWNlIFJldHJ5UmVzb2x2ZWRDb25maWcge1xuICBtYXhSZXRyaWVzOiBudW1iZXI7XG4gIHJldHJ5U3RyYXRlZ3k6IFJldHJ5U3RyYXRlZ3k7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVJldHJ5Q29uZmlnPFQ+KFxuICBpbnB1dDogVCAmIFJldHJ5SW5wdXRDb25maWdcbik6IFQgJiBSZXRyeVJlc29sdmVkQ29uZmlnIHtcbiAgY29uc3QgbWF4UmV0cmllcyA9IGlucHV0Lm1heFJldHJpZXMgPT09IHVuZGVmaW5lZCA/IDMgOiBpbnB1dC5tYXhSZXRyaWVzO1xuICByZXR1cm4ge1xuICAgIC4uLmlucHV0LFxuICAgIG1heFJldHJpZXMsXG4gICAgcmV0cnlTdHJhdGVneTpcbiAgICAgIGlucHV0LnJldHJ5U3RyYXRlZ3kgfHwgbmV3IEV4cG9uZW50aWFsQmFja09mZlN0cmF0ZWd5KG1heFJldHJpZXMpXG4gIH07XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar signature_v4_1 = require(\"@aws-sdk/signature-v4\");\nfunction resolveAwsAuthConfig(input) {\n    var _this = this;\n    var credentials = input.credentials || input.credentialDefaultProvider(input);\n    var normalizedCreds = normalizeProvider(credentials);\n    var _a = input.signingEscapePath, signingEscapePath = _a === void 0 ? true : _a, _b = input.systemClockOffset, systemClockOffset = _b === void 0 ? input.systemClockOffset || 0 : _b, sha256 = input.sha256;\n    var signer;\n    if (input.signer) {\n        //if signer is supplied by user, normalize it to a function returning a promise for signer.\n        signer = normalizeProvider(input.signer);\n    }\n    else {\n        //construct a provider inferring signing from region.\n        signer = function () {\n            return normalizeProvider(input.region)()\n                .then(function (region) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n                return tslib_1.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, input.regionInfoProvider(region)];\n                        case 1: return [2 /*return*/, [(_a.sent()) || {}, region]];\n                    }\n                });\n            }); })\n                .then(function (_a) {\n                var _b = tslib_1.__read(_a, 2), regionInfo = _b[0], region = _b[1];\n                var _c = regionInfo.signingRegion, signingRegion = _c === void 0 ? input.signingRegion : _c, _d = regionInfo.signingService, signingService = _d === void 0 ? input.signingName : _d;\n                //update client's singing region and signing service config if they are resolved.\n                //signing region resolving order: user supplied signingRegion -> endpoints.json inferred region -> client region\n                input.signingRegion = input.signingRegion || signingRegion || region;\n                input.signingName = input.signingName || signingService;\n                return new signature_v4_1.SignatureV4({\n                    credentials: normalizedCreds,\n                    region: input.signingRegion,\n                    service: input.signingName,\n                    sha256: sha256,\n                    uriEscapePath: signingEscapePath\n                });\n            });\n        };\n    }\n    return tslib_1.__assign(tslib_1.__assign({}, input), { systemClockOffset: systemClockOffset,\n        signingEscapePath: signingEscapePath, credentials: normalizedCreds, signer: signer });\n}\nexports.resolveAwsAuthConfig = resolveAwsAuthConfig;\nfunction normalizeProvider(input) {\n    if (typeof input === \"object\") {\n        var promisified_1 = Promise.resolve(input);\n        return function () { return promisified_1; };\n    }\n    return input;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29uZmlndXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBUUEsc0RBQW9EO0FBMENwRCxTQUFnQixvQkFBb0IsQ0FDbEMsS0FBa0Q7SUFEcEQsaUJBcURDO0lBbERDLElBQUksV0FBVyxHQUNiLEtBQUssQ0FBQyxXQUFXLElBQUksS0FBSyxDQUFDLHlCQUF5QixDQUFDLEtBQVksQ0FBQyxDQUFDO0lBQ3JFLElBQU0sZUFBZSxHQUFHLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBRXJELElBQUEsNEJBQXdCLEVBQXhCLDZDQUF3QixFQUN4Qiw0QkFBZ0QsRUFBaEQscUVBQWdELEVBQ2hELHFCQUFNLENBQ0U7SUFDVixJQUFJLE1BQStCLENBQUM7SUFDcEMsSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO1FBQ2hCLDJGQUEyRjtRQUMzRixNQUFNLEdBQUcsaUJBQWlCLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0tBQzFDO1NBQU07UUFDTCxxREFBcUQ7UUFDckQsTUFBTSxHQUFHO1lBQ1AsT0FBQSxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUU7aUJBQzlCLElBQUksQ0FDSCxVQUFNLE1BQU07OztnQ0FDUixxQkFBTSxLQUFLLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLEVBQUE7Z0NBQXhDLHNCQUFBLENBQUMsQ0FBQyxTQUFzQyxDQUFDLElBQUksRUFBRSxFQUFFLE1BQU0sQ0FHdEQsRUFBQTs7O2lCQUFBLENBQ0o7aUJBQ0EsSUFBSSxDQUFDLFVBQUMsRUFBb0I7b0JBQXBCLDBCQUFvQixFQUFuQixrQkFBVSxFQUFFLGNBQU07Z0JBRXRCLElBQUEsNkJBQW1DLEVBQW5DLHdEQUFtQyxFQUNuQyw4QkFBa0MsRUFBbEMsdURBQWtDLENBQ3JCO2dCQUNmLGlGQUFpRjtnQkFDakYsZ0hBQWdIO2dCQUNoSCxLQUFLLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQyxhQUFhLElBQUksYUFBYSxJQUFJLE1BQU0sQ0FBQztnQkFDckUsS0FBSyxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUMsV0FBVyxJQUFJLGNBQWMsQ0FBQztnQkFFeEQsT0FBTyxJQUFJLDBCQUFXLENBQUM7b0JBQ3JCLFdBQVcsRUFBRSxlQUFlO29CQUM1QixNQUFNLEVBQUUsS0FBSyxDQUFDLGFBQWE7b0JBQzNCLE9BQU8sRUFBRSxLQUFLLENBQUMsV0FBVztvQkFDMUIsTUFBTSxRQUFBO29CQUNOLGFBQWEsRUFBRSxpQkFBaUI7aUJBQ2pDLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQztRQXpCSixDQXlCSSxDQUFDO0tBQ1I7SUFFRCw2Q0FDSyxLQUFLLEtBQ1IsaUJBQWlCLG1CQUFBO1FBQ2pCLGlCQUFpQixtQkFBQSxFQUNqQixXQUFXLEVBQUUsZUFBZSxFQUM1QixNQUFNLFFBQUEsSUFDTjtBQUNKLENBQUM7QUFyREQsb0RBcURDO0FBRUQsU0FBUyxpQkFBaUIsQ0FBSSxLQUFzQjtJQUNsRCxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtRQUM3QixJQUFNLGFBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNDLE9BQU8sY0FBTSxPQUFBLGFBQVcsRUFBWCxDQUFXLENBQUM7S0FDMUI7SUFDRCxPQUFPLEtBQW9CLENBQUM7QUFDOUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFJlcXVlc3RTaWduZXIsXG4gIENyZWRlbnRpYWxzLFxuICBQcm92aWRlcixcbiAgSGFzaENvbnN0cnVjdG9yLFxuICBSZWdpb25JbmZvUHJvdmlkZXIsXG4gIFJlZ2lvbkluZm9cbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBTaWduYXR1cmVWNCB9IGZyb20gXCJAYXdzLXNkay9zaWduYXR1cmUtdjRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBBd3NBdXRoSW5wdXRDb25maWcge1xuICAvKipcbiAgICogVGhlIGNyZWRlbnRpYWxzIHVzZWQgdG8gc2lnbiByZXF1ZXN0cy5cbiAgICovXG4gIGNyZWRlbnRpYWxzPzogQ3JlZGVudGlhbHMgfCBQcm92aWRlcjxDcmVkZW50aWFscz47XG5cbiAgLyoqXG4gICAqIFRoZSBzaWduZXIgdG8gdXNlIHdoZW4gc2lnbmluZyByZXF1ZXN0cy5cbiAgICovXG4gIHNpZ25lcj86IFJlcXVlc3RTaWduZXIgfCBQcm92aWRlcjxSZXF1ZXN0U2lnbmVyPjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBlc2NhcGUgcmVxdWVzdCBwYXRoIHdoZW4gc2lnbmluZyB0aGUgcmVxdWVzdC5cbiAgICovXG4gIHNpZ25pbmdFc2NhcGVQYXRoPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogQW4gb2Zmc2V0IHZhbHVlIGluIG1pbGxpc2Vjb25kcyB0byBhcHBseSB0byBhbGwgc2lnbmluZyB0aW1lcy5cbiAgICovXG4gIHN5c3RlbUNsb2NrT2Zmc2V0PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVnaW9uIHdoZXJlIHlvdSB3YW50IHRvIHNpZ24geW91ciByZXF1ZXN0IGFnYWluc3QuIFRoaXNcbiAgICogY2FuIGJlIGRpZmZlcmVudCB0byB0aGUgcmVnaW9uIGluIHRoZSBlbmRwb2ludC5cbiAgICovXG4gIHNpZ25pbmdSZWdpb24/OiBzdHJpbmc7XG59XG5pbnRlcmZhY2UgUHJldmlvdXNseVJlc29sdmVkIHtcbiAgY3JlZGVudGlhbERlZmF1bHRQcm92aWRlcjogKGlucHV0OiBhbnkpID0+IFByb3ZpZGVyPENyZWRlbnRpYWxzPjtcbiAgcmVnaW9uOiBzdHJpbmcgfCBQcm92aWRlcjxzdHJpbmc+O1xuICByZWdpb25JbmZvUHJvdmlkZXI6IFJlZ2lvbkluZm9Qcm92aWRlcjtcbiAgc2lnbmluZ05hbWU6IHN0cmluZztcbiAgc2hhMjU2OiBIYXNoQ29uc3RydWN0b3I7XG59XG5leHBvcnQgaW50ZXJmYWNlIEF3c0F1dGhSZXNvbHZlZENvbmZpZyB7XG4gIGNyZWRlbnRpYWxzOiBQcm92aWRlcjxDcmVkZW50aWFscz47XG4gIHNpZ25lcjogUHJvdmlkZXI8UmVxdWVzdFNpZ25lcj47XG4gIHNpZ25pbmdFc2NhcGVQYXRoOiBib29sZWFuO1xuICBzeXN0ZW1DbG9ja09mZnNldDogbnVtYmVyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVBd3NBdXRoQ29uZmlnPFQ+KFxuICBpbnB1dDogVCAmIEF3c0F1dGhJbnB1dENvbmZpZyAmIFByZXZpb3VzbHlSZXNvbHZlZFxuKTogVCAmIEF3c0F1dGhSZXNvbHZlZENvbmZpZyB7XG4gIGxldCBjcmVkZW50aWFscyA9XG4gICAgaW5wdXQuY3JlZGVudGlhbHMgfHwgaW5wdXQuY3JlZGVudGlhbERlZmF1bHRQcm92aWRlcihpbnB1dCBhcyBhbnkpO1xuICBjb25zdCBub3JtYWxpemVkQ3JlZHMgPSBub3JtYWxpemVQcm92aWRlcihjcmVkZW50aWFscyk7XG4gIGNvbnN0IHtcbiAgICBzaWduaW5nRXNjYXBlUGF0aCA9IHRydWUsXG4gICAgc3lzdGVtQ2xvY2tPZmZzZXQgPSBpbnB1dC5zeXN0ZW1DbG9ja09mZnNldCB8fCAwLFxuICAgIHNoYTI1NlxuICB9ID0gaW5wdXQ7XG4gIGxldCBzaWduZXI6IFByb3ZpZGVyPFJlcXVlc3RTaWduZXI+O1xuICBpZiAoaW5wdXQuc2lnbmVyKSB7XG4gICAgLy9pZiBzaWduZXIgaXMgc3VwcGxpZWQgYnkgdXNlciwgbm9ybWFsaXplIGl0IHRvIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgcHJvbWlzZSBmb3Igc2lnbmVyLlxuICAgIHNpZ25lciA9IG5vcm1hbGl6ZVByb3ZpZGVyKGlucHV0LnNpZ25lcik7XG4gIH0gZWxzZSB7XG4gICAgLy9jb25zdHJ1Y3QgYSBwcm92aWRlciBpbmZlcnJpbmcgc2lnbmluZyBmcm9tIHJlZ2lvbi5cbiAgICBzaWduZXIgPSAoKSA9PlxuICAgICAgbm9ybWFsaXplUHJvdmlkZXIoaW5wdXQucmVnaW9uKSgpXG4gICAgICAgIC50aGVuKFxuICAgICAgICAgIGFzeW5jIHJlZ2lvbiA9PlxuICAgICAgICAgICAgWyhhd2FpdCBpbnB1dC5yZWdpb25JbmZvUHJvdmlkZXIocmVnaW9uKSkgfHwge30sIHJlZ2lvbl0gYXMgW1xuICAgICAgICAgICAgICBSZWdpb25JbmZvLFxuICAgICAgICAgICAgICBzdHJpbmdcbiAgICAgICAgICAgIF1cbiAgICAgICAgKVxuICAgICAgICAudGhlbigoW3JlZ2lvbkluZm8sIHJlZ2lvbl0pID0+IHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBzaWduaW5nUmVnaW9uID0gaW5wdXQuc2lnbmluZ1JlZ2lvbixcbiAgICAgICAgICAgIHNpZ25pbmdTZXJ2aWNlID0gaW5wdXQuc2lnbmluZ05hbWVcbiAgICAgICAgICB9ID0gcmVnaW9uSW5mbztcbiAgICAgICAgICAvL3VwZGF0ZSBjbGllbnQncyBzaW5naW5nIHJlZ2lvbiBhbmQgc2lnbmluZyBzZXJ2aWNlIGNvbmZpZyBpZiB0aGV5IGFyZSByZXNvbHZlZC5cbiAgICAgICAgICAvL3NpZ25pbmcgcmVnaW9uIHJlc29sdmluZyBvcmRlcjogdXNlciBzdXBwbGllZCBzaWduaW5nUmVnaW9uIC0+IGVuZHBvaW50cy5qc29uIGluZmVycmVkIHJlZ2lvbiAtPiBjbGllbnQgcmVnaW9uXG4gICAgICAgICAgaW5wdXQuc2lnbmluZ1JlZ2lvbiA9IGlucHV0LnNpZ25pbmdSZWdpb24gfHwgc2lnbmluZ1JlZ2lvbiB8fCByZWdpb247XG4gICAgICAgICAgaW5wdXQuc2lnbmluZ05hbWUgPSBpbnB1dC5zaWduaW5nTmFtZSB8fCBzaWduaW5nU2VydmljZTtcblxuICAgICAgICAgIHJldHVybiBuZXcgU2lnbmF0dXJlVjQoe1xuICAgICAgICAgICAgY3JlZGVudGlhbHM6IG5vcm1hbGl6ZWRDcmVkcyxcbiAgICAgICAgICAgIHJlZ2lvbjogaW5wdXQuc2lnbmluZ1JlZ2lvbixcbiAgICAgICAgICAgIHNlcnZpY2U6IGlucHV0LnNpZ25pbmdOYW1lLFxuICAgICAgICAgICAgc2hhMjU2LFxuICAgICAgICAgICAgdXJpRXNjYXBlUGF0aDogc2lnbmluZ0VzY2FwZVBhdGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIC4uLmlucHV0LFxuICAgIHN5c3RlbUNsb2NrT2Zmc2V0LFxuICAgIHNpZ25pbmdFc2NhcGVQYXRoLFxuICAgIGNyZWRlbnRpYWxzOiBub3JtYWxpemVkQ3JlZHMsXG4gICAgc2lnbmVyXG4gIH07XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3ZpZGVyPFQ+KGlucHV0OiBUIHwgUHJvdmlkZXI8VD4pOiBQcm92aWRlcjxUPiB7XG4gIGlmICh0eXBlb2YgaW5wdXQgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zdCBwcm9taXNpZmllZCA9IFByb21pc2UucmVzb2x2ZShpbnB1dCk7XG4gICAgcmV0dXJuICgpID0+IHByb21pc2lmaWVkO1xuICB9XG4gIHJldHVybiBpbnB1dCBhcyBQcm92aWRlcjxUPjtcbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar escape_uri_1 = require(\"./escape-uri\");\nfunction escapeUriPath(uri) {\n    var e_1, _a;\n    var parts = [];\n    try {\n        for (var _b = tslib_1.__values(uri.split(\"/\")), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var sub = _c.value;\n            parts.push(escape_uri_1.escapeUri(sub));\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return parts.join(\"/\");\n}\nexports.escapeUriPath = escapeUriPath;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXNjYXBlLXVyaS1wYXRoLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2VzY2FwZS11cmktcGF0aC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwyQ0FBeUM7QUFDekMsU0FBZ0IsYUFBYSxDQUFDLEdBQVc7O0lBQ3ZDLElBQUksS0FBSyxHQUFhLEVBQUUsQ0FBQzs7UUFDekIsS0FBZ0IsSUFBQSxLQUFBLGlCQUFBLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUEsZ0JBQUEsNEJBQUU7WUFBM0IsSUFBSSxHQUFHLFdBQUE7WUFDVixLQUFLLENBQUMsSUFBSSxDQUFDLHNCQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUM1Qjs7Ozs7Ozs7O0lBQ0QsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3pCLENBQUM7QUFORCxzQ0FNQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVzY2FwZVVyaSB9IGZyb20gXCIuL2VzY2FwZS11cmlcIjtcbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVVcmlQYXRoKHVyaTogc3RyaW5nKTogc3RyaW5nIHtcbiAgbGV0IHBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICBmb3IgKGxldCBzdWIgb2YgdXJpLnNwbGl0KFwiL1wiKSkge1xuICAgIHBhcnRzLnB1c2goZXNjYXBlVXJpKHN1YikpO1xuICB9XG4gIHJldHVybiBwYXJ0cy5qb2luKFwiL1wiKTtcbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar protocol_http_1 = require(\"@aws-sdk/protocol-http\");\nvar isClockSkewed = function (newServerTime, systemClockOffset) {\n    return Math.abs(getSkewCorrectedDate(systemClockOffset).getTime() - newServerTime) >=\n        300000;\n};\nvar getSkewCorrectedDate = function (systemClockOffset) {\n    return new Date(Date.now() + systemClockOffset);\n};\nfunction awsAuthMiddleware(options) {\n    return function (next) {\n        return function (args) {\n            return tslib_1.__awaiter(this, void 0, void 0, function () {\n                var signer, _a, output, _b, _c, _d, headers, dateHeader, serverTime;\n                return tslib_1.__generator(this, function (_e) {\n                    switch (_e.label) {\n                        case 0:\n                            if (!protocol_http_1.HttpRequest.isInstance(args.request))\n                                return [2 /*return*/, next(args)];\n                            if (!(typeof options.signer === \"function\")) return [3 /*break*/, 2];\n                            return [4 /*yield*/, options.signer()];\n                        case 1:\n                            _a = _e.sent();\n                            return [3 /*break*/, 3];\n                        case 2:\n                            _a = options.signer;\n                            _e.label = 3;\n                        case 3:\n                            signer = _a;\n                            _b = next;\n                            _c = [tslib_1.__assign({}, args)];\n                            _d = {};\n                            return [4 /*yield*/, signer.sign(args.request, {\n                                    signingDate: new Date(Date.now() + options.systemClockOffset)\n                                })];\n                        case 4: return [4 /*yield*/, _b.apply(void 0, [tslib_1.__assign.apply(void 0, _c.concat([(_d.request = _e.sent(), _d)]))])];\n                        case 5:\n                            output = _e.sent();\n                            headers = output.response.headers;\n                            dateHeader = headers && (headers.date || headers.Date);\n                            if (dateHeader) {\n                                serverTime = Date.parse(dateHeader);\n                                if (isClockSkewed(serverTime, options.systemClockOffset)) {\n                                    options.systemClockOffset = serverTime - Date.now();\n                                }\n                            }\n                            return [2 /*return*/, output];\n                    }\n                });\n            });\n        };\n    };\n}\nexports.awsAuthMiddleware = awsAuthMiddleware;\nexports.awsAuthMiddlewareOptions = {\n    name: \"awsAuthMiddleware\",\n    step: \"finalizeRequest\",\n    tags: [\"SIGNATURE\", \"AWSAUTH\"],\n    relation: \"after\",\n    toMiddleware: \"retryMiddleware\"\n};\nexports.getAwsAuthPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.addRelativeTo(awsAuthMiddleware(options), exports.awsAuthMiddlewareOptions);\n    }\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWlkZGxld2FyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9taWRkbGV3YXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQVVBLHdEQUFxRDtBQUVyRCxJQUFNLGFBQWEsR0FBRyxVQUFDLGFBQXFCLEVBQUUsaUJBQXlCO0lBQ3JFLE9BQUEsSUFBSSxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLE9BQU8sRUFBRSxHQUFHLGFBQWEsQ0FBQztRQUMzRSxNQUFNO0FBRE4sQ0FDTSxDQUFDO0FBRVQsSUFBTSxvQkFBb0IsR0FBRyxVQUFDLGlCQUF5QjtJQUNyRCxPQUFBLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxpQkFBaUIsQ0FBQztBQUF4QyxDQUF3QyxDQUFDO0FBRTNDLFNBQWdCLGlCQUFpQixDQUMvQixPQUE4QjtJQUU5QixPQUFPLFVBQ0wsSUFBb0M7UUFFcEMsT0FBQSxVQUNFLElBQXFDOzs7Ozs7NEJBRXJDLElBQUksQ0FBQywyQkFBVyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO2dDQUFFLHNCQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQztpQ0FFM0QsQ0FBQSxPQUFPLE9BQU8sQ0FBQyxNQUFNLEtBQUssVUFBVSxDQUFBLEVBQXBDLHdCQUFvQzs0QkFDaEMscUJBQU0sT0FBTyxDQUFDLE1BQU0sRUFBRSxFQUFBOzs0QkFBdEIsS0FBQSxTQUFzQixDQUFBOzs7NEJBQ3RCLEtBQUEsT0FBTyxDQUFDLE1BQU0sQ0FBQTs7OzRCQUhkLE1BQU0sS0FHUTs0QkFDQyxLQUFBLElBQUksQ0FBQTt1REFDcEIsSUFBSTs7NEJBQ0UscUJBQU0sTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO29DQUN2QyxXQUFXLEVBQUUsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztpQ0FDOUQsQ0FBQyxFQUFBO2dDQUpXLHFCQUFNLDZEQUVuQixVQUFPLEdBQUUsU0FFUCxVQUNGLEVBQUE7OzRCQUxJLE1BQU0sR0FBRyxTQUtiOzRCQUVNLE9BQU8sR0FBSyxNQUFNLENBQUMsUUFBZSxRQUEzQixDQUE0Qjs0QkFDckMsVUFBVSxHQUFHLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDOzRCQUM3RCxJQUFJLFVBQVUsRUFBRTtnQ0FDUixVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztnQ0FDMUMsSUFBSSxhQUFhLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFO29DQUN4RCxPQUFPLENBQUMsaUJBQWlCLEdBQUcsVUFBVSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztpQ0FDckQ7NkJBQ0Y7NEJBRUQsc0JBQU8sTUFBTSxFQUFDOzs7O1NBQ2Y7SUF6QkQsQ0F5QkMsQ0FBQztBQUNOLENBQUM7QUFoQ0QsOENBZ0NDO0FBRVksUUFBQSx3QkFBd0IsR0FDTjtJQUM3QixJQUFJLEVBQUUsbUJBQW1CO0lBQ3pCLElBQUksRUFBRSxpQkFBaUI7SUFDdkIsSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQztJQUM5QixRQUFRLEVBQUUsT0FBTztJQUNqQixZQUFZLEVBQUUsaUJBQWlCO0NBQ2hDLENBQUM7QUFFVyxRQUFBLGdCQUFnQixHQUFHLFVBQzlCLE9BQThCLElBQ04sT0FBQSxDQUFDO0lBQ3pCLFlBQVksRUFBRSxVQUFBLFdBQVc7UUFDdkIsV0FBVyxDQUFDLGFBQWEsQ0FDdkIsaUJBQWlCLENBQUMsT0FBTyxDQUFDLEVBQzFCLGdDQUF3QixDQUN6QixDQUFDO0lBQ0osQ0FBQztDQUNGLENBQUMsRUFQd0IsQ0FPeEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEZpbmFsaXplSGFuZGxlcixcbiAgRmluYWxpemVIYW5kbGVyQXJndW1lbnRzLFxuICBGaW5hbGl6ZVJlcXVlc3RNaWRkbGV3YXJlLFxuICBGaW5hbGl6ZUhhbmRsZXJPdXRwdXQsXG4gIFBsdWdnYWJsZSxcbiAgUmVsYXRpdmVMb2NhdGlvbixcbiAgRmluYWxpemVSZXF1ZXN0SGFuZGxlck9wdGlvbnNcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBBd3NBdXRoUmVzb2x2ZWRDb25maWcgfSBmcm9tIFwiLi9jb25maWd1cmF0aW9uc1wiO1xuaW1wb3J0IHsgSHR0cFJlcXVlc3QgfSBmcm9tIFwiQGF3cy1zZGsvcHJvdG9jb2wtaHR0cFwiO1xuXG5jb25zdCBpc0Nsb2NrU2tld2VkID0gKG5ld1NlcnZlclRpbWU6IG51bWJlciwgc3lzdGVtQ2xvY2tPZmZzZXQ6IG51bWJlcikgPT5cbiAgTWF0aC5hYnMoZ2V0U2tld0NvcnJlY3RlZERhdGUoc3lzdGVtQ2xvY2tPZmZzZXQpLmdldFRpbWUoKSAtIG5ld1NlcnZlclRpbWUpID49XG4gIDMwMDAwMDtcblxuY29uc3QgZ2V0U2tld0NvcnJlY3RlZERhdGUgPSAoc3lzdGVtQ2xvY2tPZmZzZXQ6IG51bWJlcikgPT5cbiAgbmV3IERhdGUoRGF0ZS5ub3coKSArIHN5c3RlbUNsb2NrT2Zmc2V0KTtcblxuZXhwb3J0IGZ1bmN0aW9uIGF3c0F1dGhNaWRkbGV3YXJlPElucHV0IGV4dGVuZHMgb2JqZWN0LCBPdXRwdXQgZXh0ZW5kcyBvYmplY3Q+KFxuICBvcHRpb25zOiBBd3NBdXRoUmVzb2x2ZWRDb25maWdcbik6IEZpbmFsaXplUmVxdWVzdE1pZGRsZXdhcmU8SW5wdXQsIE91dHB1dD4ge1xuICByZXR1cm4gKFxuICAgIG5leHQ6IEZpbmFsaXplSGFuZGxlcjxJbnB1dCwgT3V0cHV0PlxuICApOiBGaW5hbGl6ZUhhbmRsZXI8SW5wdXQsIE91dHB1dD4gPT5cbiAgICBhc3luYyBmdW5jdGlvbihcbiAgICAgIGFyZ3M6IEZpbmFsaXplSGFuZGxlckFyZ3VtZW50czxJbnB1dD5cbiAgICApOiBQcm9taXNlPEZpbmFsaXplSGFuZGxlck91dHB1dDxPdXRwdXQ+PiB7XG4gICAgICBpZiAoIUh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UoYXJncy5yZXF1ZXN0KSkgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICBjb25zdCBzaWduZXIgPVxuICAgICAgICB0eXBlb2Ygb3B0aW9ucy5zaWduZXIgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgID8gYXdhaXQgb3B0aW9ucy5zaWduZXIoKVxuICAgICAgICAgIDogb3B0aW9ucy5zaWduZXI7XG4gICAgICBjb25zdCBvdXRwdXQgPSBhd2FpdCBuZXh0KHtcbiAgICAgICAgLi4uYXJncyxcbiAgICAgICAgcmVxdWVzdDogYXdhaXQgc2lnbmVyLnNpZ24oYXJncy5yZXF1ZXN0LCB7XG4gICAgICAgICAgc2lnbmluZ0RhdGU6IG5ldyBEYXRlKERhdGUubm93KCkgKyBvcHRpb25zLnN5c3RlbUNsb2NrT2Zmc2V0KVxuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgaGVhZGVycyB9ID0gb3V0cHV0LnJlc3BvbnNlIGFzIGFueTtcbiAgICAgIGNvbnN0IGRhdGVIZWFkZXIgPSBoZWFkZXJzICYmIChoZWFkZXJzLmRhdGUgfHwgaGVhZGVycy5EYXRlKTtcbiAgICAgIGlmIChkYXRlSGVhZGVyKSB7XG4gICAgICAgIGNvbnN0IHNlcnZlclRpbWUgPSBEYXRlLnBhcnNlKGRhdGVIZWFkZXIpO1xuICAgICAgICBpZiAoaXNDbG9ja1NrZXdlZChzZXJ2ZXJUaW1lLCBvcHRpb25zLnN5c3RlbUNsb2NrT2Zmc2V0KSkge1xuICAgICAgICAgIG9wdGlvbnMuc3lzdGVtQ2xvY2tPZmZzZXQgPSBzZXJ2ZXJUaW1lIC0gRGF0ZS5ub3coKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59XG5cbmV4cG9ydCBjb25zdCBhd3NBdXRoTWlkZGxld2FyZU9wdGlvbnM6IEZpbmFsaXplUmVxdWVzdEhhbmRsZXJPcHRpb25zICZcbiAgUmVsYXRpdmVMb2NhdGlvbjxhbnksIGFueT4gPSB7XG4gIG5hbWU6IFwiYXdzQXV0aE1pZGRsZXdhcmVcIixcbiAgc3RlcDogXCJmaW5hbGl6ZVJlcXVlc3RcIixcbiAgdGFnczogW1wiU0lHTkFUVVJFXCIsIFwiQVdTQVVUSFwiXSxcbiAgcmVsYXRpb246IFwiYWZ0ZXJcIixcbiAgdG9NaWRkbGV3YXJlOiBcInJldHJ5TWlkZGxld2FyZVwiXG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QXdzQXV0aFBsdWdpbiA9IChcbiAgb3B0aW9uczogQXdzQXV0aFJlc29sdmVkQ29uZmlnXG4pOiBQbHVnZ2FibGU8YW55LCBhbnk+ID0+ICh7XG4gIGFwcGx5VG9TdGFjazogY2xpZW50U3RhY2sgPT4ge1xuICAgIGNsaWVudFN0YWNrLmFkZFJlbGF0aXZlVG8oXG4gICAgICBhd3NBdXRoTWlkZGxld2FyZShvcHRpb25zKSxcbiAgICAgIGF3c0F1dGhNaWRkbGV3YXJlT3B0aW9uc1xuICAgICk7XG4gIH1cbn0pO1xuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction resolveUserAgentConfig(input) {\n    return input;\n}\nexports.resolveUserAgentConfig = resolveUserAgentConfig;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29uZmlndXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFlQSxTQUFnQixzQkFBc0IsQ0FDcEMsS0FBb0Q7SUFFcEQsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBSkQsd0RBSUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgaW50ZXJmYWNlIFVzZXJBZ2VudElucHV0Q29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBjdXN0b20gdXNlciBhZ2VudCBoZWFkZXIgdGhhdCB3b3VsZCBiZSBhcHBlbmRlZCB0byBkZWZhdWx0IG9uZVxuICAgKi9cbiAgY3VzdG9tVXNlckFnZW50Pzogc3RyaW5nO1xufVxuaW50ZXJmYWNlIFByZXZpb3VzbHlSZXNvbHZlZCB7XG4gIGRlZmF1bHRVc2VyQWdlbnQ6IHN0cmluZztcbiAgcnVudGltZTogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBVc2VyQWdlbnRSZXNvbHZlZENvbmZpZyB7XG4gIGRlZmF1bHRVc2VyQWdlbnQ6IHN0cmluZztcbiAgY3VzdG9tVXNlckFnZW50Pzogc3RyaW5nO1xuICBydW50aW1lOiBzdHJpbmc7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVVzZXJBZ2VudENvbmZpZzxUPihcbiAgaW5wdXQ6IFQgJiBQcmV2aW91c2x5UmVzb2x2ZWQgJiBVc2VyQWdlbnRJbnB1dENvbmZpZ1xuKTogVCAmIFVzZXJBZ2VudFJlc29sdmVkQ29uZmlnIHtcbiAgcmV0dXJuIGlucHV0O1xufVxuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar protocol_http_1 = require(\"@aws-sdk/protocol-http\");\nfunction userAgentMiddleware(options) {\n    return function (next) { return function (args) {\n        var request = args.request;\n        if (!protocol_http_1.HttpRequest.isInstance(request))\n            return next(args);\n        var headers = request.headers;\n        var userAgentHeader = options.runtime === \"node\" ? \"user-agent\" : \"x-amz-user-agent\";\n        if (!headers[userAgentHeader]) {\n            headers[userAgentHeader] = \"\" + options.defaultUserAgent;\n        }\n        else {\n            headers[userAgentHeader] += \" \" + options.defaultUserAgent;\n        }\n        if (options.customUserAgent) {\n            headers[userAgentHeader] += \" \" + options.customUserAgent;\n        }\n        return next(tslib_1.__assign(tslib_1.__assign({}, args), { request: request }));\n    }; };\n}\nexports.userAgentMiddleware = userAgentMiddleware;\nexports.getUserAgentMiddlewareOptions = {\n    name: \"getUserAgentMiddleware\",\n    step: \"build\",\n    tags: [\"SET_USER_AGENT\", \"USER_AGENT\"]\n};\nexports.getUserAgentPlugin = function (config) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(userAgentMiddleware(config), exports.getUserAgentMiddlewareOptions);\n    }\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWlkZGxld2FyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9taWRkbGV3YXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQVFBLHdEQUFxRDtBQUdyRCxTQUFnQixtQkFBbUIsQ0FBQyxPQUFnQztJQUNsRSxPQUFPLFVBQ0wsSUFBNEIsSUFDRCxPQUFBLFVBQzNCLElBQWdDO1FBRTFCLElBQUEsc0JBQU8sQ0FBVTtRQUN2QixJQUFJLENBQUMsMkJBQVcsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDO1lBQUUsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEQsSUFBQSx5QkFBTyxDQUFhO1FBQzVCLElBQU0sZUFBZSxHQUNuQixPQUFPLENBQUMsT0FBTyxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQztRQUNqRSxJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxFQUFFO1lBQzdCLE9BQU8sQ0FBQyxlQUFlLENBQUMsR0FBRyxLQUFHLE9BQU8sQ0FBQyxnQkFBa0IsQ0FBQztTQUMxRDthQUFNO1lBQ0wsT0FBTyxDQUFDLGVBQWUsQ0FBQyxJQUFJLE1BQUksT0FBTyxDQUFDLGdCQUFrQixDQUFDO1NBQzVEO1FBQ0QsSUFBSSxPQUFPLENBQUMsZUFBZSxFQUFFO1lBQzNCLE9BQU8sQ0FBQyxlQUFlLENBQUMsSUFBSSxNQUFJLE9BQU8sQ0FBQyxlQUFpQixDQUFDO1NBQzNEO1FBQ0QsT0FBTyxJQUFJLHVDQUNOLElBQUksS0FDUCxPQUFPLFNBQUEsSUFDUCxDQUFDO0lBQ0wsQ0FBQyxFQXBCNEIsQ0FvQjVCLENBQUM7QUFDSixDQUFDO0FBeEJELGtEQXdCQztBQUVZLFFBQUEsNkJBQTZCLEdBQXdCO0lBQ2hFLElBQUksRUFBRSx3QkFBd0I7SUFDOUIsSUFBSSxFQUFFLE9BQU87SUFDYixJQUFJLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxZQUFZLENBQUM7Q0FDdkMsQ0FBQztBQUVXLFFBQUEsa0JBQWtCLEdBQUcsVUFDaEMsTUFBK0IsSUFDUCxPQUFBLENBQUM7SUFDekIsWUFBWSxFQUFFLFVBQUEsV0FBVztRQUN2QixXQUFXLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxFQUFFLHFDQUE2QixDQUFDLENBQUM7SUFDOUUsQ0FBQztDQUNGLENBQUMsRUFKd0IsQ0FJeEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEJ1aWxkSGFuZGxlckFyZ3VtZW50cyxcbiAgQnVpbGRIYW5kbGVyLFxuICBNZXRhZGF0YUJlYXJlcixcbiAgQnVpbGRIYW5kbGVyT3V0cHV0LFxuICBQbHVnZ2FibGUsXG4gIEJ1aWxkSGFuZGxlck9wdGlvbnNcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAYXdzLXNkay9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQgeyBVc2VyQWdlbnRSZXNvbHZlZENvbmZpZyB9IGZyb20gXCIuL2NvbmZpZ3VyYXRpb25zXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VyQWdlbnRNaWRkbGV3YXJlKG9wdGlvbnM6IFVzZXJBZ2VudFJlc29sdmVkQ29uZmlnKSB7XG4gIHJldHVybiA8T3V0cHV0IGV4dGVuZHMgTWV0YWRhdGFCZWFyZXI+KFxuICAgIG5leHQ6IEJ1aWxkSGFuZGxlcjxhbnksIGFueT5cbiAgKTogQnVpbGRIYW5kbGVyPGFueSwgYW55PiA9PiAoXG4gICAgYXJnczogQnVpbGRIYW5kbGVyQXJndW1lbnRzPGFueT5cbiAgKTogUHJvbWlzZTxCdWlsZEhhbmRsZXJPdXRwdXQ8T3V0cHV0Pj4gPT4ge1xuICAgIGxldCB7IHJlcXVlc3QgfSA9IGFyZ3M7XG4gICAgaWYgKCFIdHRwUmVxdWVzdC5pc0luc3RhbmNlKHJlcXVlc3QpKSByZXR1cm4gbmV4dChhcmdzKTtcbiAgICBjb25zdCB7IGhlYWRlcnMgfSA9IHJlcXVlc3Q7XG4gICAgY29uc3QgdXNlckFnZW50SGVhZGVyID1cbiAgICAgIG9wdGlvbnMucnVudGltZSA9PT0gXCJub2RlXCIgPyBcInVzZXItYWdlbnRcIiA6IFwieC1hbXotdXNlci1hZ2VudFwiO1xuICAgIGlmICghaGVhZGVyc1t1c2VyQWdlbnRIZWFkZXJdKSB7XG4gICAgICBoZWFkZXJzW3VzZXJBZ2VudEhlYWRlcl0gPSBgJHtvcHRpb25zLmRlZmF1bHRVc2VyQWdlbnR9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZGVyc1t1c2VyQWdlbnRIZWFkZXJdICs9IGAgJHtvcHRpb25zLmRlZmF1bHRVc2VyQWdlbnR9YDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuY3VzdG9tVXNlckFnZW50KSB7XG4gICAgICBoZWFkZXJzW3VzZXJBZ2VudEhlYWRlcl0gKz0gYCAke29wdGlvbnMuY3VzdG9tVXNlckFnZW50fWA7XG4gICAgfVxuICAgIHJldHVybiBuZXh0KHtcbiAgICAgIC4uLmFyZ3MsXG4gICAgICByZXF1ZXN0XG4gICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VyQWdlbnRNaWRkbGV3YXJlT3B0aW9uczogQnVpbGRIYW5kbGVyT3B0aW9ucyA9IHtcbiAgbmFtZTogXCJnZXRVc2VyQWdlbnRNaWRkbGV3YXJlXCIsXG4gIHN0ZXA6IFwiYnVpbGRcIixcbiAgdGFnczogW1wiU0VUX1VTRVJfQUdFTlRcIiwgXCJVU0VSX0FHRU5UXCJdXG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VXNlckFnZW50UGx1Z2luID0gKFxuICBjb25maWc6IFVzZXJBZ2VudFJlc29sdmVkQ29uZmlnXG4pOiBQbHVnZ2FibGU8YW55LCBhbnk+ID0+ICh7XG4gIGFwcGx5VG9TdGFjazogY2xpZW50U3RhY2sgPT4ge1xuICAgIGNsaWVudFN0YWNrLmFkZCh1c2VyQWdlbnRNaWRkbGV3YXJlKGNvbmZpZyksIGdldFVzZXJBZ2VudE1pZGRsZXdhcmVPcHRpb25zKTtcbiAgfVxufSk7XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar middleware_stack_1 = require(\"@aws-sdk/middleware-stack\");\nvar Client = /** @class */ (function () {\n    function Client(config) {\n        this.middlewareStack = new middleware_stack_1.MiddlewareStack();\n        this.config = config;\n    }\n    Client.prototype.send = function (command, optionsOrCb, cb) {\n        var options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        var callback = typeof optionsOrCb === \"function\"\n            ? optionsOrCb\n            : cb;\n        var handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then(function (result) { return callback(null, result.output); }, function (err) { return callback(err); })\n                .catch(\n            // prevent any errors thrown in the callback from triggering an\n            // unhandled promise rejection\n            function () { });\n        }\n        else {\n            return handler(command).then(function (result) { return result.output; });\n        }\n    };\n    return Client;\n}());\nexports.Client = Client;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NsaWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDhEQUE0RDtBQWlCNUQ7SUFVRSxnQkFBWSxNQUFtQztRQUZ4QyxvQkFBZSxHQUFHLElBQUksa0NBQWUsRUFBNkIsQ0FBQztRQUd4RSxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN2QixDQUFDO0lBZ0NELHFCQUFJLEdBQUosVUFDRSxPQU1DLEVBQ0QsV0FBc0UsRUFDdEUsRUFBMEM7UUFFMUMsSUFBTSxPQUFPLEdBQUcsT0FBTyxXQUFXLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztRQUM1RSxJQUFNLFFBQVEsR0FDWixPQUFPLFdBQVcsS0FBSyxVQUFVO1lBQy9CLENBQUMsQ0FBRSxXQUFxRDtZQUN4RCxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ1QsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUN2QyxJQUFJLENBQUMsZUFBc0IsRUFDM0IsSUFBSSxDQUFDLE1BQU0sRUFDWCxPQUFPLENBQ1IsQ0FBQztRQUNGLElBQUksUUFBUSxFQUFFO1lBQ1osT0FBTyxDQUFDLE9BQU8sQ0FBQztpQkFDYixJQUFJLENBQ0gsVUFBQSxNQUFNLElBQUksT0FBQSxRQUFRLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBN0IsQ0FBNkIsRUFDdkMsVUFBQyxHQUFRLElBQUssT0FBQSxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQWIsQ0FBYSxDQUM1QjtpQkFDQSxLQUFLO1lBQ0osK0RBQStEO1lBQy9ELDhCQUE4QjtZQUM5QixjQUFPLENBQUMsQ0FDVCxDQUFDO1NBQ0w7YUFBTTtZQUNMLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLE1BQU0sSUFBSSxPQUFBLE1BQU0sQ0FBQyxNQUFNLEVBQWIsQ0FBYSxDQUFDLENBQUM7U0FDdkQ7SUFDSCxDQUFDO0lBQ0gsYUFBQztBQUFELENBQUMsQUFoRkQsSUFnRkM7QUFoRlksd0JBQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNaWRkbGV3YXJlU3RhY2sgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1zdGFja1wiO1xuaW1wb3J0IHtcbiAgUmVxdWVzdEhhbmRsZXIsXG4gIE1ldGFkYXRhQmVhcmVyLFxuICBDb21tYW5kLFxuICBDbGllbnQgYXMgSUNsaWVudFxufSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBTbWl0aHlDb25maWd1cmF0aW9uPEhhbmRsZXJPcHRpb25zPiB7XG4gIHJlcXVlc3RIYW5kbGVyOiBSZXF1ZXN0SGFuZGxlcjxhbnksIGFueSwgSGFuZGxlck9wdGlvbnM+O1xuICByZWFkb25seSBhcGlWZXJzaW9uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIFNtaXRoeVJlc29sdmVkQ29uZmlndXJhdGlvbjxIYW5kbGVyT3B0aW9ucz4gPSBTbWl0aHlDb25maWd1cmF0aW9uPFxuICBIYW5kbGVyT3B0aW9uc1xuPjtcblxuZXhwb3J0IGNsYXNzIENsaWVudDxcbiAgSGFuZGxlck9wdGlvbnMsXG4gIENsaWVudElucHV0IGV4dGVuZHMgb2JqZWN0LFxuICBDbGllbnRPdXRwdXQgZXh0ZW5kcyBNZXRhZGF0YUJlYXJlcixcbiAgUmVzb2x2ZWRDbGllbnRDb25maWd1cmF0aW9uIGV4dGVuZHMgU21pdGh5UmVzb2x2ZWRDb25maWd1cmF0aW9uPFxuICAgIEhhbmRsZXJPcHRpb25zXG4gID5cbj4gaW1wbGVtZW50cyBJQ2xpZW50PENsaWVudElucHV0LCBDbGllbnRPdXRwdXQsIFJlc29sdmVkQ2xpZW50Q29uZmlndXJhdGlvbj4ge1xuICBwdWJsaWMgbWlkZGxld2FyZVN0YWNrID0gbmV3IE1pZGRsZXdhcmVTdGFjazxDbGllbnRJbnB1dCwgQ2xpZW50T3V0cHV0PigpO1xuICByZWFkb25seSBjb25maWc6IFJlc29sdmVkQ2xpZW50Q29uZmlndXJhdGlvbjtcbiAgY29uc3RydWN0b3IoY29uZmlnOiBSZXNvbHZlZENsaWVudENvbmZpZ3VyYXRpb24pIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuICBzZW5kPElucHV0VHlwZSBleHRlbmRzIENsaWVudElucHV0LCBPdXRwdXRUeXBlIGV4dGVuZHMgQ2xpZW50T3V0cHV0PihcbiAgICBjb21tYW5kOiBDb21tYW5kPFxuICAgICAgQ2xpZW50SW5wdXQsXG4gICAgICBJbnB1dFR5cGUsXG4gICAgICBDbGllbnRPdXRwdXQsXG4gICAgICBPdXRwdXRUeXBlLFxuICAgICAgU21pdGh5UmVzb2x2ZWRDb25maWd1cmF0aW9uPEhhbmRsZXJPcHRpb25zPlxuICAgID4sXG4gICAgb3B0aW9ucz86IEhhbmRsZXJPcHRpb25zXG4gICk6IFByb21pc2U8T3V0cHV0VHlwZT47XG4gIHNlbmQ8SW5wdXRUeXBlIGV4dGVuZHMgQ2xpZW50SW5wdXQsIE91dHB1dFR5cGUgZXh0ZW5kcyBDbGllbnRPdXRwdXQ+KFxuICAgIGNvbW1hbmQ6IENvbW1hbmQ8XG4gICAgICBDbGllbnRJbnB1dCxcbiAgICAgIElucHV0VHlwZSxcbiAgICAgIENsaWVudE91dHB1dCxcbiAgICAgIE91dHB1dFR5cGUsXG4gICAgICBTbWl0aHlSZXNvbHZlZENvbmZpZ3VyYXRpb248SGFuZGxlck9wdGlvbnM+XG4gICAgPixcbiAgICBjYjogKGVycjogYW55LCBkYXRhPzogT3V0cHV0VHlwZSkgPT4gdm9pZFxuICApOiB2b2lkO1xuICBzZW5kPElucHV0VHlwZSBleHRlbmRzIENsaWVudElucHV0LCBPdXRwdXRUeXBlIGV4dGVuZHMgQ2xpZW50T3V0cHV0PihcbiAgICBjb21tYW5kOiBDb21tYW5kPFxuICAgICAgQ2xpZW50SW5wdXQsXG4gICAgICBJbnB1dFR5cGUsXG4gICAgICBDbGllbnRPdXRwdXQsXG4gICAgICBPdXRwdXRUeXBlLFxuICAgICAgU21pdGh5UmVzb2x2ZWRDb25maWd1cmF0aW9uPEhhbmRsZXJPcHRpb25zPlxuICAgID4sXG4gICAgb3B0aW9uczogSGFuZGxlck9wdGlvbnMsXG4gICAgY2I6IChlcnI6IGFueSwgZGF0YT86IE91dHB1dFR5cGUpID0+IHZvaWRcbiAgKTogdm9pZDtcbiAgc2VuZDxJbnB1dFR5cGUgZXh0ZW5kcyBDbGllbnRJbnB1dCwgT3V0cHV0VHlwZSBleHRlbmRzIENsaWVudE91dHB1dD4oXG4gICAgY29tbWFuZDogQ29tbWFuZDxcbiAgICAgIENsaWVudElucHV0LFxuICAgICAgSW5wdXRUeXBlLFxuICAgICAgQ2xpZW50T3V0cHV0LFxuICAgICAgT3V0cHV0VHlwZSxcbiAgICAgIFNtaXRoeVJlc29sdmVkQ29uZmlndXJhdGlvbjxIYW5kbGVyT3B0aW9ucz5cbiAgICA+LFxuICAgIG9wdGlvbnNPckNiPzogSGFuZGxlck9wdGlvbnMgfCAoKGVycjogYW55LCBkYXRhPzogT3V0cHV0VHlwZSkgPT4gdm9pZCksXG4gICAgY2I/OiAoZXJyOiBhbnksIGRhdGE/OiBPdXRwdXRUeXBlKSA9PiB2b2lkXG4gICk6IFByb21pc2U8T3V0cHV0VHlwZT4gfCB2b2lkIHtcbiAgICBjb25zdCBvcHRpb25zID0gdHlwZW9mIG9wdGlvbnNPckNiICE9PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zT3JDYiA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBjYWxsYmFjayA9XG4gICAgICB0eXBlb2Ygb3B0aW9uc09yQ2IgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICA/IChvcHRpb25zT3JDYiBhcyAoZXJyOiBhbnksIGRhdGE/OiBPdXRwdXRUeXBlKSA9PiB2b2lkKVxuICAgICAgICA6IGNiO1xuICAgIGNvbnN0IGhhbmRsZXIgPSBjb21tYW5kLnJlc29sdmVNaWRkbGV3YXJlKFxuICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sgYXMgYW55LFxuICAgICAgdGhpcy5jb25maWcsXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGhhbmRsZXIoY29tbWFuZClcbiAgICAgICAgLnRoZW4oXG4gICAgICAgICAgcmVzdWx0ID0+IGNhbGxiYWNrKG51bGwsIHJlc3VsdC5vdXRwdXQpLFxuICAgICAgICAgIChlcnI6IGFueSkgPT4gY2FsbGJhY2soZXJyKVxuICAgICAgICApXG4gICAgICAgIC5jYXRjaChcbiAgICAgICAgICAvLyBwcmV2ZW50IGFueSBlcnJvcnMgdGhyb3duIGluIHRoZSBjYWxsYmFjayBmcm9tIHRyaWdnZXJpbmcgYW5cbiAgICAgICAgICAvLyB1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25cbiAgICAgICAgICAoKSA9PiB7fVxuICAgICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaGFuZGxlcihjb21tYW5kKS50aGVuKHJlc3VsdCA9PiByZXN1bHQub3V0cHV0KTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar MiddlewareStack = /** @class */ (function () {\n    function MiddlewareStack() {\n        this.absoluteEntries = [];\n        this.relativeEntries = [];\n        this.entriesNameMap = {};\n    }\n    MiddlewareStack.prototype.add = function (middleware, options) {\n        if (options === void 0) { options = {}; }\n        var name = options.name, _a = options.step, step = _a === void 0 ? \"initialize\" : _a, tags = options.tags, _b = options.priority, priority = _b === void 0 ? \"normal\" : _b;\n        var entry = {\n            name: name,\n            step: step,\n            tags: tags,\n            priority: priority,\n            middleware: middleware\n        };\n        if (name) {\n            if (Object.prototype.hasOwnProperty.call(this.entriesNameMap, name)) {\n                throw new Error(\"Duplicated middleware name '\" + name + \"'\");\n            }\n            this.entriesNameMap[name] = entry;\n        }\n        this.absoluteEntries.push(entry);\n    };\n    MiddlewareStack.prototype.addRelativeTo = function (middleware, options) {\n        var _a = options.step, step = _a === void 0 ? \"initialize\" : _a, name = options.name, tags = options.tags, relation = options.relation, toMiddleware = options.toMiddleware;\n        var entry = {\n            middleware: middleware,\n            step: step,\n            name: name,\n            tags: tags,\n            next: relation === \"before\" ? toMiddleware : undefined,\n            prev: relation === \"after\" ? toMiddleware : undefined\n        };\n        if (name) {\n            if (Object.prototype.hasOwnProperty.call(this.entriesNameMap, name)) {\n                throw new Error(\"Duplicated middleware name '\" + name + \"'\");\n            }\n            this.entriesNameMap[name] = entry;\n        }\n        this.relativeEntries.push(entry);\n    };\n    MiddlewareStack.prototype.sort = function (entries) {\n        //reverse before sorting so that middleware of same step will execute in\n        //the order of being added\n        return entries.sort(function (a, b) {\n            return stepWeights[b.step] - stepWeights[a.step] ||\n                priorityWeights[b.priority || \"normal\"] -\n                    priorityWeights[a.priority || \"normal\"];\n        });\n    };\n    MiddlewareStack.prototype.clone = function () {\n        var _a, _b;\n        var clone = new MiddlewareStack();\n        (_a = clone.absoluteEntries).push.apply(_a, this.absoluteEntries);\n        (_b = clone.relativeEntries).push.apply(_b, this.relativeEntries);\n        clone.entriesNameMap = tslib_1.__assign({}, this.entriesNameMap);\n        return clone;\n    };\n    MiddlewareStack.prototype.concat = function (from) {\n        var _a, _b;\n        var clone = new MiddlewareStack();\n        clone.entriesNameMap = tslib_1.__assign({}, this.entriesNameMap);\n        // IMiddlewareStack interface doesn't contain private members variables\n        // like `entriesNameMap`, but in fact the function expects `MiddlewareStack`\n        // class instance. So here we cast it.\n        var _from = from;\n        for (var name in _from.entriesNameMap) {\n            if (clone.entriesNameMap[name]) {\n                throw new Error(\"Duplicated middleware name '\" + name + \"'\");\n            }\n            clone.entriesNameMap[name] = _from.entriesNameMap[name];\n        }\n        (_a = clone.absoluteEntries).push.apply(_a, tslib_1.__spreadArrays(this.absoluteEntries, _from.absoluteEntries));\n        (_b = clone.relativeEntries).push.apply(_b, tslib_1.__spreadArrays(this.relativeEntries, _from.relativeEntries));\n        return clone;\n    };\n    MiddlewareStack.prototype.remove = function (toRemove) {\n        if (typeof toRemove === \"string\")\n            return this.removeByName(toRemove);\n        else\n            return this.removeByReference(toRemove);\n    };\n    MiddlewareStack.prototype.removeByName = function (toRemove) {\n        for (var i = this.absoluteEntries.length - 1; i >= 0; i--) {\n            if (this.absoluteEntries[i].name &&\n                this.absoluteEntries[i].name === toRemove) {\n                this.absoluteEntries.splice(i, 1);\n                delete this.entriesNameMap[toRemove];\n                return true;\n            }\n        }\n        for (var i = this.relativeEntries.length - 1; i >= 0; i--) {\n            if (this.relativeEntries[i].name &&\n                this.relativeEntries[i].name === toRemove) {\n                this.relativeEntries.splice(i, 1);\n                delete this.entriesNameMap[toRemove];\n                return true;\n            }\n        }\n        return false;\n    };\n    MiddlewareStack.prototype.removeByReference = function (toRemove) {\n        for (var i = this.absoluteEntries.length - 1; i >= 0; i--) {\n            if (this.absoluteEntries[i].middleware === toRemove) {\n                var name = this.absoluteEntries[i].name;\n                if (name)\n                    delete this.entriesNameMap[name];\n                this.absoluteEntries.splice(i, 1);\n                return true;\n            }\n        }\n        for (var i = this.relativeEntries.length - 1; i >= 0; i--) {\n            if (this.relativeEntries[i].middleware === toRemove) {\n                var name = this.relativeEntries[i].name;\n                if (name)\n                    delete this.entriesNameMap[name];\n                this.relativeEntries.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    MiddlewareStack.prototype.removeByTag = function (toRemove) {\n        var removed = false;\n        for (var i = this.absoluteEntries.length - 1; i >= 0; i--) {\n            var _a = this.absoluteEntries[i], tags = _a.tags, name = _a.name;\n            if (tags && tags.indexOf(toRemove) > -1) {\n                this.absoluteEntries.splice(i, 1);\n                if (name)\n                    delete this.entriesNameMap[name];\n                removed = true;\n            }\n        }\n        for (var i = this.relativeEntries.length - 1; i >= 0; i--) {\n            var _b = this.relativeEntries[i], tags = _b.tags, name = _b.name;\n            if (tags && tags.indexOf(toRemove) > -1) {\n                this.relativeEntries.splice(i, 1);\n                if (name)\n                    delete this.entriesNameMap[name];\n                removed = true;\n            }\n        }\n        return removed;\n    };\n    MiddlewareStack.prototype.use = function (plugin) {\n        plugin.applyToStack(this);\n    };\n    /**\n     * Resolve relative middleware entries to multiple double linked lists\n     * depicting the relative location of middleware. Only middleware that have\n     * direct or transitive relation will form a linked list.\n     *\n     * This function normalizes relative middleware into 2 categories of linked\n     * lists. (1) linked list that have absolute-located middleware on one end.\n     * These middleware will be resolved accordingly before or after the absolute-\n     * located middleware. (2) Linked list that have no absolute-located middleware\n     * on any end. They will be resolved to corresponding step with normal priority\n     *\n     * The 2 types of linked list will return as a tuple\n     */\n    MiddlewareStack.prototype.normalizeRelativeEntries = function () {\n        var absoluteMiddlewareNamesMap = this.absoluteEntries\n            .filter(function (entry) { return entry.name; })\n            .reduce(function (accumulator, entry) {\n            accumulator[entry.name] = entry;\n            return accumulator;\n        }, {});\n        var normalized = this.relativeEntries.map(function (entry) {\n            return (tslib_1.__assign(tslib_1.__assign({}, entry), { priority: null, next: undefined, prev: undefined }));\n        });\n        var relativeMiddlewareNamesMap = normalized\n            .filter(function (entry) { return entry.name; })\n            .reduce(function (accumulator, entry) {\n            accumulator[entry.name] = entry;\n            return accumulator;\n        }, {});\n        var anchors = {};\n        for (var i = 0; i < this.relativeEntries.length; i++) {\n            var _a = this.relativeEntries[i], prev = _a.prev, next = _a.next;\n            var resolvedCurr = normalized[i];\n            //either prev or next is set\n            if (prev) {\n                if (absoluteMiddlewareNamesMap[prev] &&\n                    absoluteMiddlewareNamesMap[prev].step === resolvedCurr.step) {\n                    if (!anchors[prev])\n                        anchors[prev] = {};\n                    resolvedCurr.next = anchors[prev].next;\n                    if (anchors[prev].next)\n                        anchors[prev].next.prev = resolvedCurr;\n                    anchors[prev].next = resolvedCurr;\n                }\n                else if (relativeMiddlewareNamesMap[prev] &&\n                    relativeMiddlewareNamesMap[prev].step === resolvedCurr.step) {\n                    var resolvedPrev = relativeMiddlewareNamesMap[prev];\n                    if (resolvedPrev.next === resolvedCurr)\n                        continue;\n                    resolvedCurr.next = resolvedPrev.next;\n                    resolvedPrev.next = resolvedCurr;\n                    if (resolvedCurr.next)\n                        resolvedCurr.next.prev = resolvedCurr;\n                    resolvedCurr.prev = resolvedPrev;\n                }\n            }\n            else if (next) {\n                if (absoluteMiddlewareNamesMap[next] &&\n                    absoluteMiddlewareNamesMap[next].step === resolvedCurr.step) {\n                    if (!anchors[next])\n                        anchors[next] = {};\n                    resolvedCurr.prev = anchors[next].prev;\n                    if (anchors[next].prev)\n                        anchors[next].prev.next = resolvedCurr;\n                    anchors[next].prev = resolvedCurr;\n                }\n                else if (relativeMiddlewareNamesMap[next] &&\n                    relativeMiddlewareNamesMap[next].step === resolvedCurr.step) {\n                    var resolvedNext = relativeMiddlewareNamesMap[next];\n                    if (resolvedNext.prev === resolvedCurr)\n                        continue;\n                    resolvedCurr.prev = resolvedNext.prev;\n                    resolvedNext.prev = resolvedCurr;\n                    if (resolvedCurr.prev)\n                        resolvedCurr.prev.next = resolvedCurr;\n                    resolvedCurr.next = resolvedNext;\n                }\n            }\n        }\n        // get the head of the relative middleware linked list that have\n        // no transitive relation to absolute middleware.\n        var orphanedRelativeEntries = [];\n        var visited = new WeakSet();\n        for (var _i = 0, _b = Object.keys(anchors); _i < _b.length; _i++) {\n            var anchorName = _b[_i];\n            var _c = anchors[anchorName], prev = _c.prev, next = _c.next;\n            while (prev) {\n                visited.add(prev);\n                prev = prev.prev;\n            }\n            while (next) {\n                visited.add(next);\n                next = next.next;\n            }\n        }\n        for (var i = 0; i < normalized.length; i++) {\n            var entry = normalized[i];\n            if (visited.has(entry))\n                continue;\n            if (!entry.prev)\n                orphanedRelativeEntries.push(entry);\n            while (entry && !visited.has(entry)) {\n                visited.add(entry);\n                entry = entry.next;\n            }\n        }\n        return [orphanedRelativeEntries, anchors];\n    };\n    /**\n     * Get a final list of middleware in the order of being executed in the resolved handler.\n     * If relative entries list is not empty, those entries will be added to final middleware\n     * list with rules below:\n     * 1. if `toMiddleware` exists in the specific `step`, the middleware will be inserted before\n     *     or after the specified `toMiddleware`\n     * 2. if `toMiddleware` doesn't exist in the specific `step`, the middleware will be appended\n     *     to specific `step` with priority of `normal`\n     */\n    MiddlewareStack.prototype.geMiddlewareList = function () {\n        var middlewareList = [];\n        var _a = this.normalizeRelativeEntries(), orphanedRelativeEntries = _a[0], anchors = _a[1];\n        var entryList = tslib_1.__spreadArrays(this.absoluteEntries, orphanedRelativeEntries);\n        entryList = this.sort(entryList);\n        for (var _i = 0, entryList_1 = entryList; _i < entryList_1.length; _i++) {\n            var entry = entryList_1[_i];\n            var defaultAnchorValue = { prev: undefined, next: undefined };\n            var _b = entry.name\n                ? anchors[entry.name] || defaultAnchorValue\n                : defaultAnchorValue, prev = _b.prev, next = _b.next;\n            var relativeEntry = prev;\n            //reverse relative entry linked list and add to ordered handler list\n            while (relativeEntry === null || relativeEntry === void 0 ? void 0 : relativeEntry.prev) {\n                relativeEntry = relativeEntry.prev;\n            }\n            while (relativeEntry) {\n                middlewareList.push(relativeEntry.middleware);\n                relativeEntry = relativeEntry.next;\n            }\n            middlewareList.push(entry.middleware);\n            var orphanedEntry = entry;\n            while (orphanedEntry.next) {\n                middlewareList.push(orphanedEntry.next.middleware);\n                orphanedEntry = orphanedEntry.next;\n            }\n            relativeEntry = next;\n            while (relativeEntry) {\n                middlewareList.push(relativeEntry.middleware);\n                relativeEntry = relativeEntry.next;\n            }\n        }\n        return middlewareList.reverse();\n    };\n    MiddlewareStack.prototype.resolve = function (handler, context) {\n        for (var _i = 0, _a = this.geMiddlewareList(); _i < _a.length; _i++) {\n            var middleware = _a[_i];\n            handler = middleware(handler, context);\n        }\n        return handler;\n    };\n    return MiddlewareStack;\n}());\nexports.MiddlewareStack = MiddlewareStack;\nvar stepWeights = {\n    initialize: 5,\n    serialize: 4,\n    build: 3,\n    finalizeRequest: 2,\n    deserialize: 1\n};\nvar priorityWeights = {\n    high: 3,\n    normal: 2,\n    low: 1\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWlkZGxld2FyZVN0YWNrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL01pZGRsZXdhcmVTdGFjay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFvQ0E7SUFBQTtRQUNtQixvQkFBZSxHQUEwQyxFQUFFLENBQUM7UUFDNUQsb0JBQWUsR0FFNUIsRUFBRSxDQUFDO1FBQ0MsbUJBQWMsR0FJbEIsRUFBRSxDQUFDO0lBeVlULENBQUM7SUE5V0MsNkJBQUcsR0FBSCxVQUNFLFVBQXlDLEVBQ3pDLE9BQStDO1FBQS9DLHdCQUFBLEVBQUEsWUFBK0M7UUFFdkMsSUFBQSxtQkFBSSxFQUFFLGlCQUFtQixFQUFuQix3Q0FBbUIsRUFBRSxtQkFBSSxFQUFFLHFCQUFtQixFQUFuQix3Q0FBbUIsQ0FBYTtRQUN6RSxJQUFNLEtBQUssR0FBbUM7WUFDNUMsSUFBSSxNQUFBO1lBQ0osSUFBSSxNQUFBO1lBQ0osSUFBSSxNQUFBO1lBQ0osUUFBUSxVQUFBO1lBQ1IsVUFBVSxZQUFBO1NBQ1gsQ0FBQztRQUNGLElBQUksSUFBSSxFQUFFO1lBQ1IsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsRUFBRTtnQkFDbkUsTUFBTSxJQUFJLEtBQUssQ0FBQyxpQ0FBK0IsSUFBSSxNQUFHLENBQUMsQ0FBQzthQUN6RDtZQUNELElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO1NBQ25DO1FBQ0QsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQTJCRCx1Q0FBYSxHQUFiLFVBQ0UsVUFBeUMsRUFDekMsT0FBeUQ7UUFFakQsSUFBQSxpQkFBbUIsRUFBbkIsd0NBQW1CLEVBQUUsbUJBQUksRUFBRSxtQkFBSSxFQUFFLDJCQUFRLEVBQUUsbUNBQVksQ0FBYTtRQUM1RSxJQUFNLEtBQUss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QkFBZ0IsRUFBRSxFQUF2QixjQUF1QixFQUF2QixJQUF1QixFQUFFO1lBQTdDLElBQU0sVUFBVSxTQUFBO1lBQ25CLE9BQU8sR0FBRyxVQUFVLENBQ2xCLE9BQXFDLEVBQ3JDLE9BQU8sQ0FDRCxDQUFDO1NBQ1Y7UUFFRCxPQUFPLE9BQXlDLENBQUM7SUFDbkQsQ0FBQztJQUNILHNCQUFDO0FBQUQsQ0FBQyxBQWxaRCxJQWtaQztBQWxaWSwwQ0FBZTtBQW9aNUIsSUFBTSxXQUFXLEdBQThCO0lBQzdDLFVBQVUsRUFBRSxDQUFDO0lBQ2IsU0FBUyxFQUFFLENBQUM7SUFDWixLQUFLLEVBQUUsQ0FBQztJQUNSLGVBQWUsRUFBRSxDQUFDO0lBQ2xCLFdBQVcsRUFBRSxDQUFDO0NBQ2YsQ0FBQztBQUVGLElBQU0sZUFBZSxHQUFrQztJQUNyRCxJQUFJLEVBQUUsQ0FBQztJQUNQLE1BQU0sRUFBRSxDQUFDO0lBQ1QsR0FBRyxFQUFFLENBQUM7Q0FDUCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgSW5pdGlhbGl6ZUhhbmRsZXJPcHRpb25zLFxuICBCdWlsZEhhbmRsZXJPcHRpb25zLFxuICBGaW5hbGl6ZVJlcXVlc3RIYW5kbGVyT3B0aW9ucyxcbiAgTWlkZGxld2FyZVR5cGUsXG4gIFNlcmlhbGl6ZU1pZGRsZXdhcmUsXG4gIEZpbmFsaXplUmVxdWVzdE1pZGRsZXdhcmUsXG4gIEhhbmRsZXJFeGVjdXRpb25Db250ZXh0LFxuICBIYW5kbGVyT3B0aW9ucyxcbiAgSW5pdGlhbGl6ZU1pZGRsZXdhcmUsXG4gIE1pZGRsZXdhcmVTdGFjayBhcyBJTWlkZGxld2FyZVN0YWNrLFxuICBTZXJpYWxpemVIYW5kbGVyT3B0aW9ucyxcbiAgU3RlcCxcbiAgRGVzZXJpYWxpemVNaWRkbGV3YXJlLFxuICBEZXNlcmlhbGl6ZUhhbmRsZXJPcHRpb25zLFxuICBEZXNlcmlhbGl6ZUhhbmRsZXIsXG4gIFBsdWdnYWJsZSxcbiAgQnVpbGRNaWRkbGV3YXJlLFxuICBIYW5kbGVyLFxuICBQcmlvcml0eSxcbiAgQWJzb2x1dGVMb2NhdGlvbixcbiAgUmVsYXRpdmVMb2NhdGlvblxufSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcbmltcG9ydCB7XG4gIE1pZGRsZXdhcmVFbnRyeSxcbiAgUmVsYXRpdmVNaWRkbGV3YXJlRW50cnksXG4gIE5vcm1hbGl6ZWRSZWxhdGl2ZUVudHJ5LFxuICBOYW1lZE1pZGRsZXdhcmVFbnRyaWVzTWFwLFxuICBOYW1lZFJlbGF0aXZlRW50cmllc01hcCxcbiAgUmVsYXRpdmVNaWRkbGV3YXJlQW5jaG9yLFxuICBOb3JtYWxpemluZ0VudHJ5UmVzdWx0XG59IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlkZGxld2FyZVN0YWNrPElucHV0IGV4dGVuZHMgb2JqZWN0LCBPdXRwdXQgZXh0ZW5kcyBvYmplY3Q+XG4gIGV4dGVuZHMgSU1pZGRsZXdhcmVTdGFjazxJbnB1dCwgT3V0cHV0PiB7fVxuXG5leHBvcnQgY2xhc3MgTWlkZGxld2FyZVN0YWNrPElucHV0IGV4dGVuZHMgb2JqZWN0LCBPdXRwdXQgZXh0ZW5kcyBvYmplY3Q+IHtcbiAgcHJpdmF0ZSByZWFkb25seSBhYnNvbHV0ZUVudHJpZXM6IEFycmF5PE1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0Pj4gPSBbXTtcbiAgcHJpdmF0ZSByZWFkb25seSByZWxhdGl2ZUVudHJpZXM6IEFycmF5PFxuICAgIFJlbGF0aXZlTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+XG4gID4gPSBbXTtcbiAgcHJpdmF0ZSBlbnRyaWVzTmFtZU1hcDoge1xuICAgIFttaWRkbGV3YXJlTmFtZTogc3RyaW5nXTpcbiAgICAgIHwgTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+XG4gICAgICB8IFJlbGF0aXZlTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+O1xuICB9ID0ge307XG5cbiAgYWRkKFxuICAgIG1pZGRsZXdhcmU6IEluaXRpYWxpemVNaWRkbGV3YXJlPElucHV0LCBPdXRwdXQ+LFxuICAgIG9wdGlvbnM/OiBJbml0aWFsaXplSGFuZGxlck9wdGlvbnMgJiBBYnNvbHV0ZUxvY2F0aW9uXG4gICk6IHZvaWQ7XG5cbiAgYWRkKFxuICAgIG1pZGRsZXdhcmU6IFNlcmlhbGl6ZU1pZGRsZXdhcmU8SW5wdXQsIE91dHB1dD4sXG4gICAgb3B0aW9uczogU2VyaWFsaXplSGFuZGxlck9wdGlvbnMgJiBBYnNvbHV0ZUxvY2F0aW9uXG4gICk6IHZvaWQ7XG5cbiAgYWRkKFxuICAgIG1pZGRsZXdhcmU6IEJ1aWxkTWlkZGxld2FyZTxJbnB1dCwgT3V0cHV0PixcbiAgICBvcHRpb25zOiBCdWlsZEhhbmRsZXJPcHRpb25zICYgQWJzb2x1dGVMb2NhdGlvblxuICApOiB2b2lkO1xuXG4gIGFkZChcbiAgICBtaWRkbGV3YXJlOiBGaW5hbGl6ZVJlcXVlc3RNaWRkbGV3YXJlPElucHV0LCBPdXRwdXQ+LFxuICAgIG9wdGlvbnM6IEZpbmFsaXplUmVxdWVzdEhhbmRsZXJPcHRpb25zICYgQWJzb2x1dGVMb2NhdGlvblxuICApOiB2b2lkO1xuXG4gIGFkZChcbiAgICBtaWRkbGV3YXJlOiBEZXNlcmlhbGl6ZU1pZGRsZXdhcmU8SW5wdXQsIE91dHB1dD4sXG4gICAgb3B0aW9uczogRGVzZXJpYWxpemVIYW5kbGVyT3B0aW9ucyAmIEFic29sdXRlTG9jYXRpb25cbiAgKTogdm9pZDtcblxuICBhZGQoXG4gICAgbWlkZGxld2FyZTogTWlkZGxld2FyZVR5cGU8SW5wdXQsIE91dHB1dD4sXG4gICAgb3B0aW9uczogSGFuZGxlck9wdGlvbnMgJiBBYnNvbHV0ZUxvY2F0aW9uID0ge31cbiAgKTogdm9pZCB7XG4gICAgY29uc3QgeyBuYW1lLCBzdGVwID0gXCJpbml0aWFsaXplXCIsIHRhZ3MsIHByaW9yaXR5ID0gXCJub3JtYWxcIiB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBlbnRyeTogTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+ID0ge1xuICAgICAgbmFtZSxcbiAgICAgIHN0ZXAsXG4gICAgICB0YWdzLFxuICAgICAgcHJpb3JpdHksXG4gICAgICBtaWRkbGV3YXJlXG4gICAgfTtcbiAgICBpZiAobmFtZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmVudHJpZXNOYW1lTWFwLCBuYW1lKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZWQgbWlkZGxld2FyZSBuYW1lICcke25hbWV9J2ApO1xuICAgICAgfVxuICAgICAgdGhpcy5lbnRyaWVzTmFtZU1hcFtuYW1lXSA9IGVudHJ5O1xuICAgIH1cbiAgICB0aGlzLmFic29sdXRlRW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfVxuXG4gIGFkZFJlbGF0aXZlVG8oXG4gICAgbWlkZGxld2FyZTogSW5pdGlhbGl6ZU1pZGRsZXdhcmU8SW5wdXQsIE91dHB1dD4sXG4gICAgb3B0aW9uczogSW5pdGlhbGl6ZUhhbmRsZXJPcHRpb25zICYgUmVsYXRpdmVMb2NhdGlvbjxJbnB1dCwgT3V0cHV0PlxuICApOiB2b2lkO1xuXG4gIGFkZFJlbGF0aXZlVG8oXG4gICAgbWlkZGxld2FyZTogU2VyaWFsaXplTWlkZGxld2FyZTxJbnB1dCwgT3V0cHV0PixcbiAgICBvcHRpb25zOiBTZXJpYWxpemVIYW5kbGVyT3B0aW9ucyAmIFJlbGF0aXZlTG9jYXRpb248SW5wdXQsIE91dHB1dD5cbiAgKTogdm9pZDtcblxuICBhZGRSZWxhdGl2ZVRvKFxuICAgIG1pZGRsZXdhcmU6IEJ1aWxkTWlkZGxld2FyZTxJbnB1dCwgT3V0cHV0PixcbiAgICBvcHRpb25zOiBCdWlsZEhhbmRsZXJPcHRpb25zICYgUmVsYXRpdmVMb2NhdGlvbjxJbnB1dCwgT3V0cHV0PlxuICApOiB2b2lkO1xuXG4gIGFkZFJlbGF0aXZlVG8oXG4gICAgbWlkZGxld2FyZTogRmluYWxpemVSZXF1ZXN0TWlkZGxld2FyZTxJbnB1dCwgT3V0cHV0PixcbiAgICBvcHRpb25zOiBGaW5hbGl6ZVJlcXVlc3RIYW5kbGVyT3B0aW9ucyAmIFJlbGF0aXZlTG9jYXRpb248SW5wdXQsIE91dHB1dD5cbiAgKTogdm9pZDtcblxuICBhZGRSZWxhdGl2ZVRvKFxuICAgIG1pZGRsZXdhcmU6IERlc2VyaWFsaXplTWlkZGxld2FyZTxJbnB1dCwgT3V0cHV0PixcbiAgICBvcHRpb25zOiBEZXNlcmlhbGl6ZUhhbmRsZXJPcHRpb25zICYgUmVsYXRpdmVMb2NhdGlvbjxJbnB1dCwgT3V0cHV0PlxuICApOiB2b2lkO1xuXG4gIGFkZFJlbGF0aXZlVG8oXG4gICAgbWlkZGxld2FyZTogTWlkZGxld2FyZVR5cGU8SW5wdXQsIE91dHB1dD4sXG4gICAgb3B0aW9uczogSGFuZGxlck9wdGlvbnMgJiBSZWxhdGl2ZUxvY2F0aW9uPElucHV0LCBPdXRwdXQ+XG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHsgc3RlcCA9IFwiaW5pdGlhbGl6ZVwiLCBuYW1lLCB0YWdzLCByZWxhdGlvbiwgdG9NaWRkbGV3YXJlIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGVudHJ5OiBSZWxhdGl2ZU1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0PiA9IHtcbiAgICAgIG1pZGRsZXdhcmUsXG4gICAgICBzdGVwLFxuICAgICAgbmFtZSxcbiAgICAgIHRhZ3MsXG4gICAgICBuZXh0OiByZWxhdGlvbiA9PT0gXCJiZWZvcmVcIiA/IHRvTWlkZGxld2FyZSA6IHVuZGVmaW5lZCxcbiAgICAgIHByZXY6IHJlbGF0aW9uID09PSBcImFmdGVyXCIgPyB0b01pZGRsZXdhcmUgOiB1bmRlZmluZWRcbiAgICB9O1xuICAgIGlmIChuYW1lKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuZW50cmllc05hbWVNYXAsIG5hbWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRHVwbGljYXRlZCBtaWRkbGV3YXJlIG5hbWUgJyR7bmFtZX0nYCk7XG4gICAgICB9XG4gICAgICB0aGlzLmVudHJpZXNOYW1lTWFwW25hbWVdID0gZW50cnk7XG4gICAgfVxuICAgIHRoaXMucmVsYXRpdmVFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgcHJpdmF0ZSBzb3J0KFxuICAgIGVudHJpZXM6IEFycmF5PFxuICAgICAgTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+IHwgTm9ybWFsaXplZFJlbGF0aXZlRW50cnk8SW5wdXQsIE91dHB1dD5cbiAgICA+XG4gICk6IEFycmF5PFxuICAgIE1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0PiB8IE5vcm1hbGl6ZWRSZWxhdGl2ZUVudHJ5PElucHV0LCBPdXRwdXQ+XG4gID4ge1xuICAgIC8vcmV2ZXJzZSBiZWZvcmUgc29ydGluZyBzbyB0aGF0IG1pZGRsZXdhcmUgb2Ygc2FtZSBzdGVwIHdpbGwgZXhlY3V0ZSBpblxuICAgIC8vdGhlIG9yZGVyIG9mIGJlaW5nIGFkZGVkXG4gICAgcmV0dXJuIGVudHJpZXMuc29ydChcbiAgICAgIChhLCBiKSA9PlxuICAgICAgICBzdGVwV2VpZ2h0c1tiLnN0ZXBdIC0gc3RlcFdlaWdodHNbYS5zdGVwXSB8fFxuICAgICAgICBwcmlvcml0eVdlaWdodHNbYi5wcmlvcml0eSB8fCBcIm5vcm1hbFwiXSAtXG4gICAgICAgICAgcHJpb3JpdHlXZWlnaHRzW2EucHJpb3JpdHkgfHwgXCJub3JtYWxcIl1cbiAgICApO1xuICB9XG5cbiAgY2xvbmUoKTogSU1pZGRsZXdhcmVTdGFjazxJbnB1dCwgT3V0cHV0PiB7XG4gICAgY29uc3QgY2xvbmUgPSBuZXcgTWlkZGxld2FyZVN0YWNrPElucHV0LCBPdXRwdXQ+KCk7XG4gICAgY2xvbmUuYWJzb2x1dGVFbnRyaWVzLnB1c2goLi4udGhpcy5hYnNvbHV0ZUVudHJpZXMpO1xuICAgIGNsb25lLnJlbGF0aXZlRW50cmllcy5wdXNoKC4uLnRoaXMucmVsYXRpdmVFbnRyaWVzKTtcbiAgICBjbG9uZS5lbnRyaWVzTmFtZU1hcCA9IHsgLi4udGhpcy5lbnRyaWVzTmFtZU1hcCB9O1xuICAgIHJldHVybiBjbG9uZTtcbiAgfVxuXG4gIGNvbmNhdDxJbnB1dFR5cGUgZXh0ZW5kcyBJbnB1dCwgT3V0cHV0VHlwZSBleHRlbmRzIE91dHB1dD4oXG4gICAgZnJvbTogSU1pZGRsZXdhcmVTdGFjazxJbnB1dFR5cGUsIE91dHB1dFR5cGU+XG4gICk6IE1pZGRsZXdhcmVTdGFjazxJbnB1dFR5cGUsIE91dHB1dFR5cGU+IHtcbiAgICBjb25zdCBjbG9uZSA9IG5ldyBNaWRkbGV3YXJlU3RhY2s8SW5wdXRUeXBlLCBPdXRwdXRUeXBlPigpO1xuICAgIGNsb25lLmVudHJpZXNOYW1lTWFwID0geyAuLi4odGhpcy5lbnRyaWVzTmFtZU1hcCBhcyBhbnkpIH07XG4gICAgLy8gSU1pZGRsZXdhcmVTdGFjayBpbnRlcmZhY2UgZG9lc24ndCBjb250YWluIHByaXZhdGUgbWVtYmVycyB2YXJpYWJsZXNcbiAgICAvLyBsaWtlIGBlbnRyaWVzTmFtZU1hcGAsIGJ1dCBpbiBmYWN0IHRoZSBmdW5jdGlvbiBleHBlY3RzIGBNaWRkbGV3YXJlU3RhY2tgXG4gICAgLy8gY2xhc3MgaW5zdGFuY2UuIFNvIGhlcmUgd2UgY2FzdCBpdC5cbiAgICBjb25zdCBfZnJvbSA9IGZyb20gYXMgTWlkZGxld2FyZVN0YWNrPElucHV0VHlwZSwgT3V0cHV0VHlwZT47XG4gICAgZm9yIChjb25zdCBuYW1lIGluIF9mcm9tLmVudHJpZXNOYW1lTWFwKSB7XG4gICAgICBpZiAoY2xvbmUuZW50cmllc05hbWVNYXBbbmFtZV0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGVkIG1pZGRsZXdhcmUgbmFtZSAnJHtuYW1lfSdgKTtcbiAgICAgIH1cbiAgICAgIGNsb25lLmVudHJpZXNOYW1lTWFwW25hbWVdID0gX2Zyb20uZW50cmllc05hbWVNYXBbbmFtZV07XG4gICAgfVxuICAgIGNsb25lLmFic29sdXRlRW50cmllcy5wdXNoKFxuICAgICAgLi4uKHRoaXMuYWJzb2x1dGVFbnRyaWVzIGFzIGFueSksXG4gICAgICAuLi5fZnJvbS5hYnNvbHV0ZUVudHJpZXNcbiAgICApO1xuICAgIGNsb25lLnJlbGF0aXZlRW50cmllcy5wdXNoKFxuICAgICAgLi4uKHRoaXMucmVsYXRpdmVFbnRyaWVzIGFzIGFueSksXG4gICAgICAuLi5fZnJvbS5yZWxhdGl2ZUVudHJpZXNcbiAgICApO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfVxuXG4gIHJlbW92ZSh0b1JlbW92ZTogTWlkZGxld2FyZVR5cGU8SW5wdXQsIE91dHB1dD4gfCBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBpZiAodHlwZW9mIHRvUmVtb3ZlID09PSBcInN0cmluZ1wiKSByZXR1cm4gdGhpcy5yZW1vdmVCeU5hbWUodG9SZW1vdmUpO1xuICAgIGVsc2UgcmV0dXJuIHRoaXMucmVtb3ZlQnlSZWZlcmVuY2UodG9SZW1vdmUpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVCeU5hbWUodG9SZW1vdmU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGZvciAobGV0IGkgPSB0aGlzLmFic29sdXRlRW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmFic29sdXRlRW50cmllc1tpXS5uYW1lICYmXG4gICAgICAgIHRoaXMuYWJzb2x1dGVFbnRyaWVzW2ldLm5hbWUgPT09IHRvUmVtb3ZlXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5hYnNvbHV0ZUVudHJpZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICBkZWxldGUgdGhpcy5lbnRyaWVzTmFtZU1hcFt0b1JlbW92ZV07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gdGhpcy5yZWxhdGl2ZUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5yZWxhdGl2ZUVudHJpZXNbaV0ubmFtZSAmJlxuICAgICAgICB0aGlzLnJlbGF0aXZlRW50cmllc1tpXS5uYW1lID09PSB0b1JlbW92ZVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMucmVsYXRpdmVFbnRyaWVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuZW50cmllc05hbWVNYXBbdG9SZW1vdmVdO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVCeVJlZmVyZW5jZSh0b1JlbW92ZTogTWlkZGxld2FyZVR5cGU8SW5wdXQsIE91dHB1dD4pOiBib29sZWFuIHtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5hYnNvbHV0ZUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGlmICh0aGlzLmFic29sdXRlRW50cmllc1tpXS5taWRkbGV3YXJlID09PSB0b1JlbW92ZSkge1xuICAgICAgICBjb25zdCB7IG5hbWUgfSA9IHRoaXMuYWJzb2x1dGVFbnRyaWVzW2ldO1xuICAgICAgICBpZiAobmFtZSkgZGVsZXRlIHRoaXMuZW50cmllc05hbWVNYXBbbmFtZV07XG4gICAgICAgIHRoaXMuYWJzb2x1dGVFbnRyaWVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSB0aGlzLnJlbGF0aXZlRW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKHRoaXMucmVsYXRpdmVFbnRyaWVzW2ldLm1pZGRsZXdhcmUgPT09IHRvUmVtb3ZlKSB7XG4gICAgICAgIGNvbnN0IHsgbmFtZSB9ID0gdGhpcy5yZWxhdGl2ZUVudHJpZXNbaV07XG4gICAgICAgIGlmIChuYW1lKSBkZWxldGUgdGhpcy5lbnRyaWVzTmFtZU1hcFtuYW1lXTtcbiAgICAgICAgdGhpcy5yZWxhdGl2ZUVudHJpZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmVtb3ZlQnlUYWcodG9SZW1vdmU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGxldCByZW1vdmVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuYWJzb2x1dGVFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCB7IHRhZ3MsIG5hbWUgfSA9IHRoaXMuYWJzb2x1dGVFbnRyaWVzW2ldO1xuICAgICAgaWYgKHRhZ3MgJiYgdGFncy5pbmRleE9mKHRvUmVtb3ZlKSA+IC0xKSB7XG4gICAgICAgIHRoaXMuYWJzb2x1dGVFbnRyaWVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgaWYgKG5hbWUpIGRlbGV0ZSB0aGlzLmVudHJpZXNOYW1lTWFwW25hbWVdO1xuICAgICAgICByZW1vdmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IHRoaXMucmVsYXRpdmVFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCB7IHRhZ3MsIG5hbWUgfSA9IHRoaXMucmVsYXRpdmVFbnRyaWVzW2ldO1xuICAgICAgaWYgKHRhZ3MgJiYgdGFncy5pbmRleE9mKHRvUmVtb3ZlKSA+IC0xKSB7XG4gICAgICAgIHRoaXMucmVsYXRpdmVFbnRyaWVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgaWYgKG5hbWUpIGRlbGV0ZSB0aGlzLmVudHJpZXNOYW1lTWFwW25hbWVdO1xuICAgICAgICByZW1vdmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlbW92ZWQ7XG4gIH1cblxuICB1c2UocGx1Z2luOiBQbHVnZ2FibGU8SW5wdXQsIE91dHB1dD4pIHtcbiAgICBwbHVnaW4uYXBwbHlUb1N0YWNrKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc29sdmUgcmVsYXRpdmUgbWlkZGxld2FyZSBlbnRyaWVzIHRvIG11bHRpcGxlIGRvdWJsZSBsaW5rZWQgbGlzdHNcbiAgICogZGVwaWN0aW5nIHRoZSByZWxhdGl2ZSBsb2NhdGlvbiBvZiBtaWRkbGV3YXJlLiBPbmx5IG1pZGRsZXdhcmUgdGhhdCBoYXZlXG4gICAqIGRpcmVjdCBvciB0cmFuc2l0aXZlIHJlbGF0aW9uIHdpbGwgZm9ybSBhIGxpbmtlZCBsaXN0LlxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIG5vcm1hbGl6ZXMgcmVsYXRpdmUgbWlkZGxld2FyZSBpbnRvIDIgY2F0ZWdvcmllcyBvZiBsaW5rZWRcbiAgICogbGlzdHMuICgxKSBsaW5rZWQgbGlzdCB0aGF0IGhhdmUgYWJzb2x1dGUtbG9jYXRlZCBtaWRkbGV3YXJlIG9uIG9uZSBlbmQuXG4gICAqIFRoZXNlIG1pZGRsZXdhcmUgd2lsbCBiZSByZXNvbHZlZCBhY2NvcmRpbmdseSBiZWZvcmUgb3IgYWZ0ZXIgdGhlIGFic29sdXRlLVxuICAgKiBsb2NhdGVkIG1pZGRsZXdhcmUuICgyKSBMaW5rZWQgbGlzdCB0aGF0IGhhdmUgbm8gYWJzb2x1dGUtbG9jYXRlZCBtaWRkbGV3YXJlXG4gICAqIG9uIGFueSBlbmQuIFRoZXkgd2lsbCBiZSByZXNvbHZlZCB0byBjb3JyZXNwb25kaW5nIHN0ZXAgd2l0aCBub3JtYWwgcHJpb3JpdHlcbiAgICpcbiAgICogVGhlIDIgdHlwZXMgb2YgbGlua2VkIGxpc3Qgd2lsbCByZXR1cm4gYXMgYSB0dXBsZVxuICAgKi9cbiAgcHJpdmF0ZSBub3JtYWxpemVSZWxhdGl2ZUVudHJpZXMoKTogTm9ybWFsaXppbmdFbnRyeVJlc3VsdDxJbnB1dCwgT3V0cHV0PiB7XG4gICAgY29uc3QgYWJzb2x1dGVNaWRkbGV3YXJlTmFtZXNNYXAgPSB0aGlzLmFic29sdXRlRW50cmllc1xuICAgICAgLmZpbHRlcihlbnRyeSA9PiBlbnRyeS5uYW1lKVxuICAgICAgLnJlZHVjZSgoYWNjdW11bGF0b3IsIGVudHJ5KSA9PiB7XG4gICAgICAgIGFjY3VtdWxhdG9yW2VudHJ5Lm5hbWUhXSA9IGVudHJ5O1xuICAgICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgICB9LCB7fSBhcyBOYW1lZE1pZGRsZXdhcmVFbnRyaWVzTWFwPElucHV0LCBPdXRwdXQ+KTtcbiAgICBjb25zdCBub3JtYWxpemVkID0gdGhpcy5yZWxhdGl2ZUVudHJpZXMubWFwKFxuICAgICAgZW50cnkgPT5cbiAgICAgICAgKHtcbiAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICBwcmlvcml0eTogbnVsbCxcbiAgICAgICAgICBuZXh0OiB1bmRlZmluZWQsXG4gICAgICAgICAgcHJldjogdW5kZWZpbmVkXG4gICAgICAgIH0gYXMgTm9ybWFsaXplZFJlbGF0aXZlRW50cnk8SW5wdXQsIE91dHB1dD4pXG4gICAgKTtcbiAgICBjb25zdCByZWxhdGl2ZU1pZGRsZXdhcmVOYW1lc01hcCA9IG5vcm1hbGl6ZWRcbiAgICAgIC5maWx0ZXIoZW50cnkgPT4gZW50cnkubmFtZSlcbiAgICAgIC5yZWR1Y2UoKGFjY3VtdWxhdG9yLCBlbnRyeSkgPT4ge1xuICAgICAgICBhY2N1bXVsYXRvcltlbnRyeS5uYW1lIV0gPSBlbnRyeTtcbiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgICAgfSwge30gYXMgTmFtZWRSZWxhdGl2ZUVudHJpZXNNYXA8SW5wdXQsIE91dHB1dD4pO1xuXG4gICAgY29uc3QgYW5jaG9yczogUmVsYXRpdmVNaWRkbGV3YXJlQW5jaG9yPElucHV0LCBPdXRwdXQ+ID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlbGF0aXZlRW50cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgeyBwcmV2LCBuZXh0IH0gPSB0aGlzLnJlbGF0aXZlRW50cmllc1tpXTtcbiAgICAgIGNvbnN0IHJlc29sdmVkQ3VyciA9IG5vcm1hbGl6ZWRbaV07XG4gICAgICAvL2VpdGhlciBwcmV2IG9yIG5leHQgaXMgc2V0XG4gICAgICBpZiAocHJldikge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgYWJzb2x1dGVNaWRkbGV3YXJlTmFtZXNNYXBbcHJldl0gJiZcbiAgICAgICAgICBhYnNvbHV0ZU1pZGRsZXdhcmVOYW1lc01hcFtwcmV2XS5zdGVwID09PSByZXNvbHZlZEN1cnIuc3RlcFxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoIWFuY2hvcnNbcHJldl0pIGFuY2hvcnNbcHJldl0gPSB7fTtcbiAgICAgICAgICByZXNvbHZlZEN1cnIubmV4dCA9IGFuY2hvcnNbcHJldl0ubmV4dDtcbiAgICAgICAgICBpZiAoYW5jaG9yc1twcmV2XS5uZXh0KSBhbmNob3JzW3ByZXZdLm5leHQhLnByZXYgPSByZXNvbHZlZEN1cnI7XG4gICAgICAgICAgYW5jaG9yc1twcmV2XS5uZXh0ID0gcmVzb2x2ZWRDdXJyO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHJlbGF0aXZlTWlkZGxld2FyZU5hbWVzTWFwW3ByZXZdICYmXG4gICAgICAgICAgcmVsYXRpdmVNaWRkbGV3YXJlTmFtZXNNYXBbcHJldl0uc3RlcCA9PT0gcmVzb2x2ZWRDdXJyLnN0ZXBcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgcmVzb2x2ZWRQcmV2ID0gcmVsYXRpdmVNaWRkbGV3YXJlTmFtZXNNYXBbcHJldl07XG4gICAgICAgICAgaWYgKHJlc29sdmVkUHJldi5uZXh0ID09PSByZXNvbHZlZEN1cnIpIGNvbnRpbnVlO1xuICAgICAgICAgIHJlc29sdmVkQ3Vyci5uZXh0ID0gcmVzb2x2ZWRQcmV2Lm5leHQ7XG4gICAgICAgICAgcmVzb2x2ZWRQcmV2Lm5leHQgPSByZXNvbHZlZEN1cnI7XG4gICAgICAgICAgaWYgKHJlc29sdmVkQ3Vyci5uZXh0KSByZXNvbHZlZEN1cnIubmV4dC5wcmV2ID0gcmVzb2x2ZWRDdXJyO1xuICAgICAgICAgIHJlc29sdmVkQ3Vyci5wcmV2ID0gcmVzb2x2ZWRQcmV2O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5leHQpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGFic29sdXRlTWlkZGxld2FyZU5hbWVzTWFwW25leHRdICYmXG4gICAgICAgICAgYWJzb2x1dGVNaWRkbGV3YXJlTmFtZXNNYXBbbmV4dF0uc3RlcCA9PT0gcmVzb2x2ZWRDdXJyLnN0ZXBcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKCFhbmNob3JzW25leHRdKSBhbmNob3JzW25leHRdID0ge307XG4gICAgICAgICAgcmVzb2x2ZWRDdXJyLnByZXYgPSBhbmNob3JzW25leHRdLnByZXY7XG4gICAgICAgICAgaWYgKGFuY2hvcnNbbmV4dF0ucHJldikgYW5jaG9yc1tuZXh0XS5wcmV2IS5uZXh0ID0gcmVzb2x2ZWRDdXJyO1xuICAgICAgICAgIGFuY2hvcnNbbmV4dF0ucHJldiA9IHJlc29sdmVkQ3VycjtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICByZWxhdGl2ZU1pZGRsZXdhcmVOYW1lc01hcFtuZXh0XSAmJlxuICAgICAgICAgIHJlbGF0aXZlTWlkZGxld2FyZU5hbWVzTWFwW25leHRdLnN0ZXAgPT09IHJlc29sdmVkQ3Vyci5zdGVwXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHJlc29sdmVkTmV4dCA9IHJlbGF0aXZlTWlkZGxld2FyZU5hbWVzTWFwW25leHRdO1xuICAgICAgICAgIGlmIChyZXNvbHZlZE5leHQucHJldiA9PT0gcmVzb2x2ZWRDdXJyKSBjb250aW51ZTtcbiAgICAgICAgICByZXNvbHZlZEN1cnIucHJldiA9IHJlc29sdmVkTmV4dC5wcmV2O1xuICAgICAgICAgIHJlc29sdmVkTmV4dC5wcmV2ID0gcmVzb2x2ZWRDdXJyO1xuICAgICAgICAgIGlmIChyZXNvbHZlZEN1cnIucHJldikgcmVzb2x2ZWRDdXJyLnByZXYubmV4dCA9IHJlc29sdmVkQ3VycjtcbiAgICAgICAgICByZXNvbHZlZEN1cnIubmV4dCA9IHJlc29sdmVkTmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBnZXQgdGhlIGhlYWQgb2YgdGhlIHJlbGF0aXZlIG1pZGRsZXdhcmUgbGlua2VkIGxpc3QgdGhhdCBoYXZlXG4gICAgLy8gbm8gdHJhbnNpdGl2ZSByZWxhdGlvbiB0byBhYnNvbHV0ZSBtaWRkbGV3YXJlLlxuICAgIGNvbnN0IG9ycGhhbmVkUmVsYXRpdmVFbnRyaWVzOiBBcnJheTxOb3JtYWxpemVkUmVsYXRpdmVFbnRyeTxcbiAgICAgIElucHV0LFxuICAgICAgT3V0cHV0XG4gICAgPj4gPSBbXTtcbiAgICBjb25zdCB2aXNpdGVkOiBXZWFrU2V0PE5vcm1hbGl6ZWRSZWxhdGl2ZUVudHJ5PFxuICAgICAgSW5wdXQsXG4gICAgICBPdXRwdXRcbiAgICA+PiA9IG5ldyBXZWFrU2V0KCk7XG4gICAgZm9yIChjb25zdCBhbmNob3JOYW1lIG9mIE9iamVjdC5rZXlzKGFuY2hvcnMpKSB7XG4gICAgICBsZXQgeyBwcmV2LCBuZXh0IH0gPSBhbmNob3JzW2FuY2hvck5hbWVdO1xuICAgICAgd2hpbGUgKHByZXYpIHtcbiAgICAgICAgdmlzaXRlZC5hZGQocHJldik7XG4gICAgICAgIHByZXYgPSBwcmV2LnByZXY7XG4gICAgICB9XG4gICAgICB3aGlsZSAobmV4dCkge1xuICAgICAgICB2aXNpdGVkLmFkZChuZXh0KTtcbiAgICAgICAgbmV4dCA9IG5leHQubmV4dDtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub3JtYWxpemVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZW50cnk6IE5vcm1hbGl6ZWRSZWxhdGl2ZUVudHJ5PElucHV0LCBPdXRwdXQ+IHwgdW5kZWZpbmVkID1cbiAgICAgICAgbm9ybWFsaXplZFtpXTtcbiAgICAgIGlmICh2aXNpdGVkLmhhcyhlbnRyeSkpIGNvbnRpbnVlO1xuICAgICAgaWYgKCFlbnRyeS5wcmV2KSBvcnBoYW5lZFJlbGF0aXZlRW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgIHdoaWxlIChlbnRyeSAmJiAhdmlzaXRlZC5oYXMoZW50cnkpKSB7XG4gICAgICAgIHZpc2l0ZWQuYWRkKGVudHJ5KTtcbiAgICAgICAgZW50cnkgPSBlbnRyeS5uZXh0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW29ycGhhbmVkUmVsYXRpdmVFbnRyaWVzLCBhbmNob3JzXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBmaW5hbCBsaXN0IG9mIG1pZGRsZXdhcmUgaW4gdGhlIG9yZGVyIG9mIGJlaW5nIGV4ZWN1dGVkIGluIHRoZSByZXNvbHZlZCBoYW5kbGVyLlxuICAgKiBJZiByZWxhdGl2ZSBlbnRyaWVzIGxpc3QgaXMgbm90IGVtcHR5LCB0aG9zZSBlbnRyaWVzIHdpbGwgYmUgYWRkZWQgdG8gZmluYWwgbWlkZGxld2FyZVxuICAgKiBsaXN0IHdpdGggcnVsZXMgYmVsb3c6XG4gICAqIDEuIGlmIGB0b01pZGRsZXdhcmVgIGV4aXN0cyBpbiB0aGUgc3BlY2lmaWMgYHN0ZXBgLCB0aGUgbWlkZGxld2FyZSB3aWxsIGJlIGluc2VydGVkIGJlZm9yZVxuICAgKiAgICAgb3IgYWZ0ZXIgdGhlIHNwZWNpZmllZCBgdG9NaWRkbGV3YXJlYFxuICAgKiAyLiBpZiBgdG9NaWRkbGV3YXJlYCBkb2Vzbid0IGV4aXN0IGluIHRoZSBzcGVjaWZpYyBgc3RlcGAsIHRoZSBtaWRkbGV3YXJlIHdpbGwgYmUgYXBwZW5kZWRcbiAgICogICAgIHRvIHNwZWNpZmljIGBzdGVwYCB3aXRoIHByaW9yaXR5IG9mIGBub3JtYWxgXG4gICAqL1xuICBwcml2YXRlIGdlTWlkZGxld2FyZUxpc3QoKTogQXJyYXk8TWlkZGxld2FyZVR5cGU8SW5wdXQsIE91dHB1dD4+IHtcbiAgICBsZXQgbWlkZGxld2FyZUxpc3Q6IEFycmF5PE1pZGRsZXdhcmVUeXBlPElucHV0LCBPdXRwdXQ+PiA9IFtdO1xuICAgIGNvbnN0IFtvcnBoYW5lZFJlbGF0aXZlRW50cmllcywgYW5jaG9yc10gPSB0aGlzLm5vcm1hbGl6ZVJlbGF0aXZlRW50cmllcygpO1xuICAgIGxldCBlbnRyeUxpc3QgPSBbLi4udGhpcy5hYnNvbHV0ZUVudHJpZXMsIC4uLm9ycGhhbmVkUmVsYXRpdmVFbnRyaWVzXTtcbiAgICBlbnRyeUxpc3QgPSB0aGlzLnNvcnQoZW50cnlMaXN0KTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJ5TGlzdCkge1xuICAgICAgY29uc3QgZGVmYXVsdEFuY2hvclZhbHVlID0geyBwcmV2OiB1bmRlZmluZWQsIG5leHQ6IHVuZGVmaW5lZCB9O1xuICAgICAgY29uc3QgeyBwcmV2LCBuZXh0IH0gPSBlbnRyeS5uYW1lXG4gICAgICAgID8gYW5jaG9yc1tlbnRyeS5uYW1lXSB8fCBkZWZhdWx0QW5jaG9yVmFsdWVcbiAgICAgICAgOiBkZWZhdWx0QW5jaG9yVmFsdWU7XG4gICAgICBsZXQgcmVsYXRpdmVFbnRyeSA9IHByZXY7XG4gICAgICAvL3JldmVyc2UgcmVsYXRpdmUgZW50cnkgbGlua2VkIGxpc3QgYW5kIGFkZCB0byBvcmRlcmVkIGhhbmRsZXIgbGlzdFxuICAgICAgd2hpbGUgKHJlbGF0aXZlRW50cnk/LnByZXYpIHtcbiAgICAgICAgcmVsYXRpdmVFbnRyeSA9IHJlbGF0aXZlRW50cnkucHJldjtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChyZWxhdGl2ZUVudHJ5KSB7XG4gICAgICAgIG1pZGRsZXdhcmVMaXN0LnB1c2gocmVsYXRpdmVFbnRyeS5taWRkbGV3YXJlKTtcbiAgICAgICAgcmVsYXRpdmVFbnRyeSA9IHJlbGF0aXZlRW50cnkubmV4dDtcbiAgICAgIH1cbiAgICAgIG1pZGRsZXdhcmVMaXN0LnB1c2goZW50cnkubWlkZGxld2FyZSk7XG4gICAgICBsZXQgb3JwaGFuZWRFbnRyeSA9IGVudHJ5IGFzIGFueTtcbiAgICAgIHdoaWxlICgob3JwaGFuZWRFbnRyeSBhcyBhbnkpLm5leHQpIHtcbiAgICAgICAgbWlkZGxld2FyZUxpc3QucHVzaCgob3JwaGFuZWRFbnRyeSBhcyBhbnkpLm5leHQubWlkZGxld2FyZSk7XG4gICAgICAgIG9ycGhhbmVkRW50cnkgPSAob3JwaGFuZWRFbnRyeSBhcyBhbnkpLm5leHQ7XG4gICAgICB9XG4gICAgICByZWxhdGl2ZUVudHJ5ID0gbmV4dDtcbiAgICAgIHdoaWxlIChyZWxhdGl2ZUVudHJ5KSB7XG4gICAgICAgIG1pZGRsZXdhcmVMaXN0LnB1c2gocmVsYXRpdmVFbnRyeS5taWRkbGV3YXJlKTtcbiAgICAgICAgcmVsYXRpdmVFbnRyeSA9IHJlbGF0aXZlRW50cnkubmV4dDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1pZGRsZXdhcmVMaXN0LnJldmVyc2UoKTtcbiAgfVxuXG4gIHJlc29sdmU8SW5wdXRUeXBlIGV4dGVuZHMgSW5wdXQsIE91dHB1dFR5cGUgZXh0ZW5kcyBPdXRwdXQ+KFxuICAgIGhhbmRsZXI6IERlc2VyaWFsaXplSGFuZGxlcjxJbnB1dFR5cGUsIE91dHB1dFR5cGU+LFxuICAgIGNvbnRleHQ6IEhhbmRsZXJFeGVjdXRpb25Db250ZXh0XG4gICk6IEhhbmRsZXI8SW5wdXRUeXBlLCBPdXRwdXRUeXBlPiB7XG4gICAgZm9yIChjb25zdCBtaWRkbGV3YXJlIG9mIHRoaXMuZ2VNaWRkbGV3YXJlTGlzdCgpKSB7XG4gICAgICBoYW5kbGVyID0gbWlkZGxld2FyZShcbiAgICAgICAgaGFuZGxlciBhcyBIYW5kbGVyPElucHV0LCBPdXRwdXRUeXBlPixcbiAgICAgICAgY29udGV4dFxuICAgICAgKSBhcyBhbnk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhbmRsZXIgYXMgSGFuZGxlcjxJbnB1dFR5cGUsIE91dHB1dFR5cGU+O1xuICB9XG59XG5cbmNvbnN0IHN0ZXBXZWlnaHRzOiB7IFtrZXkgaW4gU3RlcF06IG51bWJlciB9ID0ge1xuICBpbml0aWFsaXplOiA1LFxuICBzZXJpYWxpemU6IDQsXG4gIGJ1aWxkOiAzLFxuICBmaW5hbGl6ZVJlcXVlc3Q6IDIsXG4gIGRlc2VyaWFsaXplOiAxXG59O1xuXG5jb25zdCBwcmlvcml0eVdlaWdodHM6IHsgW2tleSBpbiBQcmlvcml0eV06IG51bWJlciB9ID0ge1xuICBoaWdoOiAzLFxuICBub3JtYWw6IDIsXG4gIGxvdzogMVxufTtcbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar middleware_stack_1 = require(\"@aws-sdk/middleware-stack\");\nvar Command = /** @class */ (function () {\n    function Command() {\n        this.middlewareStack = new middleware_stack_1.MiddlewareStack();\n    }\n    return Command;\n}());\nexports.Command = Command;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbWFuZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21tYW5kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsOERBQTREO0FBUTVEO0lBQUE7UUFnQlcsb0JBQWUsR0FHcEIsSUFBSSxrQ0FBZSxFQUFpQixDQUFDO0lBTTNDLENBQUM7SUFBRCxjQUFDO0FBQUQsQ0FBQyxBQXpCRCxJQXlCQztBQXpCcUIsMEJBQU8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNaWRkbGV3YXJlU3RhY2sgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1zdGFja1wiO1xuaW1wb3J0IHtcbiAgQ29tbWFuZCBhcyBJQ29tbWFuZCxcbiAgTWV0YWRhdGFCZWFyZXIsXG4gIEhhbmRsZXIsXG4gIE1pZGRsZXdhcmVTdGFjayBhcyBJTWlkZGxld2FyZVN0YWNrXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29tbWFuZDxcbiAgSW5wdXQgZXh0ZW5kcyBDbGllbnRJbnB1dCxcbiAgT3V0cHV0IGV4dGVuZHMgQ2xpZW50T3V0cHV0LFxuICBSZXNvbHZlZENsaWVudENvbmZpZ3VyYXRpb24sXG4gIENsaWVudElucHV0IGV4dGVuZHMgb2JqZWN0ID0gYW55LFxuICBDbGllbnRPdXRwdXQgZXh0ZW5kcyBNZXRhZGF0YUJlYXJlciA9IGFueVxuPlxuICBpbXBsZW1lbnRzXG4gICAgSUNvbW1hbmQ8XG4gICAgICBDbGllbnRJbnB1dCxcbiAgICAgIElucHV0LFxuICAgICAgQ2xpZW50T3V0cHV0LFxuICAgICAgT3V0cHV0LFxuICAgICAgUmVzb2x2ZWRDbGllbnRDb25maWd1cmF0aW9uXG4gICAgPiB7XG4gIGFic3RyYWN0IGlucHV0OiBJbnB1dDtcbiAgcmVhZG9ubHkgbWlkZGxld2FyZVN0YWNrOiBJTWlkZGxld2FyZVN0YWNrPFxuICAgIElucHV0LFxuICAgIE91dHB1dFxuICA+ID0gbmV3IE1pZGRsZXdhcmVTdGFjazxJbnB1dCwgT3V0cHV0PigpO1xuICBhYnN0cmFjdCByZXNvbHZlTWlkZGxld2FyZShcbiAgICBzdGFjazogTWlkZGxld2FyZVN0YWNrPENsaWVudElucHV0LCBDbGllbnRPdXRwdXQ+LFxuICAgIGNvbmZpZ3VyYXRpb246IFJlc29sdmVkQ2xpZW50Q29uZmlndXJhdGlvbixcbiAgICBvcHRpb25zOiBhbnlcbiAgKTogSGFuZGxlcjxJbnB1dCwgT3V0cHV0Pjtcbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Checks if the given value is a Smithy structure of the given type.\n */\nfunction isa(o) {\n    var ids = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        ids[_i - 1] = arguments[_i];\n    }\n    return (typeof o === \"object\" && (\n    // Checks for name after __type, as name is used instead for errors.\n    \"__type\" in o && ids.indexOf(o[\"__type\"]) > -1\n        || \"name\" in o && ids.indexOf(o[\"name\"]) > -1));\n}\nexports.isa = isa;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXNhLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2lzYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOztHQUVHO0FBQ0gsU0FBZ0IsR0FBRyxDQUFJLENBQU07SUFBRSxhQUFnQjtTQUFoQixVQUFnQixFQUFoQixxQkFBZ0IsRUFBaEIsSUFBZ0I7UUFBaEIsNEJBQWdCOztJQUM3QyxPQUFPLENBQ0wsT0FBTyxDQUFDLEtBQUssUUFBUSxJQUFJO0lBQ3ZCLG9FQUFvRTtJQUNwRSxRQUFRLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1dBQzNDLE1BQU0sSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FDOUMsQ0FDRixDQUFDO0FBQ0osQ0FBQztBQVJELGtCQVFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgU21pdGh5IHN0cnVjdHVyZSBvZiB0aGUgZ2l2ZW4gdHlwZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzYTxUPihvOiBhbnksIC4uLmlkczogc3RyaW5nW10pOiBvIGlzIFQge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBvID09PSBcIm9iamVjdFwiICYmIChcbiAgICAgIC8vIENoZWNrcyBmb3IgbmFtZSBhZnRlciBfX3R5cGUsIGFzIG5hbWUgaXMgdXNlZCBpbnN0ZWFkIGZvciBlcnJvcnMuXG4gICAgICBcIl9fdHlwZVwiIGluIG8gJiYgaWRzLmluZGV4T2Yob1tcIl9fdHlwZVwiXSkgPiAtMVxuICAgICAgfHwgXCJuYW1lXCIgaW4gbyAmJiBpZHMuaW5kZXhPZihvW1wibmFtZVwiXSkgPiAtMVxuICAgIClcbiAgKTtcbn1cbiJdfQ==","\"use strict\";\n/**\n * Lazy String holder for JSON typed contents.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\n/**\n * Because of https://github.com/microsoft/tslib/issues/95,\n * TS 'extends' shim doesn't support extending native types like String.\n * So here we create StringWrapper that duplicate everything from String\n * class including its prototype chain. So we can extend from here.\n */\n// @ts-ignore StringWrapper implementation is not a simple constructor\nexports.StringWrapper = function () {\n    //@ts-ignore 'this' cannot be assigned to any, but Object.getPrototypeOf accepts any\n    var Class = Object.getPrototypeOf(this).constructor;\n    var Constructor = Function.bind.apply(String, tslib_1.__spread([null], arguments));\n    //@ts-ignore Call wrapped String constructor directly, don't bother typing it.\n    var instance = new Constructor();\n    Object.setPrototypeOf(instance, Class.prototype);\n    return instance;\n};\nexports.StringWrapper.prototype = Object.create(String.prototype, {\n    constructor: {\n        value: exports.StringWrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n    }\n});\nObject.setPrototypeOf(exports.StringWrapper, String);\nvar LazyJsonString = /** @class */ (function (_super) {\n    tslib_1.__extends(LazyJsonString, _super);\n    function LazyJsonString() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LazyJsonString.prototype.deserializeJSON = function () {\n        return JSON.parse(_super.prototype.toString.call(this));\n    };\n    LazyJsonString.prototype.toJSON = function () {\n        return _super.prototype.toString.call(this);\n    };\n    LazyJsonString.fromObject = function (object) {\n        if (object instanceof LazyJsonString) {\n            return object;\n        }\n        else if (object instanceof String || typeof object === \"string\") {\n            return new LazyJsonString(object);\n        }\n        return new LazyJsonString(JSON.stringify(object));\n    };\n    return LazyJsonString;\n}(exports.StringWrapper));\nexports.LazyJsonString = LazyJsonString;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF6eS1qc29uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2xhenktanNvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7OztBQU1IOzs7OztHQUtHO0FBQ0gsc0VBQXNFO0FBQ3pELFFBQUEsYUFBYSxHQUFrQjtJQUMxQyxvRkFBb0Y7SUFDcEYsSUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLENBQUM7SUFDdEQsSUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxvQkFBRyxJQUFXLEdBQUssU0FBUyxFQUFFLENBQUM7SUFDN0UsOEVBQThFO0lBQzlFLElBQU0sUUFBUSxHQUFHLElBQUksV0FBVyxFQUFFLENBQUM7SUFDbkMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2pELE9BQU8sUUFBa0IsQ0FBQztBQUM1QixDQUFDLENBQUM7QUFDRixxQkFBYSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUU7SUFDeEQsV0FBVyxFQUFFO1FBQ1gsS0FBSyxFQUFFLHFCQUFhO1FBQ3BCLFVBQVUsRUFBRSxLQUFLO1FBQ2pCLFFBQVEsRUFBRSxJQUFJO1FBQ2QsWUFBWSxFQUFFLElBQUk7S0FDbkI7Q0FDRixDQUFDLENBQUM7QUFDSCxNQUFNLENBQUMsY0FBYyxDQUFDLHFCQUFhLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFFN0M7SUFBb0MsMENBQWE7SUFBakQ7O0lBaUJBLENBQUM7SUFoQkMsd0NBQWUsR0FBZjtRQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBTSxRQUFRLFdBQUUsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFFRCwrQkFBTSxHQUFOO1FBQ0UsT0FBTyxpQkFBTSxRQUFRLFdBQUUsQ0FBQztJQUMxQixDQUFDO0lBRU0seUJBQVUsR0FBakIsVUFBa0IsTUFBVztRQUMzQixJQUFJLE1BQU0sWUFBWSxjQUFjLEVBQUU7WUFDcEMsT0FBTyxNQUFNLENBQUM7U0FDZjthQUFNLElBQUksTUFBTSxZQUFZLE1BQU0sSUFBSSxPQUFPLE1BQU0sS0FBSyxRQUFRLEVBQUU7WUFDakUsT0FBTyxJQUFJLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUNuQztRQUNELE9BQU8sSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFDSCxxQkFBQztBQUFELENBQUMsQUFqQkQsQ0FBb0MscUJBQWEsR0FpQmhEO0FBakJZLHdDQUFjIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMYXp5IFN0cmluZyBob2xkZXIgZm9yIEpTT04gdHlwZWQgY29udGVudHMuXG4gKi9cblxuaW50ZXJmYWNlIFN0cmluZ1dyYXBwZXIge1xuICBuZXcgKGFyZzogYW55KTogU3RyaW5nO1xufVxuXG4vKipcbiAqIEJlY2F1c2Ugb2YgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC90c2xpYi9pc3N1ZXMvOTUsXG4gKiBUUyAnZXh0ZW5kcycgc2hpbSBkb2Vzbid0IHN1cHBvcnQgZXh0ZW5kaW5nIG5hdGl2ZSB0eXBlcyBsaWtlIFN0cmluZy5cbiAqIFNvIGhlcmUgd2UgY3JlYXRlIFN0cmluZ1dyYXBwZXIgdGhhdCBkdXBsaWNhdGUgZXZlcnl0aGluZyBmcm9tIFN0cmluZ1xuICogY2xhc3MgaW5jbHVkaW5nIGl0cyBwcm90b3R5cGUgY2hhaW4uIFNvIHdlIGNhbiBleHRlbmQgZnJvbSBoZXJlLlxuICovXG4vLyBAdHMtaWdub3JlIFN0cmluZ1dyYXBwZXIgaW1wbGVtZW50YXRpb24gaXMgbm90IGEgc2ltcGxlIGNvbnN0cnVjdG9yXG5leHBvcnQgY29uc3QgU3RyaW5nV3JhcHBlcjogU3RyaW5nV3JhcHBlciA9IGZ1bmN0aW9uKCkge1xuICAvL0B0cy1pZ25vcmUgJ3RoaXMnIGNhbm5vdCBiZSBhc3NpZ25lZCB0byBhbnksIGJ1dCBPYmplY3QuZ2V0UHJvdG90eXBlT2YgYWNjZXB0cyBhbnlcbiAgY29uc3QgQ2xhc3MgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7XG4gIGNvbnN0IENvbnN0cnVjdG9yID0gRnVuY3Rpb24uYmluZC5hcHBseShTdHJpbmcsIFtudWxsIGFzIGFueSwgLi4uYXJndW1lbnRzXSk7XG4gIC8vQHRzLWlnbm9yZSBDYWxsIHdyYXBwZWQgU3RyaW5nIGNvbnN0cnVjdG9yIGRpcmVjdGx5LCBkb24ndCBib3RoZXIgdHlwaW5nIGl0LlxuICBjb25zdCBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpO1xuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7XG4gIHJldHVybiBpbnN0YW5jZSBhcyBTdHJpbmc7XG59O1xuU3RyaW5nV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0cmluZy5wcm90b3R5cGUsIHtcbiAgY29uc3RydWN0b3I6IHtcbiAgICB2YWx1ZTogU3RyaW5nV3JhcHBlcixcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfVxufSk7XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3RyaW5nV3JhcHBlciwgU3RyaW5nKTtcblxuZXhwb3J0IGNsYXNzIExhenlKc29uU3RyaW5nIGV4dGVuZHMgU3RyaW5nV3JhcHBlciB7XG4gIGRlc2VyaWFsaXplSlNPTigpOiBhbnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHN1cGVyLnRvU3RyaW5nKCkpO1xuICB9XG5cbiAgdG9KU09OKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHN1cGVyLnRvU3RyaW5nKCk7XG4gIH1cblxuICBzdGF0aWMgZnJvbU9iamVjdChvYmplY3Q6IGFueSk6IExhenlKc29uU3RyaW5nIHtcbiAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgTGF6eUpzb25TdHJpbmcpIHtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBTdHJpbmcgfHwgdHlwZW9mIG9iamVjdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIG5ldyBMYXp5SnNvblN0cmluZyhvYmplY3QpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IExhenlKc29uU3RyaW5nKEpTT04uc3RyaW5naWZ5KG9iamVjdCkpO1xuICB9XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Function that wraps encodeURIComponent to encode additional characters\n * to fully adhere to RFC 3986.\n */\nfunction extendedEncodeURIComponent(str) {\n    return encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n        return \"%\" + c.charCodeAt(0).toString(16);\n    });\n}\nexports.extendedEncodeURIComponent = extendedEncodeURIComponent;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXh0ZW5kZWQtZW5jb2RlLXVyaS1jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvZXh0ZW5kZWQtZW5jb2RlLXVyaS1jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7O0dBR0c7QUFDSCxTQUFnQiwwQkFBMEIsQ0FBQyxHQUFXO0lBQ3BELE9BQU8sa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUM7UUFDNUQsT0FBTyxHQUFHLEdBQUcsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDNUMsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBSkQsZ0VBSUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEZ1bmN0aW9uIHRoYXQgd3JhcHMgZW5jb2RlVVJJQ29tcG9uZW50IHRvIGVuY29kZSBhZGRpdGlvbmFsIGNoYXJhY3RlcnNcbiAqIHRvIGZ1bGx5IGFkaGVyZSB0byBSRkMgMzk4Ni5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZGVkRW5jb2RlVVJJQ29tcG9uZW50KHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpKl0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gXCIlXCIgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpO1xuICB9KTtcbn1cbiJdfQ==","\"use strict\";\n/**\n * Builds a proper UTC HttpDate timestamp from a Date object\n * since not all environments will have this as the expected\n * format.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toUTCString\n * > Prior to ECMAScript 2018, the format of the return value\n * > varied according to the platform. The most common return\n * > value was an RFC-1123 formatted date stamp, which is a\n * > slightly updated version of RFC-822 date stamps.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Build indexes outside so we allocate them once.\nvar days = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\nvar months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\nfunction dateToUtcString(date) {\n    var year = date.getUTCFullYear();\n    var month = date.getUTCMonth();\n    var dayOfWeek = date.getUTCDay();\n    var dayOfMonthInt = date.getUTCDate();\n    var hoursInt = date.getUTCHours();\n    var minutesInt = date.getUTCMinutes();\n    var secondsInt = date.getUTCSeconds();\n    // Build 0 prefixed strings for contents that need to be\n    // two digits and where we get an integer back.\n    var dayOfMonthString = dayOfMonthInt < 10 ? \"0\" + dayOfMonthInt : \"\" + dayOfMonthInt;\n    var hoursString = hoursInt < 10 ? \"0\" + hoursInt : \"\" + hoursInt;\n    var minutesString = minutesInt < 10 ? \"0\" + minutesInt : \"\" + minutesInt;\n    var secondsString = secondsInt < 10 ? \"0\" + secondsInt : \"\" + secondsInt;\n    return days[dayOfWeek] + \", \" + dayOfMonthString + \" \" + months[month] + \" \" + year + \" \" + hoursString + \":\" + minutesString + \":\" + secondsString + \" GMT\";\n}\nexports.dateToUtcString = dateToUtcString;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS11dGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9kYXRlLXV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7OztHQVVHOztBQUVILGtEQUFrRDtBQUNsRCxJQUFNLElBQUksR0FBa0IsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztBQUM5RSxJQUFNLE1BQU0sR0FBa0IsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBRW5ILFNBQWdCLGVBQWUsQ0FBQyxJQUFVO0lBQ3hDLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUNuQyxJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDakMsSUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQ25DLElBQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUN4QyxJQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDcEMsSUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3hDLElBQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUV4Qyx3REFBd0Q7SUFDeEQsK0NBQStDO0lBQy9DLElBQU0sZ0JBQWdCLEdBQUcsYUFBYSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBSSxhQUFlLENBQUMsQ0FBQyxDQUFDLEtBQUcsYUFBZSxDQUFDO0lBQ3ZGLElBQU0sV0FBVyxHQUFHLFFBQVEsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQUksUUFBVSxDQUFDLENBQUMsQ0FBQyxLQUFHLFFBQVUsQ0FBQztJQUNuRSxJQUFNLGFBQWEsR0FBRyxVQUFVLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFJLFVBQVksQ0FBQyxDQUFDLENBQUMsS0FBRyxVQUFZLENBQUM7SUFDM0UsSUFBTSxhQUFhLEdBQUcsVUFBVSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBSSxVQUFZLENBQUMsQ0FBQyxDQUFDLEtBQUcsVUFBWSxDQUFDO0lBRTNFLE9BQVUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFLLGdCQUFnQixTQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsU0FBSSxJQUFJLFNBQUksV0FBVyxTQUFJLGFBQWEsU0FBSSxhQUFhLFNBQU0sQ0FBQztBQUNqSSxDQUFDO0FBakJELDBDQWlCQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQnVpbGRzIGEgcHJvcGVyIFVUQyBIdHRwRGF0ZSB0aW1lc3RhbXAgZnJvbSBhIERhdGUgb2JqZWN0XG4gKiBzaW5jZSBub3QgYWxsIGVudmlyb25tZW50cyB3aWxsIGhhdmUgdGhpcyBhcyB0aGUgZXhwZWN0ZWRcbiAqIGZvcm1hdC5cbiAqIFxuICogU2VlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlL3RvVVRDU3RyaW5nXG4gKiA+IFByaW9yIHRvIEVDTUFTY3JpcHQgMjAxOCwgdGhlIGZvcm1hdCBvZiB0aGUgcmV0dXJuIHZhbHVlXG4gKiA+IHZhcmllZCBhY2NvcmRpbmcgdG8gdGhlIHBsYXRmb3JtLiBUaGUgbW9zdCBjb21tb24gcmV0dXJuXG4gKiA+IHZhbHVlIHdhcyBhbiBSRkMtMTEyMyBmb3JtYXR0ZWQgZGF0ZSBzdGFtcCwgd2hpY2ggaXMgYVxuICogPiBzbGlnaHRseSB1cGRhdGVkIHZlcnNpb24gb2YgUkZDLTgyMiBkYXRlIHN0YW1wcy5cbiAqL1xuXG4vLyBCdWlsZCBpbmRleGVzIG91dHNpZGUgc28gd2UgYWxsb2NhdGUgdGhlbSBvbmNlLlxuY29uc3QgZGF5czogQXJyYXk8U3RyaW5nPiA9IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXTtcbmNvbnN0IG1vbnRoczogQXJyYXk8U3RyaW5nPiA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRhdGVUb1V0Y1N0cmluZyhkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgY29uc3QgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKTtcbiAgY29uc3QgbW9udGggPSBkYXRlLmdldFVUQ01vbnRoKCk7XG4gIGNvbnN0IGRheU9mV2VlayA9IGRhdGUuZ2V0VVRDRGF5KCk7XG4gIGNvbnN0IGRheU9mTW9udGhJbnQgPSBkYXRlLmdldFVUQ0RhdGUoKTtcbiAgY29uc3QgaG91cnNJbnQgPSBkYXRlLmdldFVUQ0hvdXJzKCk7XG4gIGNvbnN0IG1pbnV0ZXNJbnQgPSBkYXRlLmdldFVUQ01pbnV0ZXMoKTtcbiAgY29uc3Qgc2Vjb25kc0ludCA9IGRhdGUuZ2V0VVRDU2Vjb25kcygpO1xuXG4gIC8vIEJ1aWxkIDAgcHJlZml4ZWQgc3RyaW5ncyBmb3IgY29udGVudHMgdGhhdCBuZWVkIHRvIGJlXG4gIC8vIHR3byBkaWdpdHMgYW5kIHdoZXJlIHdlIGdldCBhbiBpbnRlZ2VyIGJhY2suXG4gIGNvbnN0IGRheU9mTW9udGhTdHJpbmcgPSBkYXlPZk1vbnRoSW50IDwgMTAgPyBgMCR7ZGF5T2ZNb250aEludH1gIDogYCR7ZGF5T2ZNb250aEludH1gO1xuICBjb25zdCBob3Vyc1N0cmluZyA9IGhvdXJzSW50IDwgMTAgPyBgMCR7aG91cnNJbnR9YCA6IGAke2hvdXJzSW50fWA7XG4gIGNvbnN0IG1pbnV0ZXNTdHJpbmcgPSBtaW51dGVzSW50IDwgMTAgPyBgMCR7bWludXRlc0ludH1gIDogYCR7bWludXRlc0ludH1gO1xuICBjb25zdCBzZWNvbmRzU3RyaW5nID0gc2Vjb25kc0ludCA8IDEwID8gYDAke3NlY29uZHNJbnR9YCA6IGAke3NlY29uZHNJbnR9YDtcblxuICByZXR1cm4gYCR7ZGF5c1tkYXlPZldlZWtdfSwgJHtkYXlPZk1vbnRoU3RyaW5nfSAke21vbnRoc1ttb250aF19ICR7eWVhcn0gJHtob3Vyc1N0cmluZ306JHttaW51dGVzU3RyaW5nfToke3NlY29uZHNTdHJpbmd9IEdNVGA7XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ie11Sha256_1 = require(\"./ie11Sha256\");\nvar webCryptoSha256_1 = require(\"./webCryptoSha256\");\nvar sha256_js_1 = require(\"@aws-crypto/sha256-js\");\nvar supports_web_crypto_1 = require(\"@aws-crypto/supports-web-crypto\");\nvar ie11_detection_1 = require(\"@aws-crypto/ie11-detection\");\nvar util_locate_window_1 = require(\"@aws-sdk/util-locate-window\");\nvar Sha256 = /** @class */ (function () {\n    function Sha256(secret) {\n        if (supports_web_crypto_1.supportsWebCrypto(util_locate_window_1.locateWindow())) {\n            this.hash = new webCryptoSha256_1.Sha256(secret);\n        }\n        else if (ie11_detection_1.isMsWindow(util_locate_window_1.locateWindow())) {\n            this.hash = new ie11Sha256_1.Sha256(secret);\n        }\n        else {\n            this.hash = new sha256_js_1.Sha256(secret);\n        }\n    }\n    Sha256.prototype.update = function (data, encoding) {\n        this.hash.update(data, encoding);\n    };\n    Sha256.prototype.digest = function () {\n        return this.hash.digest();\n    };\n    return Sha256;\n}());\nexports.Sha256 = Sha256;\n//# sourceMappingURL=crossPlatformSha256.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Converts a JS string from its native UCS-2/UTF-16 representation into a\n * Uint8Array of the bytes used to represent the equivalent characters in UTF-8.\n *\n * Cribbed from the `goog.crypt.stringToUtf8ByteArray` function in the Google\n * Closure library, though updated to use typed arrays.\n */\nfunction fromUtf8(input) {\n    var bytes = [];\n    for (var i = 0, len = input.length; i < len; i++) {\n        var value = input.charCodeAt(i);\n        if (value < 0x80) {\n            bytes.push(value);\n        }\n        else if (value < 0x800) {\n            bytes.push((value >> 6) | 192, (value & 63) | 128);\n        }\n        else if (i + 1 < input.length &&\n            (value & 0xfc00) === 0xd800 &&\n            (input.charCodeAt(i + 1) & 0xfc00) === 0xdc00) {\n            var surrogatePair = 0x10000 +\n                ((value & 1023) << 10) +\n                (input.charCodeAt(++i) & 1023);\n            bytes.push((surrogatePair >> 18) | 240, ((surrogatePair >> 12) & 63) | 128, ((surrogatePair >> 6) & 63) | 128, (surrogatePair & 63) | 128);\n        }\n        else {\n            bytes.push((value >> 12) | 224, ((value >> 6) & 63) | 128, (value & 63) | 128);\n        }\n    }\n    return Uint8Array.from(bytes);\n}\nexports.fromUtf8 = fromUtf8;\n/**\n * Converts a typed array of bytes containing UTF-8 data into a native JS\n * string.\n *\n * Partly cribbed from the `goog.crypt.utf8ByteArrayToString` function in the\n * Google Closure library, though updated to use typed arrays and to better\n * handle astral plane code points.\n */\nfunction toUtf8(input) {\n    var decoded = \"\";\n    for (var i = 0, len = input.length; i < len; i++) {\n        var byte = input[i];\n        if (byte < 0x80) {\n            decoded += String.fromCharCode(byte);\n        }\n        else if (192 <= byte && byte < 224) {\n            var nextByte = input[++i];\n            decoded += String.fromCharCode(((byte & 31) << 6) | (nextByte & 63));\n        }\n        else if (240 <= byte && byte < 365) {\n            var surrogatePair = [byte, input[++i], input[++i], input[++i]];\n            var encoded = \"%\" + surrogatePair.map(function (byteValue) { return byteValue.toString(16); }).join(\"%\");\n            decoded += decodeURIComponent(encoded);\n        }\n        else {\n            decoded += String.fromCharCode(((byte & 15) << 12) |\n                ((input[++i] & 63) << 6) |\n                (input[++i] & 63));\n        }\n    }\n    return decoded;\n}\nexports.toUtf8 = toUtf8;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVyZUpzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3B1cmVKcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7R0FNRztBQUNILFNBQWdCLFFBQVEsQ0FBQyxLQUFhO0lBQ3BDLElBQU0sS0FBSyxHQUFrQixFQUFFLENBQUM7SUFDaEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNoRCxJQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksS0FBSyxHQUFHLElBQUksRUFBRTtZQUNoQixLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ25CO2FBQU0sSUFBSSxLQUFLLEdBQUcsS0FBSyxFQUFFO1lBQ3hCLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBVSxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsQ0FBQyxDQUFDO1NBQ3hFO2FBQU0sSUFDTCxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNO1lBQ3BCLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLE1BQU07WUFDM0IsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxNQUFNLEVBQzdDO1lBQ0EsSUFBTSxhQUFhLEdBQ2pCLE9BQU87Z0JBQ1AsQ0FBQyxDQUFDLEtBQUssR0FBRyxJQUFZLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQzlCLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQVksQ0FBQyxDQUFDO1lBQ3pDLEtBQUssQ0FBQyxJQUFJLENBQ1IsQ0FBQyxhQUFhLElBQUksRUFBRSxDQUFDLEdBQUcsR0FBVSxFQUNsQyxDQUFDLENBQUMsYUFBYSxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsRUFDL0MsQ0FBQyxDQUFDLGFBQWEsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFRLENBQUMsR0FBRyxHQUFVLEVBQzlDLENBQUMsYUFBYSxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsQ0FDeEMsQ0FBQztTQUNIO2FBQU07WUFDTCxLQUFLLENBQUMsSUFBSSxDQUNSLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEdBQVUsRUFDMUIsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFRLENBQUMsR0FBRyxHQUFVLEVBQ3RDLENBQUMsS0FBSyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsQ0FDaEMsQ0FBQztTQUNIO0tBQ0Y7SUFFRCxPQUFPLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDaEMsQ0FBQztBQWpDRCw0QkFpQ0M7QUFFRDs7Ozs7OztHQU9HO0FBQ0gsU0FBZ0IsTUFBTSxDQUFDLEtBQWlCO0lBQ3RDLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQztJQUNqQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ2hELElBQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QixJQUFJLElBQUksR0FBRyxJQUFJLEVBQUU7WUFDZixPQUFPLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN0QzthQUFNLElBQUksR0FBVSxJQUFJLElBQUksSUFBSSxJQUFJLEdBQUcsR0FBVSxFQUFFO1lBQ2xELElBQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzVCLE9BQU8sSUFBSSxNQUFNLENBQUMsWUFBWSxDQUM1QixDQUFDLENBQUMsSUFBSSxHQUFHLEVBQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLEVBQVEsQ0FBQyxDQUNoRCxDQUFDO1NBQ0g7YUFBTSxJQUFJLEdBQVUsSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLEdBQVcsRUFBRTtZQUNuRCxJQUFNLGFBQWEsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pFLElBQU0sT0FBTyxHQUNYLEdBQUcsR0FBRyxhQUFhLENBQUMsR0FBRyxDQUFDLFVBQUEsU0FBUyxJQUFJLE9BQUEsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsRUFBdEIsQ0FBc0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN6RSxPQUFPLElBQUksa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDeEM7YUFBTTtZQUNMLE9BQU8sSUFBSSxNQUFNLENBQUMsWUFBWSxDQUM1QixDQUFDLENBQUMsSUFBSSxHQUFHLEVBQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDckIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDOUIsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFRLENBQUMsQ0FDMUIsQ0FBQztTQUNIO0tBQ0Y7SUFFRCxPQUFPLE9BQU8sQ0FBQztBQUNqQixDQUFDO0FBMUJELHdCQTBCQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udmVydHMgYSBKUyBzdHJpbmcgZnJvbSBpdHMgbmF0aXZlIFVDUy0yL1VURi0xNiByZXByZXNlbnRhdGlvbiBpbnRvIGFcbiAqIFVpbnQ4QXJyYXkgb2YgdGhlIGJ5dGVzIHVzZWQgdG8gcmVwcmVzZW50IHRoZSBlcXVpdmFsZW50IGNoYXJhY3RlcnMgaW4gVVRGLTguXG4gKlxuICogQ3JpYmJlZCBmcm9tIHRoZSBgZ29vZy5jcnlwdC5zdHJpbmdUb1V0ZjhCeXRlQXJyYXlgIGZ1bmN0aW9uIGluIHRoZSBHb29nbGVcbiAqIENsb3N1cmUgbGlicmFyeSwgdGhvdWdoIHVwZGF0ZWQgdG8gdXNlIHR5cGVkIGFycmF5cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21VdGY4KGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgY29uc3QgYnl0ZXM6IEFycmF5PG51bWJlcj4gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGlucHV0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgdmFsdWUgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuICAgIGlmICh2YWx1ZSA8IDB4ODApIHtcbiAgICAgIGJ5dGVzLnB1c2godmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPCAweDgwMCkge1xuICAgICAgYnl0ZXMucHVzaCgodmFsdWUgPj4gNikgfCAwYjExMDAwMDAwLCAodmFsdWUgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgaSArIDEgPCBpbnB1dC5sZW5ndGggJiZcbiAgICAgICh2YWx1ZSAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJlxuICAgICAgKGlucHV0LmNoYXJDb2RlQXQoaSArIDEpICYgMHhmYzAwKSA9PT0gMHhkYzAwXG4gICAgKSB7XG4gICAgICBjb25zdCBzdXJyb2dhdGVQYWlyID1cbiAgICAgICAgMHgxMDAwMCArXG4gICAgICAgICgodmFsdWUgJiAwYjExMTExMTExMTEpIDw8IDEwKSArXG4gICAgICAgIChpbnB1dC5jaGFyQ29kZUF0KCsraSkgJiAwYjExMTExMTExMTEpO1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgKHN1cnJvZ2F0ZVBhaXIgPj4gMTgpIHwgMGIxMTExMDAwMCxcbiAgICAgICAgKChzdXJyb2dhdGVQYWlyID4+IDEyKSAmIDBiMTExMTExKSB8IDBiMTAwMDAwMDAsXG4gICAgICAgICgoc3Vycm9nYXRlUGFpciA+PiA2KSAmIDBiMTExMTExKSB8IDBiMTAwMDAwMDAsXG4gICAgICAgIChzdXJyb2dhdGVQYWlyICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgKHZhbHVlID4+IDEyKSB8IDBiMTExMDAwMDAsXG4gICAgICAgICgodmFsdWUgPj4gNikgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwLFxuICAgICAgICAodmFsdWUgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBVaW50OEFycmF5LmZyb20oYnl0ZXMpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgdHlwZWQgYXJyYXkgb2YgYnl0ZXMgY29udGFpbmluZyBVVEYtOCBkYXRhIGludG8gYSBuYXRpdmUgSlNcbiAqIHN0cmluZy5cbiAqXG4gKiBQYXJ0bHkgY3JpYmJlZCBmcm9tIHRoZSBgZ29vZy5jcnlwdC51dGY4Qnl0ZUFycmF5VG9TdHJpbmdgIGZ1bmN0aW9uIGluIHRoZVxuICogR29vZ2xlIENsb3N1cmUgbGlicmFyeSwgdGhvdWdoIHVwZGF0ZWQgdG8gdXNlIHR5cGVkIGFycmF5cyBhbmQgdG8gYmV0dGVyXG4gKiBoYW5kbGUgYXN0cmFsIHBsYW5lIGNvZGUgcG9pbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9VdGY4KGlucHV0OiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgbGV0IGRlY29kZWQgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gaW5wdXQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBieXRlID0gaW5wdXRbaV07XG4gICAgaWYgKGJ5dGUgPCAweDgwKSB7XG4gICAgICBkZWNvZGVkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSk7XG4gICAgfSBlbHNlIGlmICgwYjExMDAwMDAwIDw9IGJ5dGUgJiYgYnl0ZSA8IDBiMTExMDAwMDApIHtcbiAgICAgIGNvbnN0IG5leHRCeXRlID0gaW5wdXRbKytpXTtcbiAgICAgIGRlY29kZWQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShcbiAgICAgICAgKChieXRlICYgMGIxMTExMSkgPDwgNikgfCAobmV4dEJ5dGUgJiAwYjExMTExMSlcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICgwYjExMTEwMDAwIDw9IGJ5dGUgJiYgYnl0ZSA8IDBiMTAxMTAxMTAxKSB7XG4gICAgICBjb25zdCBzdXJyb2dhdGVQYWlyID0gW2J5dGUsIGlucHV0WysraV0sIGlucHV0WysraV0sIGlucHV0WysraV1dO1xuICAgICAgY29uc3QgZW5jb2RlZCA9XG4gICAgICAgIFwiJVwiICsgc3Vycm9nYXRlUGFpci5tYXAoYnl0ZVZhbHVlID0+IGJ5dGVWYWx1ZS50b1N0cmluZygxNikpLmpvaW4oXCIlXCIpO1xuICAgICAgZGVjb2RlZCArPSBkZWNvZGVVUklDb21wb25lbnQoZW5jb2RlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlY29kZWQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShcbiAgICAgICAgKChieXRlICYgMGIxMTExKSA8PCAxMikgfFxuICAgICAgICAgICgoaW5wdXRbKytpXSAmIDBiMTExMTExKSA8PCA2KSB8XG4gICAgICAgICAgKGlucHV0WysraV0gJiAwYjExMTExMSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRlY29kZWQ7XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction fromUtf8(input) {\n    return new TextEncoder().encode(input);\n}\nexports.fromUtf8 = fromUtf8;\nfunction toUtf8(input) {\n    return new TextDecoder(\"utf-8\").decode(input);\n}\nexports.toUtf8 = toUtf8;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2hhdHdnRW5jb2RpbmdBcGkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvd2hhdHdnRW5jb2RpbmdBcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUEyQ0EsU0FBZ0IsUUFBUSxDQUFDLEtBQWE7SUFDcEMsT0FBTyxJQUFJLFdBQVcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN6QyxDQUFDO0FBRkQsNEJBRUM7QUFFRCxTQUFnQixNQUFNLENBQUMsS0FBaUI7SUFDdEMsT0FBTyxJQUFJLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDaEQsQ0FBQztBQUZELHdCQUVDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIGRlY2xhcmF0aW9uIG9mIHRoZSBnbG9iYWwgVGV4dEVuY29kZXIgYW5kIFRleHREZWNvZGVyIGNvbnN0cnVjdG9ycy5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZW5jb2Rpbmcuc3BlYy53aGF0d2cub3JnL1xuICovXG5uYW1lc3BhY2UgRW5jb2Rpbmcge1xuICBpbnRlcmZhY2UgVGV4dERlY29kZXJPcHRpb25zIHtcbiAgICBmYXRhbD86IGJvb2xlYW47XG4gICAgaWdub3JlQk9NPzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBUZXh0RGVjb2RlT3B0aW9ucyB7XG4gICAgc3RyZWFtPzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBUZXh0RGVjb2RlciB7XG4gICAgcmVhZG9ubHkgZW5jb2Rpbmc6IHN0cmluZztcbiAgICByZWFkb25seSBmYXRhbDogYm9vbGVhbjtcbiAgICByZWFkb25seSBpZ25vcmVCT006IGJvb2xlYW47XG4gICAgZGVjb2RlKFxuICAgICAgaW5wdXQ/OiBBcnJheUJ1ZmZlciB8IEFycmF5QnVmZmVyVmlldyxcbiAgICAgIG9wdGlvbnM/OiBUZXh0RGVjb2RlT3B0aW9uc1xuICAgICk6IHN0cmluZztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGV4dERlY29kZXJDb25zdHJ1Y3RvciB7XG4gICAgbmV3IChsYWJlbD86IHN0cmluZywgb3B0aW9ucz86IFRleHREZWNvZGVyT3B0aW9ucyk6IFRleHREZWNvZGVyO1xuICB9XG5cbiAgaW50ZXJmYWNlIFRleHRFbmNvZGVyIHtcbiAgICByZWFkb25seSBlbmNvZGluZzogXCJ1dGYtOFwiO1xuICAgIGVuY29kZShpbnB1dD86IHN0cmluZyk6IFVpbnQ4QXJyYXk7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFRleHRFbmNvZGVyQ29uc3RydWN0b3Ige1xuICAgIG5ldyAoKTogVGV4dEVuY29kZXI7XG4gIH1cbn1cblxuZGVjbGFyZSBjb25zdCBUZXh0RGVjb2RlcjogRW5jb2RpbmcuVGV4dERlY29kZXJDb25zdHJ1Y3RvcjtcblxuZGVjbGFyZSBjb25zdCBUZXh0RW5jb2RlcjogRW5jb2RpbmcuVGV4dEVuY29kZXJDb25zdHJ1Y3RvcjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21VdGY4KGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShpbnB1dCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1V0ZjgoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICByZXR1cm4gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIikuZGVjb2RlKGlucHV0KTtcbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar constants_1 = require(\"./constants\");\nvar RawSha256_1 = require(\"./RawSha256\");\nvar util_utf8_browser_1 = require(\"@aws-sdk/util-utf8-browser\");\nvar Sha256 = /** @class */ (function () {\n    function Sha256(secret) {\n        this.hash = new RawSha256_1.RawSha256();\n        if (secret) {\n            this.outer = new RawSha256_1.RawSha256();\n            var inner = bufferFromSecret(secret);\n            var outer = new Uint8Array(constants_1.BLOCK_SIZE);\n            outer.set(inner);\n            for (var i = 0; i < constants_1.BLOCK_SIZE; i++) {\n                inner[i] ^= 0x36;\n                outer[i] ^= 0x5c;\n            }\n            this.hash.update(inner);\n            this.outer.update(outer);\n            // overwrite the copied key in memory\n            for (var i = 0; i < inner.byteLength; i++) {\n                inner[i] = 0;\n            }\n        }\n    }\n    Sha256.prototype.update = function (toHash) {\n        if (isEmptyData(toHash) || this.error) {\n            return;\n        }\n        try {\n            this.hash.update(convertToBuffer(toHash));\n        }\n        catch (e) {\n            this.error = e;\n        }\n    };\n    /* This synchronous method keeps compatibility\n     * with the v2 aws-sdk.\n     */\n    Sha256.prototype.digestSync = function () {\n        if (this.error) {\n            throw this.error;\n        }\n        if (this.outer) {\n            if (!this.outer.finished) {\n                this.outer.update(this.hash.digest());\n            }\n            return this.outer.digest();\n        }\n        return this.hash.digest();\n    };\n    /* The underlying digest method here is synchronous.\n     * To keep the same interface with the other hash functions\n     * the default is to expose this as an async method.\n     * However, it can sometimes be useful to have a sync method.\n     */\n    Sha256.prototype.digest = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            return tslib_1.__generator(this, function (_a) {\n                return [2 /*return*/, this.digestSync()];\n            });\n        });\n    };\n    return Sha256;\n}());\nexports.Sha256 = Sha256;\nfunction bufferFromSecret(secret) {\n    var input = convertToBuffer(secret);\n    if (input.byteLength > constants_1.BLOCK_SIZE) {\n        var bufferHash = new RawSha256_1.RawSha256();\n        bufferHash.update(input);\n        input = bufferHash.digest();\n    }\n    var buffer = new Uint8Array(constants_1.BLOCK_SIZE);\n    buffer.set(input);\n    return buffer;\n}\nfunction isEmptyData(data) {\n    if (typeof data === \"string\") {\n        return data.length === 0;\n    }\n    return data.byteLength === 0;\n}\nfunction convertToBuffer(data) {\n    if (typeof data === \"string\") {\n        return util_utf8_browser_1.fromUtf8(data);\n    }\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n    return new Uint8Array(data);\n}\n//# sourceMappingURL=jsSha256.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constants_1 = require(\"./constants\");\n/**\n * @internal\n */\nvar RawSha256 = /** @class */ (function () {\n    function RawSha256() {\n        this.state = Int32Array.from(constants_1.INIT);\n        this.temp = new Int32Array(64);\n        this.buffer = new Uint8Array(64);\n        this.bufferLength = 0;\n        this.bytesHashed = 0;\n        /**\n         * @internal\n         */\n        this.finished = false;\n    }\n    RawSha256.prototype.update = function (data) {\n        if (this.finished) {\n            throw new Error(\"Attempted to update an already finished hash.\");\n        }\n        var position = 0;\n        var byteLength = data.byteLength;\n        this.bytesHashed += byteLength;\n        if (this.bytesHashed * 8 > constants_1.MAX_HASHABLE_LENGTH) {\n            throw new Error(\"Cannot hash more than 2^53 - 1 bits\");\n        }\n        while (byteLength > 0) {\n            this.buffer[this.bufferLength++] = data[position++];\n            byteLength--;\n            if (this.bufferLength === constants_1.BLOCK_SIZE) {\n                this.hashBuffer();\n                this.bufferLength = 0;\n            }\n        }\n    };\n    RawSha256.prototype.digest = function () {\n        if (!this.finished) {\n            var bitsHashed = this.bytesHashed * 8;\n            var bufferView = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);\n            var undecoratedLength = this.bufferLength;\n            bufferView.setUint8(this.bufferLength++, 0x80);\n            // Ensure the final block has enough room for the hashed length\n            if (undecoratedLength % constants_1.BLOCK_SIZE >= constants_1.BLOCK_SIZE - 8) {\n                for (var i = this.bufferLength; i < constants_1.BLOCK_SIZE; i++) {\n                    bufferView.setUint8(i, 0);\n                }\n                this.hashBuffer();\n                this.bufferLength = 0;\n            }\n            for (var i = this.bufferLength; i < constants_1.BLOCK_SIZE - 8; i++) {\n                bufferView.setUint8(i, 0);\n            }\n            bufferView.setUint32(constants_1.BLOCK_SIZE - 8, Math.floor(bitsHashed / 0x100000000), true);\n            bufferView.setUint32(constants_1.BLOCK_SIZE - 4, bitsHashed);\n            this.hashBuffer();\n            this.finished = true;\n        }\n        // The value in state is little-endian rather than big-endian, so flip\n        // each word into a new Uint8Array\n        var out = new Uint8Array(constants_1.DIGEST_LENGTH);\n        for (var i = 0; i < 8; i++) {\n            out[i * 4] = (this.state[i] >>> 24) & 0xff;\n            out[i * 4 + 1] = (this.state[i] >>> 16) & 0xff;\n            out[i * 4 + 2] = (this.state[i] >>> 8) & 0xff;\n            out[i * 4 + 3] = (this.state[i] >>> 0) & 0xff;\n        }\n        return out;\n    };\n    RawSha256.prototype.hashBuffer = function () {\n        var _a = this, buffer = _a.buffer, state = _a.state;\n        var state0 = state[0], state1 = state[1], state2 = state[2], state3 = state[3], state4 = state[4], state5 = state[5], state6 = state[6], state7 = state[7];\n        for (var i = 0; i < constants_1.BLOCK_SIZE; i++) {\n            if (i < 16) {\n                this.temp[i] =\n                    ((buffer[i * 4] & 0xff) << 24) |\n                        ((buffer[i * 4 + 1] & 0xff) << 16) |\n                        ((buffer[i * 4 + 2] & 0xff) << 8) |\n                        (buffer[i * 4 + 3] & 0xff);\n            }\n            else {\n                var u = this.temp[i - 2];\n                var t1_1 = ((u >>> 17) | (u << 15)) ^ ((u >>> 19) | (u << 13)) ^ (u >>> 10);\n                u = this.temp[i - 15];\n                var t2_1 = ((u >>> 7) | (u << 25)) ^ ((u >>> 18) | (u << 14)) ^ (u >>> 3);\n                this.temp[i] =\n                    ((t1_1 + this.temp[i - 7]) | 0) + ((t2_1 + this.temp[i - 16]) | 0);\n            }\n            var t1 = ((((((state4 >>> 6) | (state4 << 26)) ^\n                ((state4 >>> 11) | (state4 << 21)) ^\n                ((state4 >>> 25) | (state4 << 7))) +\n                ((state4 & state5) ^ (~state4 & state6))) |\n                0) +\n                ((state7 + ((constants_1.KEY[i] + this.temp[i]) | 0)) | 0)) |\n                0;\n            var t2 = ((((state0 >>> 2) | (state0 << 30)) ^\n                ((state0 >>> 13) | (state0 << 19)) ^\n                ((state0 >>> 22) | (state0 << 10))) +\n                ((state0 & state1) ^ (state0 & state2) ^ (state1 & state2))) |\n                0;\n            state7 = state6;\n            state6 = state5;\n            state5 = state4;\n            state4 = (state3 + t1) | 0;\n            state3 = state2;\n            state2 = state1;\n            state1 = state0;\n            state0 = (t1 + t2) | 0;\n        }\n        state[0] += state0;\n        state[1] += state1;\n        state[2] += state2;\n        state[3] += state3;\n        state[4] += state4;\n        state[5] += state5;\n        state[6] += state6;\n        state[7] += state7;\n    };\n    return RawSha256;\n}());\nexports.RawSha256 = RawSha256;\n//# sourceMappingURL=RawSha256.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./supportsWebCrypto\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw4REFBb0MiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tIFwiLi9zdXBwb3J0c1dlYkNyeXB0b1wiO1xuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar subtleCryptoMethods = [\n    \"decrypt\",\n    \"digest\",\n    \"encrypt\",\n    \"exportKey\",\n    \"generateKey\",\n    \"importKey\",\n    \"sign\",\n    \"verify\"\n];\nfunction supportsWebCrypto(window) {\n    if (supportsSecureRandom(window) &&\n        typeof window.crypto.subtle === \"object\") {\n        var subtle = window.crypto.subtle;\n        return supportsSubtleCrypto(subtle);\n    }\n    return false;\n}\nexports.supportsWebCrypto = supportsWebCrypto;\nfunction supportsSecureRandom(window) {\n    if (typeof window === \"object\" && typeof window.crypto === \"object\") {\n        var getRandomValues = window.crypto.getRandomValues;\n        return typeof getRandomValues === \"function\";\n    }\n    return false;\n}\nexports.supportsSecureRandom = supportsSecureRandom;\nfunction supportsSubtleCrypto(subtle) {\n    return (subtle &&\n        subtleCryptoMethods.every(function (methodName) { return typeof subtle[methodName] === \"function\"; }));\n}\nexports.supportsSubtleCrypto = supportsSubtleCrypto;\nfunction supportsZeroByteGCM(subtle) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        var key, zeroByteAuthTag, _a;\n        return tslib_1.__generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!supportsSubtleCrypto(subtle))\n                        return [2 /*return*/, false];\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 4, , 5]);\n                    return [4 /*yield*/, subtle.generateKey({ name: \"AES-GCM\", length: 128 }, false, [\"encrypt\"])];\n                case 2:\n                    key = _b.sent();\n                    return [4 /*yield*/, subtle.encrypt({\n                            name: \"AES-GCM\",\n                            iv: new Uint8Array(Array(12)),\n                            additionalData: new Uint8Array(Array(16)),\n                            tagLength: 128\n                        }, key, new Uint8Array(0))];\n                case 3:\n                    zeroByteAuthTag = _b.sent();\n                    return [2 /*return*/, zeroByteAuthTag.byteLength === 16];\n                case 4:\n                    _a = _b.sent();\n                    return [2 /*return*/, false];\n                case 5: return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.supportsZeroByteGCM = supportsZeroByteGCM;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VwcG9ydHNXZWJDcnlwdG8uanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJzdXBwb3J0c1dlYkNyeXB0by50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFVQSxJQUFNLG1CQUFtQixHQUE4QjtJQUNyRCxTQUFTO0lBQ1QsUUFBUTtJQUNSLFNBQVM7SUFDVCxXQUFXO0lBQ1gsYUFBYTtJQUNiLFdBQVc7SUFDWCxNQUFNO0lBQ04sUUFBUTtDQUNULENBQUM7QUFFRixTQUFnQixpQkFBaUIsQ0FBQyxNQUFjO0lBQzlDLElBQ0Usb0JBQW9CLENBQUMsTUFBTSxDQUFDO1FBQzVCLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssUUFBUSxFQUN4QztRQUNRLElBQUEsNkJBQU0sQ0FBbUI7UUFFakMsT0FBTyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUNyQztJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQVhELDhDQVdDO0FBRUQsU0FBZ0Isb0JBQW9CLENBQUMsTUFBYztJQUNqRCxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsSUFBSSxPQUFPLE1BQU0sQ0FBQyxNQUFNLEtBQUssUUFBUSxFQUFFO1FBQzNELElBQUEsK0NBQWUsQ0FBbUI7UUFFMUMsT0FBTyxPQUFPLGVBQWUsS0FBSyxVQUFVLENBQUM7S0FDOUM7SUFFRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFSRCxvREFRQztBQUVELFNBQWdCLG9CQUFvQixDQUFDLE1BQW9CO0lBQ3ZELE9BQU8sQ0FDTCxNQUFNO1FBQ04sbUJBQW1CLENBQUMsS0FBSyxDQUN2QixVQUFBLFVBQVUsSUFBSSxPQUFBLE9BQU8sTUFBTSxDQUFDLFVBQVUsQ0FBQyxLQUFLLFVBQVUsRUFBeEMsQ0FBd0MsQ0FDdkQsQ0FDRixDQUFDO0FBQ0osQ0FBQztBQVBELG9EQU9DO0FBRUQsU0FBc0IsbUJBQW1CLENBQUMsTUFBb0I7Ozs7OztvQkFDNUQsSUFBSSxDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQzt3QkFBRSxzQkFBTyxLQUFLLEVBQUM7Ozs7b0JBRWxDLHFCQUFNLE1BQU0sQ0FBQyxXQUFXLENBQ2xDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQ2hDLEtBQUssRUFDTCxDQUFDLFNBQVMsQ0FBQyxDQUNaLEVBQUE7O29CQUpLLEdBQUcsR0FBRyxTQUlYO29CQUN1QixxQkFBTSxNQUFNLENBQUMsT0FBTyxDQUMxQzs0QkFDRSxJQUFJLEVBQUUsU0FBUzs0QkFDZixFQUFFLEVBQUUsSUFBSSxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDOzRCQUM3QixjQUFjLEVBQUUsSUFBSSxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDOzRCQUN6QyxTQUFTLEVBQUUsR0FBRzt5QkFDZixFQUNELEdBQUcsRUFDSCxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FDbEIsRUFBQTs7b0JBVEssZUFBZSxHQUFHLFNBU3ZCO29CQUNELHNCQUFPLGVBQWUsQ0FBQyxVQUFVLEtBQUssRUFBRSxFQUFDOzs7b0JBRXpDLHNCQUFPLEtBQUssRUFBQzs7Ozs7Q0FFaEI7QUF0QkQsa0RBc0JDIiwic291cmNlc0NvbnRlbnQiOlsidHlwZSBTdWJ0bGVDcnlwdG9NZXRob2QgPVxuICB8IFwiZGVjcnlwdFwiXG4gIHwgXCJkaWdlc3RcIlxuICB8IFwiZW5jcnlwdFwiXG4gIHwgXCJleHBvcnRLZXlcIlxuICB8IFwiZ2VuZXJhdGVLZXlcIlxuICB8IFwiaW1wb3J0S2V5XCJcbiAgfCBcInNpZ25cIlxuICB8IFwidmVyaWZ5XCI7XG5cbmNvbnN0IHN1YnRsZUNyeXB0b01ldGhvZHM6IEFycmF5PFN1YnRsZUNyeXB0b01ldGhvZD4gPSBbXG4gIFwiZGVjcnlwdFwiLFxuICBcImRpZ2VzdFwiLFxuICBcImVuY3J5cHRcIixcbiAgXCJleHBvcnRLZXlcIixcbiAgXCJnZW5lcmF0ZUtleVwiLFxuICBcImltcG9ydEtleVwiLFxuICBcInNpZ25cIixcbiAgXCJ2ZXJpZnlcIlxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzV2ViQ3J5cHRvKHdpbmRvdzogV2luZG93KTogYm9vbGVhbiB7XG4gIGlmIChcbiAgICBzdXBwb3J0c1NlY3VyZVJhbmRvbSh3aW5kb3cpICYmXG4gICAgdHlwZW9mIHdpbmRvdy5jcnlwdG8uc3VidGxlID09PSBcIm9iamVjdFwiXG4gICkge1xuICAgIGNvbnN0IHsgc3VidGxlIH0gPSB3aW5kb3cuY3J5cHRvO1xuXG4gICAgcmV0dXJuIHN1cHBvcnRzU3VidGxlQ3J5cHRvKHN1YnRsZSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0c1NlY3VyZVJhbmRvbSh3aW5kb3c6IFdpbmRvdyk6IGJvb2xlYW4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygd2luZG93LmNyeXB0byA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHsgZ2V0UmFuZG9tVmFsdWVzIH0gPSB3aW5kb3cuY3J5cHRvO1xuXG4gICAgcmV0dXJuIHR5cGVvZiBnZXRSYW5kb21WYWx1ZXMgPT09IFwiZnVuY3Rpb25cIjtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzU3VidGxlQ3J5cHRvKHN1YnRsZTogU3VidGxlQ3J5cHRvKSB7XG4gIHJldHVybiAoXG4gICAgc3VidGxlICYmXG4gICAgc3VidGxlQ3J5cHRvTWV0aG9kcy5ldmVyeShcbiAgICAgIG1ldGhvZE5hbWUgPT4gdHlwZW9mIHN1YnRsZVttZXRob2ROYW1lXSA9PT0gXCJmdW5jdGlvblwiXG4gICAgKVxuICApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3VwcG9ydHNaZXJvQnl0ZUdDTShzdWJ0bGU6IFN1YnRsZUNyeXB0bykge1xuICBpZiAoIXN1cHBvcnRzU3VidGxlQ3J5cHRvKHN1YnRsZSkpIHJldHVybiBmYWxzZTtcbiAgdHJ5IHtcbiAgICBjb25zdCBrZXkgPSBhd2FpdCBzdWJ0bGUuZ2VuZXJhdGVLZXkoXG4gICAgICB7IG5hbWU6IFwiQUVTLUdDTVwiLCBsZW5ndGg6IDEyOCB9LFxuICAgICAgZmFsc2UsXG4gICAgICBbXCJlbmNyeXB0XCJdXG4gICAgKTtcbiAgICBjb25zdCB6ZXJvQnl0ZUF1dGhUYWcgPSBhd2FpdCBzdWJ0bGUuZW5jcnlwdChcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJBRVMtR0NNXCIsXG4gICAgICAgIGl2OiBuZXcgVWludDhBcnJheShBcnJheSgxMikpLFxuICAgICAgICBhZGRpdGlvbmFsRGF0YTogbmV3IFVpbnQ4QXJyYXkoQXJyYXkoMTYpKSxcbiAgICAgICAgdGFnTGVuZ3RoOiAxMjhcbiAgICAgIH0sXG4gICAgICBrZXksXG4gICAgICBuZXcgVWludDhBcnJheSgwKVxuICAgICk7XG4gICAgcmV0dXJuIHplcm9CeXRlQXV0aFRhZy5ieXRlTGVuZ3RoID09PSAxNjtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./MsWindow\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar msSubtleCryptoMethods = [\n    \"decrypt\",\n    \"digest\",\n    \"encrypt\",\n    \"exportKey\",\n    \"generateKey\",\n    \"importKey\",\n    \"sign\",\n    \"verify\"\n];\nfunction quacksLikeAnMsWindow(window) {\n    return \"MSInputMethodContext\" in window && \"msCrypto\" in window;\n}\n/**\n * Determines if the provided window is (or is like) the window object one would\n * expect to encounter in Internet Explorer 11.\n */\nfunction isMsWindow(window) {\n    if (quacksLikeAnMsWindow(window) && window.msCrypto.subtle !== undefined) {\n        var _a = window.msCrypto, getRandomValues = _a.getRandomValues, subtle_1 = _a.subtle;\n        return msSubtleCryptoMethods\n            .map(function (methodName) { return subtle_1[methodName]; })\n            .concat(getRandomValues)\n            .every(function (method) { return typeof method === \"function\"; });\n    }\n    return false;\n}\nexports.isMsWindow = isMsWindow;\n//# sourceMappingURL=MsWindow.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar protocol_http_1 = require(\"@aws-sdk/protocol-http\");\nvar request_timeout_1 = require(\"./request-timeout\");\nvar querystring_builder_1 = require(\"@aws-sdk/querystring-builder\");\nvar FetchHttpHandler = /** @class */ (function () {\n    function FetchHttpHandler(httpOptions) {\n        if (httpOptions === void 0) { httpOptions = {}; }\n        this.httpOptions = httpOptions;\n    }\n    FetchHttpHandler.prototype.destroy = function () {\n        // Do nothing. TLS and HTTP/2 connection pooling is handled by the\n        // browser.\n    };\n    FetchHttpHandler.prototype.handle = function (request, options) {\n        var _this = this;\n        var abortSignal = options === null || options === void 0 ? void 0 : options.abortSignal;\n        var requestTimeoutInMs = this.httpOptions.requestTimeout;\n        // if the request was already aborted, prevent doing extra work\n        if (abortSignal === null || abortSignal === void 0 ? void 0 : abortSignal.aborted) {\n            var abortError = new Error(\"Request aborted\");\n            abortError.name = \"AbortError\";\n            return Promise.reject(abortError);\n        }\n        var path = request.path;\n        if (request.query) {\n            var queryString = querystring_builder_1.buildQueryString(request.query);\n            if (queryString) {\n                path += \"?\" + queryString;\n            }\n        }\n        var port = request.port;\n        var url = request.protocol + \"//\" + request.hostname + (port ? \":\" + port : \"\") + path;\n        var requestOptions = {\n            body: request.body,\n            headers: new Headers(request.headers),\n            method: request.method,\n            mode: \"cors\"\n        };\n        // some browsers support abort signal\n        if (typeof AbortController !== \"undefined\") {\n            requestOptions[\"signal\"] = abortSignal;\n        }\n        var fetchRequest = new Request(url, requestOptions);\n        var raceOfPromises = [\n            fetch(fetchRequest).then(function (response) {\n                var e_1, _a;\n                var fetchHeaders = response.headers;\n                var transformedHeaders = {};\n                try {\n                    for (var _b = tslib_1.__values(fetchHeaders.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var pair = _c.value;\n                        transformedHeaders[pair[0]] = pair[1];\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                // Return the response with buffered body\n                if (_this.httpOptions.bufferBody) {\n                    return response.blob().then(function (body) { return ({\n                        response: new protocol_http_1.HttpResponse({\n                            headers: transformedHeaders,\n                            statusCode: response.status,\n                            body: body\n                        })\n                    }); });\n                }\n                // Return the response with streaming body\n                return {\n                    response: new protocol_http_1.HttpResponse({\n                        headers: transformedHeaders,\n                        statusCode: response.status,\n                        body: response.body\n                    })\n                };\n            }),\n            request_timeout_1.requestTimeout(requestTimeoutInMs)\n        ];\n        if (abortSignal) {\n            raceOfPromises.push(new Promise(function (resolve, reject) {\n                abortSignal.onabort = function () {\n                    var abortError = new Error(\"Request aborted\");\n                    abortError.name = \"AbortError\";\n                    reject(abortError);\n                };\n            }));\n        }\n        return Promise.race(raceOfPromises);\n    };\n    return FetchHttpHandler;\n}());\nexports.FetchHttpHandler = FetchHttpHandler;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmV0Y2gtaHR0cC1oYW5kbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2ZldGNoLWh0dHAtaGFuZGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx3REFBZ0Y7QUFDaEYscURBQW1EO0FBQ25ELG9FQUFnRTtBQXVCaEU7SUFDRSwwQkFBNkIsV0FBb0M7UUFBcEMsNEJBQUEsRUFBQSxnQkFBb0M7UUFBcEMsZ0JBQVcsR0FBWCxXQUFXLENBQXlCO0lBQUcsQ0FBQztJQUVyRSxrQ0FBTyxHQUFQO1FBQ0Usa0VBQWtFO1FBQ2xFLFdBQVc7SUFDYixDQUFDO0lBRUQsaUNBQU0sR0FBTixVQUNFLE9BQW9CLEVBQ3BCLE9BQTJCO1FBRjdCLGlCQWlGQztRQTdFQyxJQUFNLFdBQVcsR0FBRyxPQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsV0FBVyxDQUFDO1FBQ3pDLElBQU0sa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUM7UUFFM0QsK0RBQStEO1FBQy9ELElBQUksV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLE9BQU8sRUFBRTtZQUN4QixJQUFNLFVBQVUsR0FBRyxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ2hELFVBQVUsQ0FBQyxJQUFJLEdBQUcsWUFBWSxDQUFDO1lBQy9CLE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUNuQztRQUVELElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFDeEIsSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFO1lBQ2pCLElBQU0sV0FBVyxHQUFHLHNDQUFnQixDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNwRCxJQUFJLFdBQVcsRUFBRTtnQkFDZixJQUFJLElBQUksTUFBSSxXQUFhLENBQUM7YUFDM0I7U0FDRjtRQUVELElBQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFDMUIsSUFBTSxHQUFHLEdBQU0sT0FBTyxDQUFDLFFBQVEsVUFBSyxPQUFPLENBQUMsUUFBUSxJQUNsRCxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQUksSUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQ3JCLElBQU0sQ0FBQztRQUNWLElBQU0sY0FBYyxHQUFnQjtZQUNsQyxJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUk7WUFDbEIsT0FBTyxFQUFFLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUM7WUFDckMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxNQUFNO1lBQ3RCLElBQUksRUFBRSxNQUFNO1NBQ2IsQ0FBQztRQUVGLHFDQUFxQztRQUNyQyxJQUFJLE9BQU8sZUFBZSxLQUFLLFdBQVcsRUFBRTtZQUN6QyxjQUFzQixDQUFDLFFBQVEsQ0FBQyxHQUFHLFdBQVcsQ0FBQztTQUNqRDtRQUVELElBQU0sWUFBWSxHQUFHLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRSxjQUFjLENBQUMsQ0FBQztRQUN0RCxJQUFNLGNBQWMsR0FBRztZQUNyQixLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsUUFBUTs7Z0JBQy9CLElBQU0sWUFBWSxHQUFRLFFBQVEsQ0FBQyxPQUFPLENBQUM7Z0JBQzNDLElBQU0sa0JBQWtCLEdBQWMsRUFBRSxDQUFDOztvQkFFekMsS0FBaUIsSUFBQSxLQUFBLGlCQUFpQixZQUFZLENBQUMsT0FBTyxFQUFFLENBQUEsZ0JBQUEsNEJBQUU7d0JBQXJELElBQUksSUFBSSxXQUFBO3dCQUNYLGtCQUFrQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztxQkFDdkM7Ozs7Ozs7OztnQkFFRCx5Q0FBeUM7Z0JBQ3pDLElBQUksS0FBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLEVBQUU7b0JBQy9CLE9BQU8sUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFBLElBQUksSUFBSSxPQUFBLENBQUM7d0JBQ25DLFFBQVEsRUFBRSxJQUFJLDRCQUFZLENBQUM7NEJBQ3pCLE9BQU8sRUFBRSxrQkFBa0I7NEJBQzNCLFVBQVUsRUFBRSxRQUFRLENBQUMsTUFBTTs0QkFDM0IsSUFBSSxNQUFBO3lCQUNMLENBQUM7cUJBQ0gsQ0FBQyxFQU5rQyxDQU1sQyxDQUFDLENBQUM7aUJBQ0w7Z0JBQ0QsMENBQTBDO2dCQUMxQyxPQUFPO29CQUNMLFFBQVEsRUFBRSxJQUFJLDRCQUFZLENBQUM7d0JBQ3pCLE9BQU8sRUFBRSxrQkFBa0I7d0JBQzNCLFVBQVUsRUFBRSxRQUFRLENBQUMsTUFBTTt3QkFDM0IsSUFBSSxFQUFFLFFBQVEsQ0FBQyxJQUFJO3FCQUNwQixDQUFDO2lCQUNILENBQUM7WUFDSixDQUFDLENBQUM7WUFDRixnQ0FBYyxDQUFDLGtCQUFrQixDQUFDO1NBQ25DLENBQUM7UUFDRixJQUFJLFdBQVcsRUFBRTtZQUNmLGNBQWMsQ0FBQyxJQUFJLENBQ2pCLElBQUksT0FBTyxDQUFRLFVBQUMsT0FBTyxFQUFFLE1BQU07Z0JBQ2pDLFdBQVcsQ0FBQyxPQUFPLEdBQUc7b0JBQ3BCLElBQU0sVUFBVSxHQUFHLElBQUksS0FBSyxDQUFDLGlCQUFpQixDQUFDLENBQUM7b0JBQ2hELFVBQVUsQ0FBQyxJQUFJLEdBQUcsWUFBWSxDQUFDO29CQUMvQixNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ3JCLENBQUMsQ0FBQztZQUNKLENBQUMsQ0FBQyxDQUNILENBQUM7U0FDSDtRQUNELE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBQ0gsdUJBQUM7QUFBRCxDQUFDLEFBMUZELElBMEZDO0FBMUZZLDRDQUFnQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEhlYWRlckJhZywgSHR0cEhhbmRsZXJPcHRpb25zIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBIdHRwSGFuZGxlciwgSHR0cFJlcXVlc3QsIEh0dHBSZXNwb25zZSB9IGZyb20gXCJAYXdzLXNkay9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQgeyByZXF1ZXN0VGltZW91dCB9IGZyb20gXCIuL3JlcXVlc3QtdGltZW91dFwiO1xuaW1wb3J0IHsgYnVpbGRRdWVyeVN0cmluZyB9IGZyb20gXCJAYXdzLXNkay9xdWVyeXN0cmluZy1idWlsZGVyXCI7XG5cbmRlY2xhcmUgdmFyIEFib3J0Q29udHJvbGxlcjogYW55O1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGh0dHAgb3B0aW9ucyB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gYSBicm93c2VyIGh0dHAgY2xpZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyb3dzZXJIdHRwT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBhIHJlcXVlc3QgY2FuIHRha2UgYmVmb3JlIGJlaW5nIGF1dG9tYXRpY2FsbHlcbiAgICogdGVybWluYXRlZC5cbiAgICovXG4gIHJlcXVlc3RUaW1lb3V0PzogbnVtYmVyO1xuICAvKipcbiAgICogQnVmZmVyIHRoZSB3aG9sZSByZXNwb25zZSBib2R5IGJlZm9yZSByZXR1cm5pbmcuIFRoaXMgb3B0aW9uIGlzIHVzZWZ1bCBpbiB0aGVcbiAgICogcnVudGltZSB0aGF0IGRvZXNuJ3Qgc3VwcG9ydCBSZWFkYWJsZVN0cmVhbSBpbiByZXNwb25zZSBsaWtlIFJlYWN0TmF0aXZlLiBXaGVuXG4gICAqIHNldCB0byB0cnVlLCB0aGUgcmVzcG9uc2UgYm9keSBvZiBodHRwIGhhbmRsZXIgd2lsbCBiZSBhIEJsb2IgaW5zdGVhZCBvZlxuICAgKiBSZWFkYWJsZVN0cmVhbS5cbiAgICogVGhpcyBvcHRpb24gaXMgb25seSB1c2VmdWwgaW4gUmVhY3ROYXRpdmUuXG4gICAqL1xuICBidWZmZXJCb2R5PzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIEZldGNoSHR0cEhhbmRsZXIgaW1wbGVtZW50cyBIdHRwSGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgaHR0cE9wdGlvbnM6IEJyb3dzZXJIdHRwT3B0aW9ucyA9IHt9KSB7fVxuXG4gIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgLy8gRG8gbm90aGluZy4gVExTIGFuZCBIVFRQLzIgY29ubmVjdGlvbiBwb29saW5nIGlzIGhhbmRsZWQgYnkgdGhlXG4gICAgLy8gYnJvd3Nlci5cbiAgfVxuXG4gIGhhbmRsZShcbiAgICByZXF1ZXN0OiBIdHRwUmVxdWVzdCxcbiAgICBvcHRpb25zOiBIdHRwSGFuZGxlck9wdGlvbnNcbiAgKTogUHJvbWlzZTx7IHJlc3BvbnNlOiBIdHRwUmVzcG9uc2UgfT4ge1xuICAgIGNvbnN0IGFib3J0U2lnbmFsID0gb3B0aW9ucz8uYWJvcnRTaWduYWw7XG4gICAgY29uc3QgcmVxdWVzdFRpbWVvdXRJbk1zID0gdGhpcy5odHRwT3B0aW9ucy5yZXF1ZXN0VGltZW91dDtcblxuICAgIC8vIGlmIHRoZSByZXF1ZXN0IHdhcyBhbHJlYWR5IGFib3J0ZWQsIHByZXZlbnQgZG9pbmcgZXh0cmEgd29ya1xuICAgIGlmIChhYm9ydFNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgY29uc3QgYWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIlJlcXVlc3QgYWJvcnRlZFwiKTtcbiAgICAgIGFib3J0RXJyb3IubmFtZSA9IFwiQWJvcnRFcnJvclwiO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGFib3J0RXJyb3IpO1xuICAgIH1cblxuICAgIGxldCBwYXRoID0gcmVxdWVzdC5wYXRoO1xuICAgIGlmIChyZXF1ZXN0LnF1ZXJ5KSB7XG4gICAgICBjb25zdCBxdWVyeVN0cmluZyA9IGJ1aWxkUXVlcnlTdHJpbmcocmVxdWVzdC5xdWVyeSk7XG4gICAgICBpZiAocXVlcnlTdHJpbmcpIHtcbiAgICAgICAgcGF0aCArPSBgPyR7cXVlcnlTdHJpbmd9YDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwb3J0ID0gcmVxdWVzdC5wb3J0O1xuICAgIGNvbnN0IHVybCA9IGAke3JlcXVlc3QucHJvdG9jb2x9Ly8ke3JlcXVlc3QuaG9zdG5hbWV9JHtcbiAgICAgIHBvcnQgPyBgOiR7cG9ydH1gIDogXCJcIlxuICAgIH0ke3BhdGh9YDtcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdEluaXQgPSB7XG4gICAgICBib2R5OiByZXF1ZXN0LmJvZHksXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyhyZXF1ZXN0LmhlYWRlcnMpLFxuICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgIG1vZGU6IFwiY29yc1wiXG4gICAgfTtcblxuICAgIC8vIHNvbWUgYnJvd3NlcnMgc3VwcG9ydCBhYm9ydCBzaWduYWxcbiAgICBpZiAodHlwZW9mIEFib3J0Q29udHJvbGxlciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgKHJlcXVlc3RPcHRpb25zIGFzIGFueSlbXCJzaWduYWxcIl0gPSBhYm9ydFNpZ25hbDtcbiAgICB9XG5cbiAgICBjb25zdCBmZXRjaFJlcXVlc3QgPSBuZXcgUmVxdWVzdCh1cmwsIHJlcXVlc3RPcHRpb25zKTtcbiAgICBjb25zdCByYWNlT2ZQcm9taXNlcyA9IFtcbiAgICAgIGZldGNoKGZldGNoUmVxdWVzdCkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIGNvbnN0IGZldGNoSGVhZGVyczogYW55ID0gcmVzcG9uc2UuaGVhZGVycztcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRIZWFkZXJzOiBIZWFkZXJCYWcgPSB7fTtcblxuICAgICAgICBmb3IgKGxldCBwYWlyIG9mIDxBcnJheTxzdHJpbmdbXT4+ZmV0Y2hIZWFkZXJzLmVudHJpZXMoKSkge1xuICAgICAgICAgIHRyYW5zZm9ybWVkSGVhZGVyc1twYWlyWzBdXSA9IHBhaXJbMV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXR1cm4gdGhlIHJlc3BvbnNlIHdpdGggYnVmZmVyZWQgYm9keVxuICAgICAgICBpZiAodGhpcy5odHRwT3B0aW9ucy5idWZmZXJCb2R5KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKS50aGVuKGJvZHkgPT4gKHtcbiAgICAgICAgICAgIHJlc3BvbnNlOiBuZXcgSHR0cFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgaGVhZGVyczogdHJhbnNmb3JtZWRIZWFkZXJzLFxuICAgICAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgIGJvZHlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybiB0aGUgcmVzcG9uc2Ugd2l0aCBzdHJlYW1pbmcgYm9keVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3BvbnNlOiBuZXcgSHR0cFJlc3BvbnNlKHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHRyYW5zZm9ybWVkSGVhZGVycyxcbiAgICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgIGJvZHk6IHJlc3BvbnNlLmJvZHlcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICByZXF1ZXN0VGltZW91dChyZXF1ZXN0VGltZW91dEluTXMpXG4gICAgXTtcbiAgICBpZiAoYWJvcnRTaWduYWwpIHtcbiAgICAgIHJhY2VPZlByb21pc2VzLnB1c2goXG4gICAgICAgIG5ldyBQcm9taXNlPG5ldmVyPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgYWJvcnRTaWduYWwub25hYm9ydCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJSZXF1ZXN0IGFib3J0ZWRcIik7XG4gICAgICAgICAgICBhYm9ydEVycm9yLm5hbWUgPSBcIkFib3J0RXJyb3JcIjtcbiAgICAgICAgICAgIHJlamVjdChhYm9ydEVycm9yKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmFjZShyYWNlT2ZQcm9taXNlcyk7XG4gIH1cbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction requestTimeout(timeoutInMs) {\n    if (timeoutInMs === void 0) { timeoutInMs = 0; }\n    return new Promise(function (resolve, reject) {\n        if (timeoutInMs) {\n            setTimeout(function () {\n                var timeoutError = new Error(\"Request did not complete within \" + timeoutInMs + \" ms\");\n                timeoutError.name = \"TimeoutError\";\n                reject(timeoutError);\n            }, timeoutInMs);\n        }\n    });\n}\nexports.requestTimeout = requestTimeout;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVxdWVzdC10aW1lb3V0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3JlcXVlc3QtdGltZW91dC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLFNBQWdCLGNBQWMsQ0FBQyxXQUF1QjtJQUF2Qiw0QkFBQSxFQUFBLGVBQXVCO0lBQ3BELE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTTtRQUNqQyxJQUFJLFdBQVcsRUFBRTtZQUNmLFVBQVUsQ0FBQztnQkFDVCxJQUFNLFlBQVksR0FBRyxJQUFJLEtBQUssQ0FDNUIscUNBQW1DLFdBQVcsUUFBSyxDQUNwRCxDQUFDO2dCQUNGLFlBQVksQ0FBQyxJQUFJLEdBQUcsY0FBYyxDQUFDO2dCQUNuQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDdkIsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1NBQ2pCO0lBQ0gsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBWkQsd0NBWUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gcmVxdWVzdFRpbWVvdXQodGltZW91dEluTXM6IG51bWJlciA9IDApOiBQcm9taXNlPG5ldmVyPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKHRpbWVvdXRJbk1zKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgdGltZW91dEVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAgIGBSZXF1ZXN0IGRpZCBub3QgY29tcGxldGUgd2l0aGluICR7dGltZW91dEluTXN9IG1zYFxuICAgICAgICApO1xuICAgICAgICB0aW1lb3V0RXJyb3IubmFtZSA9IFwiVGltZW91dEVycm9yXCI7XG4gICAgICAgIHJlamVjdCh0aW1lb3V0RXJyb3IpO1xuICAgICAgfSwgdGltZW91dEluTXMpO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar util_uri_escape_1 = require(\"@aws-sdk/util-uri-escape\");\nfunction buildQueryString(query) {\n    var e_1, _a;\n    var parts = [];\n    try {\n        for (var _b = tslib_1.__values(Object.keys(query).sort()), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var key = _c.value;\n            var value = query[key];\n            key = util_uri_escape_1.escapeUri(key);\n            if (Array.isArray(value)) {\n                for (var i = 0, iLen = value.length; i < iLen; i++) {\n                    parts.push(key + \"=\" + util_uri_escape_1.escapeUri(value[i]));\n                }\n            }\n            else {\n                var qsEntry = key;\n                if (value || typeof value === \"string\") {\n                    qsEntry += \"=\" + util_uri_escape_1.escapeUri(value);\n                }\n                parts.push(qsEntry);\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return parts.join(\"&\");\n}\nexports.buildQueryString = buildQueryString;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsNERBQXFEO0FBRXJELFNBQWdCLGdCQUFnQixDQUFDLEtBQXdCOztJQUN2RCxJQUFNLEtBQUssR0FBYSxFQUFFLENBQUM7O1FBQzNCLEtBQWdCLElBQUEsS0FBQSxpQkFBQSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBLGdCQUFBLDRCQUFFO1lBQXRDLElBQUksR0FBRyxXQUFBO1lBQ1YsSUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3pCLEdBQUcsR0FBRywyQkFBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3JCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDeEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDbEQsS0FBSyxDQUFDLElBQUksQ0FBSSxHQUFHLFNBQUksMkJBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUcsQ0FBQyxDQUFDO2lCQUM3QzthQUNGO2lCQUFNO2dCQUNMLElBQUksT0FBTyxHQUFHLEdBQUcsQ0FBQztnQkFDbEIsSUFBSSxLQUFLLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO29CQUN0QyxPQUFPLElBQUksTUFBSSwyQkFBUyxDQUFDLEtBQUssQ0FBRyxDQUFDO2lCQUNuQztnQkFDRCxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2FBQ3JCO1NBQ0Y7Ozs7Ozs7OztJQUVELE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN6QixDQUFDO0FBbkJELDRDQW1CQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFF1ZXJ5UGFyYW1ldGVyQmFnIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBlc2NhcGVVcmkgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11cmktZXNjYXBlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFF1ZXJ5U3RyaW5nKHF1ZXJ5OiBRdWVyeVBhcmFtZXRlckJhZyk6IHN0cmluZyB7XG4gIGNvbnN0IHBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMocXVlcnkpLnNvcnQoKSkge1xuICAgIGNvbnN0IHZhbHVlID0gcXVlcnlba2V5XTtcbiAgICBrZXkgPSBlc2NhcGVVcmkoa2V5KTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpTGVuID0gdmFsdWUubGVuZ3RoOyBpIDwgaUxlbjsgaSsrKSB7XG4gICAgICAgIHBhcnRzLnB1c2goYCR7a2V5fT0ke2VzY2FwZVVyaSh2YWx1ZVtpXSl9YCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBxc0VudHJ5ID0ga2V5O1xuICAgICAgaWYgKHZhbHVlIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBxc0VudHJ5ICs9IGA9JHtlc2NhcGVVcmkodmFsdWUpfWA7XG4gICAgICB9XG4gICAgICBwYXJ0cy5wdXNoKHFzRW50cnkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKFwiJlwiKTtcbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nfunction parseQueryString(querystring) {\n    var e_1, _a;\n    var query = {};\n    querystring = querystring.replace(/^\\?/, \"\");\n    if (querystring) {\n        try {\n            for (var _b = tslib_1.__values(querystring.split(\"&\")), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var pair = _c.value;\n                var _d = tslib_1.__read(pair.split(\"=\"), 2), key = _d[0], _e = _d[1], value = _e === void 0 ? null : _e;\n                key = decodeURIComponent(key);\n                if (value) {\n                    value = decodeURIComponent(value);\n                }\n                if (!(key in query)) {\n                    query[key] = value;\n                }\n                else if (Array.isArray(query[key])) {\n                    query[key].push(value);\n                }\n                else {\n                    query[key] = [query[key], value];\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n    return query;\n}\nexports.parseQueryString = parseQueryString;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsU0FBZ0IsZ0JBQWdCLENBQUMsV0FBbUI7O0lBQ2xELElBQU0sS0FBSyxHQUFzQixFQUFFLENBQUM7SUFDcEMsV0FBVyxHQUFHLFdBQVcsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRTdDLElBQUksV0FBVyxFQUFFOztZQUNmLEtBQW1CLElBQUEsS0FBQSxpQkFBQSxXQUFXLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFBLGdCQUFBLDRCQUFFO2dCQUF0QyxJQUFNLElBQUksV0FBQTtnQkFDVCxJQUFBLHVDQUFxQyxFQUFwQyxXQUFHLEVBQUUsVUFBWSxFQUFaLGlDQUErQixDQUFDO2dCQUMxQyxHQUFHLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzlCLElBQUksS0FBSyxFQUFFO29CQUNULEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDbkM7Z0JBQ0QsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxFQUFFO29CQUNuQixLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO2lCQUNwQjtxQkFBTSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7b0JBQ25DLEtBQUssQ0FBQyxHQUFHLENBQW1CLENBQUMsSUFBSSxDQUFDLEtBQWUsQ0FBQyxDQUFDO2lCQUNyRDtxQkFBTTtvQkFDTCxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFXLEVBQUUsS0FBZSxDQUFDLENBQUM7aUJBQ3REO2FBQ0Y7Ozs7Ozs7OztLQUNGO0lBRUQsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBdEJELDRDQXNCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFF1ZXJ5UGFyYW1ldGVyQmFnIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVF1ZXJ5U3RyaW5nKHF1ZXJ5c3RyaW5nOiBzdHJpbmcpOiBRdWVyeVBhcmFtZXRlckJhZyB7XG4gIGNvbnN0IHF1ZXJ5OiBRdWVyeVBhcmFtZXRlckJhZyA9IHt9O1xuICBxdWVyeXN0cmluZyA9IHF1ZXJ5c3RyaW5nLnJlcGxhY2UoL15cXD8vLCBcIlwiKTtcblxuICBpZiAocXVlcnlzdHJpbmcpIHtcbiAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcXVlcnlzdHJpbmcuc3BsaXQoXCImXCIpKSB7XG4gICAgICBsZXQgW2tleSwgdmFsdWUgPSBudWxsXSA9IHBhaXIuc3BsaXQoXCI9XCIpO1xuICAgICAga2V5ID0gZGVjb2RlVVJJQ29tcG9uZW50KGtleSk7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKCEoa2V5IGluIHF1ZXJ5KSkge1xuICAgICAgICBxdWVyeVtrZXldID0gdmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocXVlcnlba2V5XSkpIHtcbiAgICAgICAgKHF1ZXJ5W2tleV0gYXMgQXJyYXk8c3RyaW5nPikucHVzaCh2YWx1ZSBhcyBzdHJpbmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcXVlcnlba2V5XSA9IFtxdWVyeVtrZXldIGFzIHN0cmluZywgdmFsdWUgYXMgc3RyaW5nXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcXVlcnk7XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar ProviderError_1 = require(\"./ProviderError\");\n/**\n * Compose a single credential provider function from multiple credential\n * providers. The first provider in the argument list will always be invoked;\n * subsequent providers in the list will be invoked in the order in which the\n * were received if the preceding provider did not successfully resolve.\n *\n * If no providers were received or no provider resolves successfully, the\n * returned promise will be rejected.\n */\nfunction chain() {\n    var providers = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        providers[_i] = arguments[_i];\n    }\n    return function () {\n        var e_1, _a;\n        var promise = Promise.reject(new ProviderError_1.ProviderError(\"No providers in chain\"));\n        var _loop_1 = function (provider) {\n            promise = promise.catch(function (err) {\n                if (err === null || err === void 0 ? void 0 : err.tryNextLink) {\n                    return provider();\n                }\n                throw err;\n            });\n        };\n        try {\n            for (var providers_1 = tslib_1.__values(providers), providers_1_1 = providers_1.next(); !providers_1_1.done; providers_1_1 = providers_1.next()) {\n                var provider = providers_1_1.value;\n                _loop_1(provider);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (providers_1_1 && !providers_1_1.done && (_a = providers_1.return)) _a.call(providers_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return promise;\n    };\n}\nexports.chain = chain;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hhaW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY2hhaW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsaURBQWdEO0FBR2hEOzs7Ozs7OztHQVFHO0FBQ0gsU0FBZ0IsS0FBSztJQUFJLG1CQUFnQztTQUFoQyxVQUFnQyxFQUFoQyxxQkFBZ0MsRUFBaEMsSUFBZ0M7UUFBaEMsOEJBQWdDOztJQUN2RCxPQUFPOztRQUNMLElBQUksT0FBTyxHQUFlLE9BQU8sQ0FBQyxNQUFNLENBQ3RDLElBQUksNkJBQWEsQ0FBQyx1QkFBdUIsQ0FBQyxDQUMzQyxDQUFDO2dDQUNTLFFBQVE7WUFDakIsT0FBTyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsVUFBQyxHQUFRO2dCQUMvQixJQUFJLEdBQUcsYUFBSCxHQUFHLHVCQUFILEdBQUcsQ0FBRSxXQUFXLEVBQUU7b0JBQ3BCLE9BQU8sUUFBUSxFQUFFLENBQUM7aUJBQ25CO2dCQUVELE1BQU0sR0FBRyxDQUFDO1lBQ1osQ0FBQyxDQUFDLENBQUM7OztZQVBMLEtBQXVCLElBQUEsY0FBQSxpQkFBQSxTQUFTLENBQUEsb0NBQUE7Z0JBQTNCLElBQU0sUUFBUSxzQkFBQTt3QkFBUixRQUFRO2FBUWxCOzs7Ozs7Ozs7UUFFRCxPQUFPLE9BQU8sQ0FBQztJQUNqQixDQUFDLENBQUM7QUFDSixDQUFDO0FBakJELHNCQWlCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByb3ZpZGVyRXJyb3IgfSBmcm9tIFwiLi9Qcm92aWRlckVycm9yXCI7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG4vKipcbiAqIENvbXBvc2UgYSBzaW5nbGUgY3JlZGVudGlhbCBwcm92aWRlciBmdW5jdGlvbiBmcm9tIG11bHRpcGxlIGNyZWRlbnRpYWxcbiAqIHByb3ZpZGVycy4gVGhlIGZpcnN0IHByb3ZpZGVyIGluIHRoZSBhcmd1bWVudCBsaXN0IHdpbGwgYWx3YXlzIGJlIGludm9rZWQ7XG4gKiBzdWJzZXF1ZW50IHByb3ZpZGVycyBpbiB0aGUgbGlzdCB3aWxsIGJlIGludm9rZWQgaW4gdGhlIG9yZGVyIGluIHdoaWNoIHRoZVxuICogd2VyZSByZWNlaXZlZCBpZiB0aGUgcHJlY2VkaW5nIHByb3ZpZGVyIGRpZCBub3Qgc3VjY2Vzc2Z1bGx5IHJlc29sdmUuXG4gKlxuICogSWYgbm8gcHJvdmlkZXJzIHdlcmUgcmVjZWl2ZWQgb3Igbm8gcHJvdmlkZXIgcmVzb2x2ZXMgc3VjY2Vzc2Z1bGx5LCB0aGVcbiAqIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoYWluPFQ+KC4uLnByb3ZpZGVyczogQXJyYXk8UHJvdmlkZXI8VD4+KTogUHJvdmlkZXI8VD4ge1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGxldCBwcm9taXNlOiBQcm9taXNlPFQ+ID0gUHJvbWlzZS5yZWplY3QoXG4gICAgICBuZXcgUHJvdmlkZXJFcnJvcihcIk5vIHByb3ZpZGVycyBpbiBjaGFpblwiKVxuICAgICk7XG4gICAgZm9yIChjb25zdCBwcm92aWRlciBvZiBwcm92aWRlcnMpIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlLmNhdGNoKChlcnI6IGFueSkgPT4ge1xuICAgICAgICBpZiAoZXJyPy50cnlOZXh0TGluaykge1xuICAgICAgICAgIHJldHVybiBwcm92aWRlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH07XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction fromStatic(staticValue) {\n    var promisified = Promise.resolve(staticValue);\n    return function () { return promisified; };\n}\nexports.fromStatic = fromStatic;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnJvbVN0YXRpYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9mcm9tU3RhdGljLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEsU0FBZ0IsVUFBVSxDQUFJLFdBQWM7SUFDMUMsSUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUNqRCxPQUFPLGNBQU0sT0FBQSxXQUFXLEVBQVgsQ0FBVyxDQUFDO0FBQzNCLENBQUM7QUFIRCxnQ0FHQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU3RhdGljPFQ+KHN0YXRpY1ZhbHVlOiBUKTogUHJvdmlkZXI8VD4ge1xuICBjb25zdCBwcm9taXNpZmllZCA9IFByb21pc2UucmVzb2x2ZShzdGF0aWNWYWx1ZSk7XG4gIHJldHVybiAoKSA9PiBwcm9taXNpZmllZDtcbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction memoize(provider, isExpired, requiresRefresh) {\n    if (isExpired === undefined) {\n        // This is a static memoization; no need to incorporate refreshing\n        var result_1 = provider();\n        return function () { return result_1; };\n    }\n    var result = provider();\n    var isConstant = false;\n    return function () {\n        if (isConstant) {\n            return result;\n        }\n        return result.then(function (resolved) {\n            if (requiresRefresh && !requiresRefresh(resolved)) {\n                isConstant = true;\n                return resolved;\n            }\n            if (isExpired(resolved)) {\n                return (result = provider());\n            }\n            return resolved;\n        });\n    };\n}\nexports.memoize = memoize;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVtb2l6ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9tZW1vaXplLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBd0NBLFNBQWdCLE9BQU8sQ0FDckIsUUFBcUIsRUFDckIsU0FBb0MsRUFDcEMsZUFBMEM7SUFFMUMsSUFBSSxTQUFTLEtBQUssU0FBUyxFQUFFO1FBQzNCLGtFQUFrRTtRQUNsRSxJQUFNLFFBQU0sR0FBRyxRQUFRLEVBQUUsQ0FBQztRQUMxQixPQUFPLGNBQU0sT0FBQSxRQUFNLEVBQU4sQ0FBTSxDQUFDO0tBQ3JCO0lBRUQsSUFBSSxNQUFNLEdBQUcsUUFBUSxFQUFFLENBQUM7SUFDeEIsSUFBSSxVQUFVLEdBQVksS0FBSyxDQUFDO0lBRWhDLE9BQU87UUFDTCxJQUFJLFVBQVUsRUFBRTtZQUNkLE9BQU8sTUFBTSxDQUFDO1NBQ2Y7UUFFRCxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBQSxRQUFRO1lBQ3pCLElBQUksZUFBZSxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUNqRCxVQUFVLEdBQUcsSUFBSSxDQUFDO2dCQUNsQixPQUFPLFFBQVEsQ0FBQzthQUNqQjtZQUVELElBQUksU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUN2QixPQUFPLENBQUMsTUFBTSxHQUFHLFFBQVEsRUFBRSxDQUFDLENBQUM7YUFDOUI7WUFFRCxPQUFPLFFBQVEsQ0FBQztRQUNsQixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQztBQUNKLENBQUM7QUFoQ0QsMEJBZ0NDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuLyoqXG4gKlxuICogRGVjb3JhdGVzIGEgcHJvdmlkZXIgZnVuY3Rpb24gd2l0aCBlaXRoZXIgc3RhdGljIG1lbW9pemF0aW9uLlxuICpcbiAqIFRvIGNyZWF0ZSBhIHN0YXRpY2FsbHkgbWVtb2l6ZWQgcHJvdmlkZXIsIHN1cHBseSBhIHByb3ZpZGVyIGFzIHRoZSBvbmx5XG4gKiBhcmd1bWVudCB0byB0aGlzIGZ1bmN0aW9uLiBUaGUgcHJvdmlkZXIgd2lsbCBiZSBpbnZva2VkIG9uY2UsIGFuZCBhbGxcbiAqIGludm9jYXRpb25zIG9mIHRoZSBwcm92aWRlciByZXR1cm5lZCBieSBgbWVtb2l6ZWAgd2lsbCByZXR1cm4gdGhlIHNhbWVcbiAqIHByb21pc2Ugb2JqZWN0LlxuICpcbiAqIEBwYXJhbSBwcm92aWRlciBUaGUgcHJvdmlkZXIgd2hvc2UgcmVzdWx0IHNob3VsZCBiZSBjYWNoZWQgaW5kZWZpbml0ZWx5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVtb2l6ZTxUPihwcm92aWRlcjogUHJvdmlkZXI8VD4pOiBQcm92aWRlcjxUPjtcblxuLyoqXG4gKiBEZWNvcmF0ZXMgYSBwcm92aWRlciBmdW5jdGlvbiB3aXRoIHJlZnJlc2hpbmcgbWVtb2l6YXRpb24uXG4gKlxuICogQHBhcmFtIHByb3ZpZGVyICAgICAgICAgIFRoZSBwcm92aWRlciB3aG9zZSByZXN1bHQgc2hvdWxkIGJlIGNhY2hlZC5cbiAqIEBwYXJhbSBpc0V4cGlyZWQgICAgICAgICBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBldmFsdWF0ZSB0aGUgcmVzb2x2ZWQgdmFsdWUgYW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0ZXJtaW5lIGlmIGl0IGlzIGV4cGlyZWQuIEZvciBleGFtcGxlLCB3aGVuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgbWVtb2l6aW5nIEFXUyBjcmVkZW50aWFsIHByb3ZpZGVycywgdGhpcyBmdW5jdGlvblxuICogICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZCByZXR1cm4gYHRydWVgIHdoZW4gdGhlIGNyZWRlbnRpYWwnc1xuICogICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyYXRpb24gaXMgaW4gdGhlIHBhc3QgKG9yIHZlcnkgbmVhciBmdXR1cmUpIGFuZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICogQHBhcmFtIHJlcXVpcmVzUmVmcmVzaCAgIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGV2YWx1YXRlIHRoZSByZXNvbHZlZCB2YWx1ZSBhbmRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRlcm1pbmUgaWYgaXQgcmVwcmVzZW50cyBzdGF0aWMgdmFsdWUgb3Igb25lIHRoYXRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICB3aWxsIGV2ZW50dWFsbHkgbmVlZCB0byBiZSByZWZyZXNoZWQuIEZvciBleGFtcGxlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgIEFXUyBjcmVkZW50aWFscyB0aGF0IGhhdmUgbm8gZGVmaW5lZCBleHBpcmF0aW9uIHdpbGxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBuZXZlciBuZWVkIHRvIGJlIHJlZnJlc2hlZCwgc28gdGhpcyBmdW5jdGlvbiB3b3VsZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgdHJ1ZWAgaWYgdGhlIGNyZWRlbnRpYWxzIHJlc29sdmVkIGJ5IHRoZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVybHlpbmcgcHJvdmlkZXIgaGFkIGFuIGV4cGlyYXRpb24gYW5kIGBmYWxzZWBcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZW1vaXplPFQ+KFxuICBwcm92aWRlcjogUHJvdmlkZXI8VD4sXG4gIGlzRXhwaXJlZDogKHJlc29sdmVkOiBUKSA9PiBib29sZWFuLFxuICByZXF1aXJlc1JlZnJlc2g/OiAocmVzb2x2ZWQ6IFQpID0+IGJvb2xlYW5cbik6IFByb3ZpZGVyPFQ+O1xuXG5leHBvcnQgZnVuY3Rpb24gbWVtb2l6ZTxUPihcbiAgcHJvdmlkZXI6IFByb3ZpZGVyPFQ+LFxuICBpc0V4cGlyZWQ/OiAocmVzb2x2ZWQ6IFQpID0+IGJvb2xlYW4sXG4gIHJlcXVpcmVzUmVmcmVzaD86IChyZXNvbHZlZDogVCkgPT4gYm9vbGVhblxuKTogUHJvdmlkZXI8VD4ge1xuICBpZiAoaXNFeHBpcmVkID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBUaGlzIGlzIGEgc3RhdGljIG1lbW9pemF0aW9uOyBubyBuZWVkIHRvIGluY29ycG9yYXRlIHJlZnJlc2hpbmdcbiAgICBjb25zdCByZXN1bHQgPSBwcm92aWRlcigpO1xuICAgIHJldHVybiAoKSA9PiByZXN1bHQ7XG4gIH1cblxuICBsZXQgcmVzdWx0ID0gcHJvdmlkZXIoKTtcbiAgbGV0IGlzQ29uc3RhbnQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmIChpc0NvbnN0YW50KSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQudGhlbihyZXNvbHZlZCA9PiB7XG4gICAgICBpZiAocmVxdWlyZXNSZWZyZXNoICYmICFyZXF1aXJlc1JlZnJlc2gocmVzb2x2ZWQpKSB7XG4gICAgICAgIGlzQ29uc3RhbnQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0V4cGlyZWQocmVzb2x2ZWQpKSB7XG4gICAgICAgIHJldHVybiAocmVzdWx0ID0gcHJvdmlkZXIoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXNvbHZlZDtcbiAgICB9KTtcbiAgfTtcbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst deserializerMiddleware_1 = require(\"./deserializerMiddleware\");\nconst serializerMiddleware_1 = require(\"./serializerMiddleware\");\nexports.deserializerMiddlewareOption = {\n    name: \"deserializerMiddleware\",\n    step: \"deserialize\",\n    tags: [\"DESERIALIZER\"]\n};\nexports.serializerMiddlewareOption = {\n    name: \"serializerMiddleware\",\n    step: \"serialize\",\n    tags: [\"SERIALIZER\"]\n};\nfunction getSerdePlugin(config, serializer, deserializer) {\n    return {\n        applyToStack: (commandStack) => {\n            commandStack.add(deserializerMiddleware_1.deserializerMiddleware(config, deserializer), exports.deserializerMiddlewareOption);\n            commandStack.add(serializerMiddleware_1.serializerMiddleware(config, serializer), exports.serializerMiddlewareOption);\n        }\n    };\n}\nexports.getSerdePlugin = getSerdePlugin;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyZGVQbHVnaW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvc2VyZGVQbHVnaW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFXQSxxRUFBa0U7QUFDbEUsaUVBQThEO0FBRWpELFFBQUEsNEJBQTRCLEdBQThCO0lBQ3JFLElBQUksRUFBRSx3QkFBd0I7SUFDOUIsSUFBSSxFQUFFLGFBQWE7SUFDbkIsSUFBSSxFQUFFLENBQUMsY0FBYyxDQUFDO0NBQ3ZCLENBQUM7QUFFVyxRQUFBLDBCQUEwQixHQUE0QjtJQUNqRSxJQUFJLEVBQUUsc0JBQXNCO0lBQzVCLElBQUksRUFBRSxXQUFXO0lBQ2pCLElBQUksRUFBRSxDQUFDLFlBQVksQ0FBQztDQUNyQixDQUFDO0FBRUYsU0FBZ0IsY0FBYyxDQUs1QixNQUFvQixFQUNwQixVQUFnRCxFQUNoRCxZQUFpRTtJQUVqRSxPQUFPO1FBQ0wsWUFBWSxFQUFFLENBQUMsWUFBb0QsRUFBRSxFQUFFO1lBQ3JFLFlBQVksQ0FBQyxHQUFHLENBQ2QsK0NBQXNCLENBQUMsTUFBTSxFQUFFLFlBQVksQ0FBQyxFQUM1QyxvQ0FBNEIsQ0FDN0IsQ0FBQztZQUNGLFlBQVksQ0FBQyxHQUFHLENBQ2QsMkNBQW9CLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxFQUN4QyxrQ0FBMEIsQ0FDM0IsQ0FBQztRQUNKLENBQUM7S0FDRixDQUFDO0FBQ0osQ0FBQztBQXJCRCx3Q0FxQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBSZXF1ZXN0U2VyaWFsaXplcixcbiAgUmVzcG9uc2VEZXNlcmlhbGl6ZXIsXG4gIFBsdWdnYWJsZSxcbiAgTWV0YWRhdGFCZWFyZXIsXG4gIE1pZGRsZXdhcmVTdGFjayxcbiAgRW5kcG9pbnRCZWFyZXIsXG4gIFJlcXVlc3RIYW5kbGVyLFxuICBEZXNlcmlhbGl6ZUhhbmRsZXJPcHRpb25zLFxuICBTZXJpYWxpemVIYW5kbGVyT3B0aW9uc1xufSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcbmltcG9ydCB7IGRlc2VyaWFsaXplck1pZGRsZXdhcmUgfSBmcm9tIFwiLi9kZXNlcmlhbGl6ZXJNaWRkbGV3YXJlXCI7XG5pbXBvcnQgeyBzZXJpYWxpemVyTWlkZGxld2FyZSB9IGZyb20gXCIuL3NlcmlhbGl6ZXJNaWRkbGV3YXJlXCI7XG5cbmV4cG9ydCBjb25zdCBkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlT3B0aW9uOiBEZXNlcmlhbGl6ZUhhbmRsZXJPcHRpb25zID0ge1xuICBuYW1lOiBcImRlc2VyaWFsaXplck1pZGRsZXdhcmVcIixcbiAgc3RlcDogXCJkZXNlcmlhbGl6ZVwiLFxuICB0YWdzOiBbXCJERVNFUklBTElaRVJcIl1cbn07XG5cbmV4cG9ydCBjb25zdCBzZXJpYWxpemVyTWlkZGxld2FyZU9wdGlvbjogU2VyaWFsaXplSGFuZGxlck9wdGlvbnMgPSB7XG4gIG5hbWU6IFwic2VyaWFsaXplck1pZGRsZXdhcmVcIixcbiAgc3RlcDogXCJzZXJpYWxpemVcIixcbiAgdGFnczogW1wiU0VSSUFMSVpFUlwiXVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlcmRlUGx1Z2luPFxuICBJbnB1dFR5cGUgZXh0ZW5kcyBvYmplY3QsXG4gIFNlckRlQ29udGV4dCBleHRlbmRzIEVuZHBvaW50QmVhcmVyLFxuICBPdXRwdXRUeXBlIGV4dGVuZHMgTWV0YWRhdGFCZWFyZXJcbj4oXG4gIGNvbmZpZzogU2VyRGVDb250ZXh0LFxuICBzZXJpYWxpemVyOiBSZXF1ZXN0U2VyaWFsaXplcjxhbnksIFNlckRlQ29udGV4dD4sXG4gIGRlc2VyaWFsaXplcjogUmVzcG9uc2VEZXNlcmlhbGl6ZXI8T3V0cHV0VHlwZSwgYW55LCBTZXJEZUNvbnRleHQ+XG4pOiBQbHVnZ2FibGU8SW5wdXRUeXBlLCBPdXRwdXRUeXBlPiB7XG4gIHJldHVybiB7XG4gICAgYXBwbHlUb1N0YWNrOiAoY29tbWFuZFN0YWNrOiBNaWRkbGV3YXJlU3RhY2s8SW5wdXRUeXBlLCBPdXRwdXRUeXBlPikgPT4ge1xuICAgICAgY29tbWFuZFN0YWNrLmFkZChcbiAgICAgICAgZGVzZXJpYWxpemVyTWlkZGxld2FyZShjb25maWcsIGRlc2VyaWFsaXplciksXG4gICAgICAgIGRlc2VyaWFsaXplck1pZGRsZXdhcmVPcHRpb25cbiAgICAgICk7XG4gICAgICBjb21tYW5kU3RhY2suYWRkKFxuICAgICAgICBzZXJpYWxpemVyTWlkZGxld2FyZShjb25maWcsIHNlcmlhbGl6ZXIpLFxuICAgICAgICBzZXJpYWxpemVyTWlkZGxld2FyZU9wdGlvblxuICAgICAgKTtcbiAgICB9XG4gIH07XG59XG4iXX0=","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var C_algo = C.algo;\n\n\t    /**\n\t     * HMAC algorithm.\n\t     */\n\t    var HMAC = C_algo.HMAC = Base.extend({\n\t        /**\n\t         * Initializes a newly created HMAC.\n\t         *\n\t         * @param {Hasher} hasher The hash algorithm to use.\n\t         * @param {WordArray|string} key The secret key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmacHasher = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256, key);\n\t         */\n\t        init: function (hasher, key) {\n\t            // Init hasher\n\t            hasher = this._hasher = new hasher.init();\n\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof key == 'string') {\n\t                key = Utf8.parse(key);\n\t            }\n\n\t            // Shortcuts\n\t            var hasherBlockSize = hasher.blockSize;\n\t            var hasherBlockSizeBytes = hasherBlockSize * 4;\n\n\t            // Allow arbitrary length keys\n\t            if (key.sigBytes > hasherBlockSizeBytes) {\n\t                key = hasher.finalize(key);\n\t            }\n\n\t            // Clamp excess bits\n\t            key.clamp();\n\n\t            // Clone key for inner and outer pads\n\t            var oKey = this._oKey = key.clone();\n\t            var iKey = this._iKey = key.clone();\n\n\t            // Shortcuts\n\t            var oKeyWords = oKey.words;\n\t            var iKeyWords = iKey.words;\n\n\t            // XOR keys with pad constants\n\t            for (var i = 0; i < hasherBlockSize; i++) {\n\t                oKeyWords[i] ^= 0x5c5c5c5c;\n\t                iKeyWords[i] ^= 0x36363636;\n\t            }\n\t            oKey.sigBytes = iKey.sigBytes = hasherBlockSizeBytes;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this HMAC to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Reset\n\t            hasher.reset();\n\t            hasher.update(this._iKey);\n\t        },\n\n\t        /**\n\t         * Updates this HMAC with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {HMAC} This HMAC instance.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.update('message');\n\t         *     hmacHasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            this._hasher.update(messageUpdate);\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the HMAC computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The HMAC.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmac = hmacHasher.finalize();\n\t         *     var hmac = hmacHasher.finalize('message');\n\t         *     var hmac = hmacHasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Compute HMAC\n\t            var innerHash = hasher.finalize(messageUpdate);\n\t            hasher.reset();\n\t            var hmac = hasher.finalize(this._oKey.clone().concat(innerHash));\n\n\t            return hmac;\n\t        }\n\t    });\n\t}());\n\n\n}));","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Observable = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// === Symbol Support ===\nvar hasSymbols = function () {\n  return typeof Symbol === 'function';\n};\n\nvar hasSymbol = function (name) {\n  return hasSymbols() && Boolean(Symbol[name]);\n};\n\nvar getSymbol = function (name) {\n  return hasSymbol(name) ? Symbol[name] : '@@' + name;\n};\n\nif (hasSymbols() && !hasSymbol('observable')) {\n  Symbol.observable = Symbol('observable');\n}\n\nvar SymbolIterator = getSymbol('iterator');\nvar SymbolObservable = getSymbol('observable');\nvar SymbolSpecies = getSymbol('species'); // === Abstract Operations ===\n\nfunction getMethod(obj, key) {\n  var value = obj[key];\n  if (value == null) return undefined;\n  if (typeof value !== 'function') throw new TypeError(value + ' is not a function');\n  return value;\n}\n\nfunction getSpecies(obj) {\n  var ctor = obj.constructor;\n\n  if (ctor !== undefined) {\n    ctor = ctor[SymbolSpecies];\n\n    if (ctor === null) {\n      ctor = undefined;\n    }\n  }\n\n  return ctor !== undefined ? ctor : Observable;\n}\n\nfunction isObservable(x) {\n  return x instanceof Observable; // SPEC: Brand check\n}\n\nfunction hostReportError(e) {\n  if (hostReportError.log) {\n    hostReportError.log(e);\n  } else {\n    setTimeout(function () {\n      throw e;\n    });\n  }\n}\n\nfunction enqueue(fn) {\n  Promise.resolve().then(function () {\n    try {\n      fn();\n    } catch (e) {\n      hostReportError(e);\n    }\n  });\n}\n\nfunction cleanupSubscription(subscription) {\n  var cleanup = subscription._cleanup;\n  if (cleanup === undefined) return;\n  subscription._cleanup = undefined;\n\n  if (!cleanup) {\n    return;\n  }\n\n  try {\n    if (typeof cleanup === 'function') {\n      cleanup();\n    } else {\n      var unsubscribe = getMethod(cleanup, 'unsubscribe');\n\n      if (unsubscribe) {\n        unsubscribe.call(cleanup);\n      }\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n}\n\nfunction closeSubscription(subscription) {\n  subscription._observer = undefined;\n  subscription._queue = undefined;\n  subscription._state = 'closed';\n}\n\nfunction flushSubscription(subscription) {\n  var queue = subscription._queue;\n\n  if (!queue) {\n    return;\n  }\n\n  subscription._queue = undefined;\n  subscription._state = 'ready';\n\n  for (var i = 0; i < queue.length; ++i) {\n    notifySubscription(subscription, queue[i].type, queue[i].value);\n    if (subscription._state === 'closed') break;\n  }\n}\n\nfunction notifySubscription(subscription, type, value) {\n  subscription._state = 'running';\n  var observer = subscription._observer;\n\n  try {\n    var m = getMethod(observer, type);\n\n    switch (type) {\n      case 'next':\n        if (m) m.call(observer, value);\n        break;\n\n      case 'error':\n        closeSubscription(subscription);\n        if (m) m.call(observer, value);else throw value;\n        break;\n\n      case 'complete':\n        closeSubscription(subscription);\n        if (m) m.call(observer);\n        break;\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n\n  if (subscription._state === 'closed') cleanupSubscription(subscription);else if (subscription._state === 'running') subscription._state = 'ready';\n}\n\nfunction onNotify(subscription, type, value) {\n  if (subscription._state === 'closed') return;\n\n  if (subscription._state === 'buffering') {\n    subscription._queue.push({\n      type: type,\n      value: value\n    });\n\n    return;\n  }\n\n  if (subscription._state !== 'ready') {\n    subscription._state = 'buffering';\n    subscription._queue = [{\n      type: type,\n      value: value\n    }];\n    enqueue(function () {\n      return flushSubscription(subscription);\n    });\n    return;\n  }\n\n  notifySubscription(subscription, type, value);\n}\n\nvar Subscription =\n/*#__PURE__*/\nfunction () {\n  function Subscription(observer, subscriber) {\n    _classCallCheck(this, Subscription);\n\n    // ASSERT: observer is an object\n    // ASSERT: subscriber is callable\n    this._cleanup = undefined;\n    this._observer = observer;\n    this._queue = undefined;\n    this._state = 'initializing';\n    var subscriptionObserver = new SubscriptionObserver(this);\n\n    try {\n      this._cleanup = subscriber.call(undefined, subscriptionObserver);\n    } catch (e) {\n      subscriptionObserver.error(e);\n    }\n\n    if (this._state === 'initializing') this._state = 'ready';\n  }\n\n  _createClass(Subscription, [{\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      if (this._state !== 'closed') {\n        closeSubscription(this);\n        cleanupSubscription(this);\n      }\n    }\n  }, {\n    key: \"closed\",\n    get: function () {\n      return this._state === 'closed';\n    }\n  }]);\n\n  return Subscription;\n}();\n\nvar SubscriptionObserver =\n/*#__PURE__*/\nfunction () {\n  function SubscriptionObserver(subscription) {\n    _classCallCheck(this, SubscriptionObserver);\n\n    this._subscription = subscription;\n  }\n\n  _createClass(SubscriptionObserver, [{\n    key: \"next\",\n    value: function next(value) {\n      onNotify(this._subscription, 'next', value);\n    }\n  }, {\n    key: \"error\",\n    value: function error(value) {\n      onNotify(this._subscription, 'error', value);\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      onNotify(this._subscription, 'complete');\n    }\n  }, {\n    key: \"closed\",\n    get: function () {\n      return this._subscription._state === 'closed';\n    }\n  }]);\n\n  return SubscriptionObserver;\n}();\n\nvar Observable =\n/*#__PURE__*/\nfunction () {\n  function Observable(subscriber) {\n    _classCallCheck(this, Observable);\n\n    if (!(this instanceof Observable)) throw new TypeError('Observable cannot be called as a function');\n    if (typeof subscriber !== 'function') throw new TypeError('Observable initializer must be a function');\n    this._subscriber = subscriber;\n  }\n\n  _createClass(Observable, [{\n    key: \"subscribe\",\n    value: function subscribe(observer) {\n      if (typeof observer !== 'object' || observer === null) {\n        observer = {\n          next: observer,\n          error: arguments[1],\n          complete: arguments[2]\n        };\n      }\n\n      return new Subscription(observer, this._subscriber);\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(fn) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        if (typeof fn !== 'function') {\n          reject(new TypeError(fn + ' is not a function'));\n          return;\n        }\n\n        function done() {\n          subscription.unsubscribe();\n          resolve();\n        }\n\n        var subscription = _this.subscribe({\n          next: function (value) {\n            try {\n              fn(value, done);\n            } catch (e) {\n              reject(e);\n              subscription.unsubscribe();\n            }\n          },\n          error: reject,\n          complete: resolve\n        });\n      });\n    }\n  }, {\n    key: \"map\",\n    value: function map(fn) {\n      var _this2 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        return _this2.subscribe({\n          next: function (value) {\n            try {\n              value = fn(value);\n            } catch (e) {\n              return observer.error(e);\n            }\n\n            observer.next(value);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(fn) {\n      var _this3 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        return _this3.subscribe({\n          next: function (value) {\n            try {\n              if (!fn(value)) return;\n            } catch (e) {\n              return observer.error(e);\n            }\n\n            observer.next(value);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"reduce\",\n    value: function reduce(fn) {\n      var _this4 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      var hasSeed = arguments.length > 1;\n      var hasValue = false;\n      var seed = arguments[1];\n      var acc = seed;\n      return new C(function (observer) {\n        return _this4.subscribe({\n          next: function (value) {\n            var first = !hasValue;\n            hasValue = true;\n\n            if (!first || hasSeed) {\n              try {\n                acc = fn(acc, value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            } else {\n              acc = value;\n            }\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            if (!hasValue && !hasSeed) return observer.error(new TypeError('Cannot reduce an empty sequence'));\n            observer.next(acc);\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"concat\",\n    value: function concat() {\n      var _this5 = this;\n\n      for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n        sources[_key] = arguments[_key];\n      }\n\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        var subscription;\n        var index = 0;\n\n        function startNext(next) {\n          subscription = next.subscribe({\n            next: function (v) {\n              observer.next(v);\n            },\n            error: function (e) {\n              observer.error(e);\n            },\n            complete: function () {\n              if (index === sources.length) {\n                subscription = undefined;\n                observer.complete();\n              } else {\n                startNext(C.from(sources[index++]));\n              }\n            }\n          });\n        }\n\n        startNext(_this5);\n        return function () {\n          if (subscription) {\n            subscription.unsubscribe();\n            subscription = undefined;\n          }\n        };\n      });\n    }\n  }, {\n    key: \"flatMap\",\n    value: function flatMap(fn) {\n      var _this6 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        var subscriptions = [];\n\n        var outer = _this6.subscribe({\n          next: function (value) {\n            if (fn) {\n              try {\n                value = fn(value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            }\n\n            var inner = C.from(value).subscribe({\n              next: function (value) {\n                observer.next(value);\n              },\n              error: function (e) {\n                observer.error(e);\n              },\n              complete: function () {\n                var i = subscriptions.indexOf(inner);\n                if (i >= 0) subscriptions.splice(i, 1);\n                completeIfDone();\n              }\n            });\n            subscriptions.push(inner);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            completeIfDone();\n          }\n        });\n\n        function completeIfDone() {\n          if (outer.closed && subscriptions.length === 0) observer.complete();\n        }\n\n        return function () {\n          subscriptions.forEach(function (s) {\n            return s.unsubscribe();\n          });\n          outer.unsubscribe();\n        };\n      });\n    }\n  }, {\n    key: SymbolObservable,\n    value: function () {\n      return this;\n    }\n  }], [{\n    key: \"from\",\n    value: function from(x) {\n      var C = typeof this === 'function' ? this : Observable;\n      if (x == null) throw new TypeError(x + ' is not an object');\n      var method = getMethod(x, SymbolObservable);\n\n      if (method) {\n        var observable = method.call(x);\n        if (Object(observable) !== observable) throw new TypeError(observable + ' is not an object');\n        if (isObservable(observable) && observable.constructor === C) return observable;\n        return new C(function (observer) {\n          return observable.subscribe(observer);\n        });\n      }\n\n      if (hasSymbol('iterator')) {\n        method = getMethod(x, SymbolIterator);\n\n        if (method) {\n          return new C(function (observer) {\n            enqueue(function () {\n              if (observer.closed) return;\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = method.call(x)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var _item = _step.value;\n                  observer.next(_item);\n                  if (observer.closed) return;\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              observer.complete();\n            });\n          });\n        }\n      }\n\n      if (Array.isArray(x)) {\n        return new C(function (observer) {\n          enqueue(function () {\n            if (observer.closed) return;\n\n            for (var i = 0; i < x.length; ++i) {\n              observer.next(x[i]);\n              if (observer.closed) return;\n            }\n\n            observer.complete();\n          });\n        });\n      }\n\n      throw new TypeError(x + ' is not observable');\n    }\n  }, {\n    key: \"of\",\n    value: function of() {\n      for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        items[_key2] = arguments[_key2];\n      }\n\n      var C = typeof this === 'function' ? this : Observable;\n      return new C(function (observer) {\n        enqueue(function () {\n          if (observer.closed) return;\n\n          for (var i = 0; i < items.length; ++i) {\n            observer.next(items[i]);\n            if (observer.closed) return;\n          }\n\n          observer.complete();\n        });\n      });\n    }\n  }, {\n    key: SymbolSpecies,\n    get: function () {\n      return this;\n    }\n  }]);\n\n  return Observable;\n}();\n\nexports.Observable = Observable;\n\nif (hasSymbols()) {\n  Object.defineProperty(Observable, Symbol('extensions'), {\n    value: {\n      symbol: SymbolObservable,\n      hostReportError: hostReportError\n    },\n    configurable: true\n  });\n}","function n(n){for(var t=arguments.length,r=Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];if(\"production\"!==process.env.NODE_ENV){var i=Q[n],o=i?\"function\"==typeof i?i.apply(null,r):i:\"unknown error nr: \"+n;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+n+(r.length?\" \"+r.join(\",\"):\"\")+\". Find the full error at: https://bit.ly/38PiBHb\")}function t(n){return!!n&&!!n[G]}function r(n){return!!n&&(function(n){if(!n||\"object\"!=typeof n)return!1;var t=Object.getPrototypeOf(n);return!t||t===Object.prototype}(n)||Array.isArray(n)||!!n[q]||!!n.constructor[q]||c(n)||s(n))}function e(n){if(n&&n[G])return n[G].t}function i(n,t){0===o(n)?V(n).forEach((function(r){return t(r,n[r],n)})):n.forEach((function(r,e){return t(e,r,n)}))}function o(n){var t=n[G];return t?t.i>3?t.i-4:t.i:Array.isArray(n)?1:c(n)?2:s(n)?3:0}function u(n,t){return 2===o(n)?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function a(n,t){return 2===o(n)?n.get(t):n[t]}function f(n,t){return n===t?0!==n||1/n==1/t:n!=n&&t!=t}function c(n){return B&&n instanceof Map}function s(n){return H&&n instanceof Set}function v(n){return n.o||n.t}function p(t,r){if(void 0===r&&(r=!1),Array.isArray(t))return t.slice();var e=Object.create(Object.getPrototypeOf(t));return i(t,(function(i){if(i!==G){var o=Object.getOwnPropertyDescriptor(t,i),u=o.value;o.get&&(r||n(1),u=o.get.call(t)),o.enumerable?e[i]=u:Object.defineProperty(e,i,{value:u,writable:!0,configurable:!0})}})),e}function d(n,e){t(n)||Object.isFrozen(n)||!r(n)||(o(n)>1&&(n.set=n.add=n.clear=n.delete=l),Object.freeze(n),e&&i(n,(function(n,t){return d(t,!0)})))}function l(){n(2)}function h(t){var r=W[t];return r||n(\"production\"!==process.env.NODE_ENV?18:19,t),r}function y(n,t){W[n]=t}function b(){return\"production\"===process.env.NODE_ENV||J||n(0),J}function m(n,t){t&&(h(\"Patches\"),n.u=[],n.s=[],n.v=t)}function _(n){j(n),n.p.forEach(g),n.p=null}function j(n){n===J&&(J=n.l)}function O(n){return J={p:[],l:J,h:n,m:!0,_:0}}function g(n){var t=n[G];0===t.i||1===t.i?t.j():t.O=!0}function w(t,e){e._=e.p.length;var i=e.p[0],o=void 0!==t&&t!==i;return e.h.g||h(\"ES5\").P(e,t,o),o?(i[G].S&&(_(e),n(4)),r(t)&&(t=P(e,t),e.l||M(e,t)),e.u&&h(\"Patches\").M(i[G],t,e.u,e.s)):t=P(e,i,[]),_(e),e.u&&e.v(e.u,e.s),t!==U?t:void 0}function P(n,t,r){if(Object.isFrozen(t))return t;var e=t[G];if(!e)return i(t,(function(i,o){return S(n,e,t,i,o,r)})),t;if(e.A!==n)return t;if(!e.S)return M(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=p(e.k,!0):e.o;i(o,(function(t,i){return S(n,e,o,t,i,r)})),M(n,o,!1),r&&n.u&&h(\"Patches\").R(e,r,n.u,n.s)}return e.o}function S(e,i,c,s,v,p){if(\"production\"!==process.env.NODE_ENV&&v===c&&n(5),t(v)){var d=P(e,v,p&&i&&3!==i.i&&!u(i.D,s)?p.concat(s):void 0);if(h=s,y=d,2===(b=o(l=c))?l.set(h,y):3===b?(l.delete(h),l.add(y)):l[h]=y,!t(d))return;e.m=!1}var l,h,y,b;if((!i||!f(v,a(i.t,s)))&&r(v)){if(!e.h.N&&e._<1)return;P(e,v),i&&i.A.l||M(e,v)}}function M(n,t,r){void 0===r&&(r=!1),n.h.N&&n.m&&d(t,r)}function A(n,t){var r=n[G],e=Reflect.getOwnPropertyDescriptor(r?v(r):n,t);return e&&e.value}function z(n){if(!n.S){if(n.S=!0,0===n.i||1===n.i){var t=n.o=p(n.t);i(n.p,(function(n,r){t[n]=r})),n.p=void 0}n.l&&z(n.l)}}function x(n){n.o||(n.o=p(n.t))}function I(n,t,r){var e=c(t)?h(\"MapSet\").T(t,r):s(t)?h(\"MapSet\").F(t,r):n.g?function(n,t){var r=Array.isArray(n),e={i:r?1:0,A:t?t.A:b(),S:!1,I:!1,D:{},l:t,t:n,k:null,p:{},o:null,j:null,C:!1},i=e,o=X;r&&(i=[e],o=Y);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(t,r):h(\"ES5\").J(t,r);return(r?r.A:b()).p.push(e),e}function E(n,t){n.g?z(t):h(\"ES5\").$(t)}function k(){function e(n,t){var r=n[G];if(r&&!r.B){r.B=!0;var e=n[t];return r.B=!1,e}return n[t]}function o(n){n.S||(n.S=!0,n.l&&o(n.l))}function a(n){n.o||(n.o=c(n.t))}function c(n){var t=n&&n[G];if(t){t.B=!0;var r=p(t.k,!0);return t.B=!1,r}return p(n)}function s(n){for(var t=n.length-1;t>=0;t--){var r=n[t][G];if(!r.S)switch(r.i){case 5:l(r)&&o(r);break;case 4:d(r)&&o(r)}}}function d(n){for(var t=n.t,r=n.k,e=Object.keys(r),i=e.length-1;i>=0;i--){var o=e[i],a=t[o];if(void 0===a&&!u(t,o))return!0;var c=r[o],s=c&&c[G];if(s?s.t!==a:!f(c,a))return!0}return e.length!==Object.keys(t).length}function l(n){var t=n.k;if(t.length!==n.t.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}function h(t){t.O&&n(3,JSON.stringify(v(t)))}var m={};y(\"ES5\",{J:function(n,t){var u=Array.isArray(n),s=c(n);i(s,(function(t){!function(n,t,i){var u=m[t];u?u.enumerable=i:m[t]=u={enumerable:i,get:function(){return function(n,t){h(n);var i=e(v(n),t);return n.B?i:i===e(n.t,t)&&r(i)?(a(n),n.o[t]=I(n.A.h,i,n)):i}(this[G],t)},set:function(n){!function(n,t,r){if(h(n),n.D[t]=!0,!n.S){if(f(r,e(v(n),t)))return;o(n),a(n)}n.o[t]=r}(this[G],t,n)}},Object.defineProperty(n,t,u)}(s,t,u||function(n,t){var r=Object.getOwnPropertyDescriptor(n,t);return!(!r||!r.enumerable)}(n,t))}));var p={i:u?5:4,A:t?t.A:b(),S:!1,B:!1,I:!1,D:{},l:t,t:n,k:s,o:null,O:!1,C:!1};return Object.defineProperty(s,G,{value:p,writable:!0}),s},$:o,P:function(n,r,e){n.p.forEach((function(n){n[G].B=!0})),e?t(r)&&r[G].A===n&&s(n.p):(n.u&&function n(t){if(t&&\"object\"==typeof t){var r=t[G];if(r){var e=r.t,a=r.k,f=r.D,c=r.i;if(4===c)i(a,(function(t){t!==G&&(void 0!==e[t]||u(e,t)?f[t]||n(a[t]):(f[t]=!0,o(r)))})),i(e,(function(n){void 0!==a[n]||u(a,n)||(f[n]=!1,o(r))}));else if(5===c){if(l(r)&&(o(r),f.length=!0),a.length<e.length)for(var s=a.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<a.length;v++)f[v]=!0;for(var p=Math.min(a.length,e.length),d=0;d<p;d++)void 0===f[d]&&n(a[d])}}}}(n.p[0]),s(n.p))}})}function R(){function t(n){if(!n||\"object\"!=typeof n)return n;if(Array.isArray(n))return n.map(t);if(c(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],t(n[1])]})));if(s(n))return new Set(Array.from(n).map(t));var r=Object.create(Object.getPrototypeOf(n));for(var e in n)r[e]=t(n[e]);return r}var r=\"add\";y(\"Patches\",{H:function(e,i){return i.forEach((function(i){for(var u=i.path,f=i.op,c=e,s=0;s<u.length-1;s++)\"object\"!=typeof(c=a(c,u[s]))&&n(15,u.join(\"/\"));var v=o(c),p=t(i.value),d=u[u.length-1];switch(f){case\"replace\":switch(v){case 2:return c.set(d,p);case 3:n(16);default:return c[d]=p}case r:switch(v){case 1:return c.splice(d,0,p);case 2:return c.set(d,p);case 3:return c.add(p);default:return c[d]=p}case\"remove\":switch(v){case 1:return c.splice(d,1);case 2:return c.delete(d);case 3:return c.delete(i.value);default:return delete c[d]}default:n(17,f)}})),e},R:function(n,t,e,o){switch(n.i){case 0:case 4:case 2:return function(n,t,e,o){var f=n.t,c=n.o;i(n.D,(function(n,i){var s=a(f,n),v=a(c,n),p=i?u(f,n)?\"replace\":r:\"remove\";if(s!==v||\"replace\"!==p){var d=t.concat(n);e.push(\"remove\"===p?{op:p,path:d}:{op:p,path:d,value:v}),o.push(p===r?{op:\"remove\",path:d}:\"remove\"===p?{op:r,path:d,value:s}:{op:\"replace\",path:d,value:s})}}))}(n,t,e,o);case 5:case 1:return function(n,t,e,i){var o=n.t,u=n.D,a=n.o;if(a.length<o.length){var f=[a,o];o=f[0],a=f[1];var c=[i,e];e=c[0],i=c[1]}for(var s=a.length-o.length,v=0;o[v]===a[v]&&v<o.length;)++v;for(var p=o.length;p>v&&o[p-1]===a[p+s-1];)--p;for(var d=v;d<p;++d)if(u[d]&&a[d]!==o[d]){var l=t.concat([d]);e.push({op:\"replace\",path:l,value:a[d]}),i.push({op:\"replace\",path:l,value:o[d]})}for(var h=e.length,y=p+s-1;y>=p;--y){var b=t.concat([y]);e[h+y-p]={op:r,path:b,value:a[y]},i.push({op:\"remove\",path:b})}}(n,t,e,o);case 3:return function(n,t,e,i){var o=n.t,u=n.o,a=0;o.forEach((function(n){if(!u.has(n)){var o=t.concat([a]);e.push({op:\"remove\",path:o,value:n}),i.unshift({op:r,path:o,value:n})}a++})),a=0,u.forEach((function(n){if(!o.has(n)){var u=t.concat([a]);e.push({op:r,path:u,value:n}),i.unshift({op:\"remove\",path:u,value:n})}a++}))}(n,t,e,o)}},M:function(n,t,r,e){r.push({op:\"replace\",path:[],value:t}),e.push({op:\"replace\",path:[],value:n.t})}})}function D(){function t(n,t){function r(){this.constructor=n}u(n,t),n.prototype=(r.prototype=t.prototype,new r)}function e(n){n.o||(n.D=new Map,n.o=new Map(n.t))}function i(n){n.o||(n.o=new Set,n.t.forEach((function(t){if(r(t)){var e=I(n.A.h,t,n);n.p.set(t,e),n.o.add(e)}else n.o.add(t)})))}function o(t){t.O&&n(3,JSON.stringify(v(t)))}var u=function(n,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},a=function(){function n(n,t){return this[G]={i:2,l:t,A:t?t.A:b(),S:!1,I:!1,o:void 0,D:void 0,t:n,k:this,C:!1,O:!1},this}t(n,Map);var i=n.prototype;return Object.defineProperty(i,\"size\",{get:function(){return v(this[G]).size}}),i.has=function(n){return v(this[G]).has(n)},i.set=function(n,t){var r=this[G];return o(r),v(r).get(n)!==t&&(e(r),E(r.A.h,r),r.D.set(n,!0),r.o.set(n,t),r.D.set(n,!0)),this},i.delete=function(n){if(!this.has(n))return!1;var t=this[G];return o(t),e(t),E(t.A.h,t),t.D.set(n,!1),t.o.delete(n),!0},i.clear=function(){var n=this[G];return o(n),e(n),E(n.A.h,n),n.D=new Map,n.o.clear()},i.forEach=function(n,t){var r=this;v(this[G]).forEach((function(e,i){n.call(t,r.get(i),i,r)}))},i.get=function(n){var t=this[G];o(t);var i=v(t).get(n);if(t.I||!r(i))return i;if(i!==t.t.get(n))return i;var u=I(t.A.h,i,t);return e(t),t.o.set(n,u),u},i.keys=function(){return v(this[G]).keys()},i.values=function(){var n,t=this,r=this.keys();return(n={})[L]=function(){return t.values()},n.next=function(){var n=r.next();return n.done?n:{done:!1,value:t.get(n.value)}},n},i.entries=function(){var n,t=this,r=this.keys();return(n={})[L]=function(){return t.entries()},n.next=function(){var n=r.next();if(n.done)return n;var e=t.get(n.value);return{done:!1,value:[n.value,e]}},n},i[L]=function(){return this.entries()},n}(),f=function(){function n(n,t){return this[G]={i:3,l:t,A:t?t.A:b(),S:!1,I:!1,o:void 0,t:n,k:this,p:new Map,O:!1,C:!1},this}t(n,Set);var r=n.prototype;return Object.defineProperty(r,\"size\",{get:function(){return v(this[G]).size}}),r.has=function(n){var t=this[G];return o(t),t.o?!!t.o.has(n)||!(!t.p.has(n)||!t.o.has(t.p.get(n))):t.t.has(n)},r.add=function(n){var t=this[G];return o(t),t.o?t.o.add(n):t.t.has(n)||(i(t),E(t.A.h,t),t.o.add(n)),this},r.delete=function(n){if(!this.has(n))return!1;var t=this[G];return o(t),i(t),E(t.A.h,t),t.o.delete(n)||!!t.p.has(n)&&t.o.delete(t.p.get(n))},r.clear=function(){var n=this[G];return o(n),i(n),E(n.A.h,n),n.o.clear()},r.values=function(){var n=this[G];return o(n),i(n),n.o.values()},r.entries=function(){var n=this[G];return o(n),i(n),n.o.entries()},r.keys=function(){return this.values()},r[L]=function(){return this.values()},r.forEach=function(n,t){for(var r=this.values(),e=r.next();!e.done;)n.call(t,e.value,e.value,this),e=r.next()},n}();y(\"MapSet\",{T:function(n,t){return new a(n,t)},F:function(n,t){return new f(n,t)}})}function N(){k(),D(),R()}function T(n){return n}function F(n){return n}var C,J,$=\"undefined\"!=typeof Symbol,B=\"undefined\"!=typeof Map,H=\"undefined\"!=typeof Set,K=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,U=$?Symbol(\"immer-nothing\"):((C={})[\"immer-nothing\"]=!0,C),q=$?Symbol(\"immer-draftable\"):\"__$immer_draftable\",G=$?Symbol(\"immer-state\"):\"__$immer_state\",L=$?Symbol.iterator:\"@@iterator\",Q={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(n){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+n},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(n){return\"Cannot apply patch, path doesn't resolve: \"+n},16:'Sets cannot have \"replace\" patches.',17:function(n){return\"Unsupported patch operation: \"+n},18:function(n){return\"The plugin for '\"+n+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+n+\"()` when initializing your application.\"},19:\"plugin not loaded\",20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\"},V=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,W={},X={get:function(n,t){if(t===G)return n;var e=n.p;if(!n.S&&u(e,t))return e[t];var i=v(n)[t];if(n.I||!r(i))return i;if(n.S){if(i!==A(n.t,t))return i;e=n.o}return e[t]=I(n.A.h,i,n)},has:function(n,t){return t in v(n)},ownKeys:function(n){return Reflect.ownKeys(v(n))},set:function(n,t,r){if(!n.S){var e=A(n.t,t);if(r?f(e,r)||r===n.p[t]:f(e,r)&&t in n.t)return!0;x(n),z(n)}return n.D[t]=!0,n.o[t]=r,!0},deleteProperty:function(n,t){return void 0!==A(n.t,t)||t in n.t?(n.D[t]=!1,x(n),z(n)):n.D[t]&&delete n.D[t],n.o&&delete n.o[t],!0},getOwnPropertyDescriptor:function(n,t){var r=v(n),e=Reflect.getOwnPropertyDescriptor(r,t);return e&&(e.writable=!0,e.configurable=1!==n.i||\"length\"!==t),e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},Y={};i(X,(function(n,t){Y[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Y.deleteProperty=function(t,r){return\"production\"!==process.env.NODE_ENV&&isNaN(parseInt(r))&&n(13),X.deleteProperty.call(this,t[0],r)},Y.set=function(t,r,e){return\"production\"!==process.env.NODE_ENV&&\"length\"!==r&&isNaN(parseInt(r))&&n(14),X.set.call(this,t[0],r,e,t[0])};var Z=function(){function e(n){this.g=K,this.N=\"production\"!==process.env.NODE_ENV,\"boolean\"==typeof(null==n?void 0:n.useProxies)&&this.setUseProxies(n.useProxies),\"boolean\"==typeof(null==n?void 0:n.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var i=e.prototype;return i.produce=function(t,e,i){if(\"function\"==typeof t&&\"function\"!=typeof e){var o=e;e=t;var u=this;return function(n){var t=this;void 0===n&&(n=o);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return u.produce(n,(function(n){var r;return(r=e).call.apply(r,[t,n].concat(i))}))}}var a;if(\"function\"!=typeof e&&n(6),void 0!==i&&\"function\"!=typeof i&&n(7),r(t)){var f=O(this),c=I(this,t,void 0),s=!0;try{a=e(c),s=!1}finally{s?_(f):j(f)}return\"undefined\"!=typeof Promise&&a instanceof Promise?a.then((function(n){return m(f,i),w(n,f)}),(function(n){throw _(f),n})):(m(f,i),w(a,f))}if((a=e(t))!==U)return void 0===a&&(a=t),this.N&&d(a,!0),a},i.produceWithPatches=function(n,t){var r,e,i=this;return\"function\"==typeof n?function(t){for(var r=arguments.length,e=Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];return i.produceWithPatches(t,(function(t){return n.apply(void 0,[t].concat(e))}))}:[this.produce(n,t,(function(n,t){r=n,e=t})),r,e]},i.createDraft=function(t){r(t)||n(8);var e=O(this),i=I(this,t,void 0);return i[G].C=!0,j(e),i},i.finishDraft=function(t,r){var e=t&&t[G];\"production\"!==process.env.NODE_ENV&&(e&&e.C||n(9),e.I&&n(10));var i=e.A;return m(i,r),w(void 0,i)},i.setAutoFreeze=function(n){this.N=n},i.setUseProxies=function(t){K||n(20),this.g=t},i.applyPatches=function(n,r){var e;for(e=r.length-1;e>=0;e--){var i=r[e];if(0===i.path.length&&\"replace\"===i.op){n=i.value;break}}var o=h(\"Patches\").H;return t(n)?o(n,r):this.produce(n,(function(n){return o(n,r.slice(e+1))}))},e}(),nn=new Z,tn=nn.produce,rn=nn.produceWithPatches.bind(nn),en=nn.setAutoFreeze.bind(nn),on=nn.setUseProxies.bind(nn),un=nn.applyPatches.bind(nn),an=nn.createDraft.bind(nn),fn=nn.finishDraft.bind(nn);export default tn;export{Z as Immer,un as applyPatches,T as castDraft,F as castImmutable,an as createDraft,N as enableAllPlugins,k as enableES5,D as enableMapSet,R as enablePatches,fn as finishDraft,q as immerable,t as isDraft,r as isDraftable,U as nothing,e as original,tn as produce,rn as produceWithPatches,en as setAutoFreeze,on as setUseProxies};\n//# sourceMappingURL=immer.esm.js.map\n","/*!\n * The MIT License (MIT)\n *\n * Copyright (c) 2016 Christian Speckner <cnspeckn@googlemail.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar Mutex = /** @class */ (function () {\n    function Mutex() {\n        this._queue = [];\n        this._pending = false;\n    }\n    Mutex.prototype.isLocked = function () {\n        return this._pending;\n    };\n    Mutex.prototype.acquire = function () {\n        var _this = this;\n        var ticket = new Promise(function (resolve) {\n            return _this._queue.push(resolve);\n        });\n        if (!this._pending) {\n            this._dispatchNext();\n        }\n        return ticket;\n    };\n    Mutex.prototype.runExclusive = function (callback) {\n        return this.acquire().then(function (release) {\n            var result;\n            try {\n                result = callback();\n            }\n            catch (e) {\n                release();\n                throw e;\n            }\n            return Promise.resolve(result).then(function (x) { return (release(), x); }, function (e) {\n                release();\n                throw e;\n            });\n        });\n    };\n    Mutex.prototype._dispatchNext = function () {\n        if (this._queue.length > 0) {\n            this._pending = true;\n            this._queue.shift()(this._dispatchNext.bind(this));\n        }\n        else {\n            this._pending = false;\n        }\n    };\n    return Mutex;\n}());\nexport default Mutex;\n//# sourceMappingURL=Mutex.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { Mutex } from '@aws-amplify/core';\nimport PushStream from 'zen-push';\nimport { ModelPredicateCreator } from '../predicates';\nimport { OpType, QueryOne, } from '../types';\nimport { isModelConstructor, STORAGE, validatePredicate } from '../util';\nimport getDefaultAdapter from './adapter/getDefaultAdapter';\nvar Storage = /** @class */ (function () {\n    function Storage(schema, namespaceResolver, getModelConstructorByModelName, modelInstanceCreator, adapter) {\n        this.schema = schema;\n        this.namespaceResolver = namespaceResolver;\n        this.getModelConstructorByModelName = getModelConstructorByModelName;\n        this.modelInstanceCreator = modelInstanceCreator;\n        this.adapter = adapter;\n        this.adapter = getDefaultAdapter();\n        this.pushStream = new PushStream();\n    }\n    Storage.getNamespace = function () {\n        var namespace = {\n            name: STORAGE,\n            relationships: {},\n            enums: {},\n            models: {},\n            nonModels: {},\n        };\n        return namespace;\n    };\n    Storage.prototype.init = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var resolve, reject;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.initialized !== undefined) {\n                            return [2 /*return*/];\n                        }\n                        this.initialized = new Promise(function (res, rej) {\n                            resolve = res;\n                            reject = rej;\n                        });\n                        this.adapter\n                            .setUp(this.schema, this.namespaceResolver, this.modelInstanceCreator, this.getModelConstructorByModelName)\n                            .then(resolve, reject);\n                        return [4 /*yield*/, this.initialized];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Storage.prototype.save = function (model, condition, mutator) {\n        return __awaiter(this, void 0, void 0, function () {\n            var result;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.init()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this.adapter.save(model, condition)];\n                    case 2:\n                        result = _a.sent();\n                        result.forEach(function (r) {\n                            var _a = __read(r, 2), element = _a[0], opType = _a[1];\n                            var modelConstructor = Object.getPrototypeOf(element)\n                                .constructor;\n                            _this.pushStream.next({\n                                model: modelConstructor,\n                                opType: opType,\n                                element: element,\n                                mutator: mutator,\n                                condition: ModelPredicateCreator.getPredicates(condition, false),\n                            });\n                        });\n                        return [2 /*return*/, result];\n                }\n            });\n        });\n    };\n    Storage.prototype.delete = function (modelOrModelConstructor, condition, mutator) {\n        return __awaiter(this, void 0, void 0, function () {\n            var deleted, models, modelIds;\n            var _a;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.init()];\n                    case 1:\n                        _b.sent();\n                        return [4 /*yield*/, this.adapter.delete(modelOrModelConstructor, condition)];\n                    case 2:\n                        _a = __read.apply(void 0, [_b.sent(), 2]), models = _a[0], deleted = _a[1];\n                        modelIds = new Set(models.map(function (_a) {\n                            var id = _a.id;\n                            return id;\n                        }));\n                        if (!isModelConstructor(modelOrModelConstructor) &&\n                            !Array.isArray(deleted)) {\n                            deleted = [deleted];\n                        }\n                        deleted.forEach(function (model) {\n                            var modelConstructor = Object.getPrototypeOf(model)\n                                .constructor;\n                            var theCondition;\n                            if (!isModelConstructor(modelOrModelConstructor)) {\n                                theCondition = modelIds.has(model.id)\n                                    ? ModelPredicateCreator.getPredicates(condition, false)\n                                    : undefined;\n                            }\n                            _this.pushStream.next({\n                                model: modelConstructor,\n                                opType: OpType.DELETE,\n                                element: model,\n                                mutator: mutator,\n                                condition: theCondition,\n                            });\n                        });\n                        return [2 /*return*/, [models, deleted]];\n                }\n            });\n        });\n    };\n    Storage.prototype.query = function (modelConstructor, predicate, pagination) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.init()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this.adapter.query(modelConstructor, predicate, pagination)];\n                    case 2: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    Storage.prototype.queryOne = function (modelConstructor, firstOrLast) {\n        if (firstOrLast === void 0) { firstOrLast = QueryOne.FIRST; }\n        return __awaiter(this, void 0, void 0, function () {\n            var record;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.init()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this.adapter.queryOne(modelConstructor, firstOrLast)];\n                    case 2:\n                        record = _a.sent();\n                        return [2 /*return*/, record];\n                }\n            });\n        });\n    };\n    Storage.prototype.observe = function (modelConstructor, predicate, skipOwn) {\n        var _a;\n        var listenToAll = !modelConstructor;\n        var hasPredicate = !!predicate;\n        var result = this.pushStream.observable\n            .filter(function (_a) {\n            var mutator = _a.mutator;\n            return !skipOwn || mutator !== skipOwn;\n        })\n            .map(function (_a) {\n            var _mutator = _a.mutator, message = __rest(_a, [\"mutator\"]);\n            return message;\n        });\n        if (!listenToAll) {\n            var predicates_1, type_1;\n            if (hasPredicate) {\n                (_a = ModelPredicateCreator.getPredicates(predicate), predicates_1 = _a.predicates, type_1 = _a.type);\n            }\n            result = result.filter(function (_a) {\n                var model = _a.model, element = _a.element;\n                if (modelConstructor !== model) {\n                    return false;\n                }\n                if (hasPredicate) {\n                    return validatePredicate(element, type_1, predicates_1);\n                }\n                return true;\n            });\n        }\n        return result;\n    };\n    Storage.prototype.clear = function (completeObservable) {\n        if (completeObservable === void 0) { completeObservable = true; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.initialized = undefined;\n                        return [4 /*yield*/, this.adapter.clear()];\n                    case 1:\n                        _a.sent();\n                        if (completeObservable) {\n                            this.pushStream.complete();\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return Storage;\n}());\nvar ExclusiveStorage = /** @class */ (function () {\n    function ExclusiveStorage(schema, namespaceResolver, getModelConstructorByModelName, modelInstanceCreator, adapter) {\n        this.mutex = new Mutex();\n        this.storage = new Storage(schema, namespaceResolver, getModelConstructorByModelName, modelInstanceCreator, adapter);\n    }\n    ExclusiveStorage.prototype.runExclusive = function (fn) {\n        return this.mutex.runExclusive(fn.bind(this, this.storage));\n    };\n    ExclusiveStorage.prototype.save = function (model, condition, mutator) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.runExclusive(function (storage) {\n                        return storage.save(model, condition, mutator);\n                    })];\n            });\n        });\n    };\n    ExclusiveStorage.prototype.delete = function (modelOrModelConstructor, condition, mutator) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.runExclusive(function (storage) {\n                        if (isModelConstructor(modelOrModelConstructor)) {\n                            var modelConstructor = modelOrModelConstructor;\n                            return storage.delete(modelConstructor, condition, mutator);\n                        }\n                        else {\n                            var model = modelOrModelConstructor;\n                            return storage.delete(model, condition, mutator);\n                        }\n                    })];\n            });\n        });\n    };\n    ExclusiveStorage.prototype.query = function (modelConstructor, predicate, pagination) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.runExclusive(function (storage) {\n                        return storage.query(modelConstructor, predicate, pagination);\n                    })];\n            });\n        });\n    };\n    ExclusiveStorage.prototype.queryOne = function (modelConstructor, firstOrLast) {\n        if (firstOrLast === void 0) { firstOrLast = QueryOne.FIRST; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.runExclusive(function (storage) {\n                        return storage.queryOne(modelConstructor, firstOrLast);\n                    })];\n            });\n        });\n    };\n    ExclusiveStorage.getNamespace = function () {\n        return Storage.getNamespace();\n    };\n    ExclusiveStorage.prototype.observe = function (modelConstructor, predicate, skipOwn) {\n        return this.storage.observe(modelConstructor, predicate, skipOwn);\n    };\n    ExclusiveStorage.prototype.clear = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.storage.clear()];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return ExclusiveStorage;\n}());\nexport { ExclusiveStorage };\n//# sourceMappingURL=storage.js.map","import Observable from 'zen-observable-ts';\nvar ReachabilityNavigator = /** @class */ (function () {\n    function ReachabilityNavigator() {\n    }\n    ReachabilityNavigator.prototype.networkMonitor = function () {\n        return new Observable(function (observer) {\n            observer.next({ online: window.navigator.onLine });\n            var notifyOnline = function () { return observer.next({ online: true }); };\n            var notifyOffline = function () { return observer.next({ online: false }); };\n            window.addEventListener('online', notifyOnline);\n            window.addEventListener('offline', notifyOffline);\n            return function () {\n                window.removeEventListener('online', notifyOnline);\n                window.removeEventListener('offline', notifyOffline);\n            };\n        });\n    };\n    return ReachabilityNavigator;\n}());\nexport default ReachabilityNavigator;\n//# sourceMappingURL=Reachability.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport Observable from 'zen-observable-ts';\nimport { ConsoleLogger as Logger, Reachability } from '@aws-amplify/core';\nvar logger = new Logger('DataStore');\nvar RECONNECTING_IN = 5000; // 5s this may be configurable in the future\nvar DataStoreConnectivity = /** @class */ (function () {\n    function DataStoreConnectivity() {\n        this.connectionStatus = {\n            online: false,\n        };\n    }\n    DataStoreConnectivity.prototype.status = function () {\n        var _this = this;\n        if (this.observer) {\n            throw new Error('Subscriber already exists');\n        }\n        return new Observable(function (observer) {\n            _this.observer = observer;\n            // Will be used to forward socket connection changes, enhancing Reachability\n            var subs = new Reachability()\n                .networkMonitor()\n                .subscribe(function (_a) {\n                var online = _a.online;\n                _this.connectionStatus.online = online;\n                var observerResult = __assign({}, _this.connectionStatus); // copyOf status\n                observer.next(observerResult);\n            });\n            return function () {\n                subs.unsubscribe();\n            };\n        });\n    };\n    DataStoreConnectivity.prototype.socketDisconnected = function () {\n        var _this = this;\n        if (this.observer && typeof this.observer.next === 'function') {\n            this.observer.next({ online: false }); // Notify network issue from the socket\n            setTimeout(function () {\n                var observerResult = __assign({}, _this.connectionStatus); // copyOf status\n                _this.observer.next(observerResult);\n            }, RECONNECTING_IN); // giving time for socket cleanup and network status stabilization\n        }\n    };\n    return DataStoreConnectivity;\n}());\nexport default DataStoreConnectivity;\n//# sourceMappingURL=datastoreConnectivity.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar ModelMerger = /** @class */ (function () {\n    function ModelMerger(outbox, ownSymbol) {\n        this.outbox = outbox;\n        this.ownSymbol = ownSymbol;\n    }\n    ModelMerger.prototype.merge = function (exclusiveStorage, model) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                exclusiveStorage.runExclusive(function (storage) { return __awaiter(_this, void 0, void 0, function () {\n                    var mutationsForModel, isDelete;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, this.outbox.getForModel(storage, model)];\n                            case 1:\n                                mutationsForModel = _a.sent();\n                                isDelete = model._deleted;\n                                if (!(mutationsForModel.length === 0)) return [3 /*break*/, 5];\n                                if (!isDelete) return [3 /*break*/, 3];\n                                return [4 /*yield*/, storage.delete(model, undefined, this.ownSymbol)];\n                            case 2:\n                                _a.sent();\n                                return [3 /*break*/, 5];\n                            case 3: return [4 /*yield*/, storage.save(model, undefined, this.ownSymbol)];\n                            case 4:\n                                _a.sent();\n                                _a.label = 5;\n                            case 5: return [2 /*return*/];\n                        }\n                    });\n                }); });\n                return [2 /*return*/];\n            });\n        });\n    };\n    return ModelMerger;\n}());\nexport { ModelMerger };\n//# sourceMappingURL=merger.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { ModelPredicateCreator } from '../predicates';\nimport { QueryOne, } from '../types';\nimport { SYNC } from '../util';\nimport { TransformerMutationType } from './utils';\n// TODO: Persist deleted ids\nvar MutationEventOutbox = /** @class */ (function () {\n    function MutationEventOutbox(schema, namespaceResolver, MutationEvent, ownSymbol) {\n        this.schema = schema;\n        this.namespaceResolver = namespaceResolver;\n        this.MutationEvent = MutationEvent;\n        this.ownSymbol = ownSymbol;\n    }\n    MutationEventOutbox.prototype.enqueue = function (storage, mutationEvent) {\n        return __awaiter(this, void 0, void 0, function () {\n            var mutationEventModelDefinition, predicate, _a, first, incomingMutationType, incomingConditionJSON, incomingCondition;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        mutationEventModelDefinition = this.schema.namespaces[SYNC].models['MutationEvent'];\n                        predicate = ModelPredicateCreator.createFromExisting(mutationEventModelDefinition, function (c) {\n                            return c\n                                .modelId('eq', mutationEvent.modelId)\n                                .id('ne', _this.inProgressMutationEventId);\n                        });\n                        return [4 /*yield*/, storage.query(this.MutationEvent, predicate)];\n                    case 1:\n                        _a = __read.apply(void 0, [_b.sent(), 1]), first = _a[0];\n                        if (!(first === undefined)) return [3 /*break*/, 3];\n                        return [4 /*yield*/, storage.save(mutationEvent, undefined, this.ownSymbol)];\n                    case 2:\n                        _b.sent();\n                        return [2 /*return*/];\n                    case 3:\n                        incomingMutationType = mutationEvent.operation;\n                        if (!(first.operation === TransformerMutationType.CREATE)) return [3 /*break*/, 8];\n                        if (!(incomingMutationType === TransformerMutationType.DELETE)) return [3 /*break*/, 5];\n                        // delete all for model\n                        return [4 /*yield*/, storage.delete(this.MutationEvent, predicate)];\n                    case 4:\n                        // delete all for model\n                        _b.sent();\n                        return [3 /*break*/, 7];\n                    case 5: \n                    // first gets updated with incoming's data, condition intentionally skiped\n                    return [4 /*yield*/, storage.save(this.MutationEvent.copyOf(first, function (draft) {\n                            draft.data = mutationEvent.data;\n                        }), undefined, this.ownSymbol)];\n                    case 6:\n                        // first gets updated with incoming's data, condition intentionally skiped\n                        _b.sent();\n                        _b.label = 7;\n                    case 7: return [3 /*break*/, 12];\n                    case 8:\n                        incomingConditionJSON = mutationEvent.condition;\n                        incomingCondition = JSON.parse(incomingConditionJSON);\n                        if (!(Object.keys(incomingCondition).length === 0)) return [3 /*break*/, 10];\n                        // delete all for model\n                        return [4 /*yield*/, storage.delete(this.MutationEvent, predicate)];\n                    case 9:\n                        // delete all for model\n                        _b.sent();\n                        _b.label = 10;\n                    case 10: \n                    // Enqueue new one\n                    return [4 /*yield*/, storage.save(mutationEvent, undefined, this.ownSymbol)];\n                    case 11:\n                        // Enqueue new one\n                        _b.sent();\n                        _b.label = 12;\n                    case 12: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    MutationEventOutbox.prototype.dequeue = function (storage) {\n        return __awaiter(this, void 0, void 0, function () {\n            var head;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.peek(storage)];\n                    case 1:\n                        head = _a.sent();\n                        return [4 /*yield*/, storage.delete(head)];\n                    case 2:\n                        _a.sent();\n                        this.inProgressMutationEventId = undefined;\n                        return [2 /*return*/, head];\n                }\n            });\n        });\n    };\n    /**\n     * Doing a peek() implies that the mutation goes \"inProgress\"\n     *\n     * @param storage\n     */\n    MutationEventOutbox.prototype.peek = function (storage) {\n        return __awaiter(this, void 0, void 0, function () {\n            var head;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, storage.queryOne(this.MutationEvent, QueryOne.FIRST)];\n                    case 1:\n                        head = _a.sent();\n                        this.inProgressMutationEventId = head ? head.id : undefined;\n                        return [2 /*return*/, head];\n                }\n            });\n        });\n    };\n    MutationEventOutbox.prototype.getForModel = function (storage, model) {\n        return __awaiter(this, void 0, void 0, function () {\n            var mutationEventModelDefinition, mutationEvents;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        mutationEventModelDefinition = this.schema.namespaces[SYNC].models\n                            .MutationEvent;\n                        return [4 /*yield*/, storage.query(this.MutationEvent, ModelPredicateCreator.createFromExisting(mutationEventModelDefinition, function (c) { return c.modelId('eq', model.id); }))];\n                    case 1:\n                        mutationEvents = _a.sent();\n                        return [2 /*return*/, mutationEvents];\n                }\n            });\n        });\n    };\n    return MutationEventOutbox;\n}());\nexport { MutationEventOutbox };\n//# sourceMappingURL=outbox.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { ConsoleLogger as Logger } from '../Logger/ConsoleLogger';\nvar logger = new Logger('Util');\nvar NonRetryableError = /** @class */ (function (_super) {\n    __extends(NonRetryableError, _super);\n    function NonRetryableError(message) {\n        var _this = _super.call(this, message) || this;\n        _this.nonRetryable = true;\n        return _this;\n    }\n    return NonRetryableError;\n}(Error));\nexport { NonRetryableError };\nvar isNonRetryableError = function (obj) {\n    var key = 'nonRetryable';\n    return obj && obj[key];\n};\n/**\n * @private\n * Internal use of Amplify only\n */\nexport function retry(functionToRetry, args, delayFn, attempt) {\n    if (attempt === void 0) { attempt = 1; }\n    return __awaiter(this, void 0, void 0, function () {\n        var err_1, retryIn_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (typeof functionToRetry !== 'function') {\n                        throw Error('functionToRetry must be a function');\n                    }\n                    logger.debug(functionToRetry.name + \" attempt #\" + attempt + \" with this vars: \" + JSON.stringify(args));\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 8]);\n                    return [4 /*yield*/, functionToRetry.apply(void 0, __spread(args))];\n                case 2: return [2 /*return*/, _a.sent()];\n                case 3:\n                    err_1 = _a.sent();\n                    logger.debug(\"error on \" + functionToRetry.name + \": \" + err_1 + \" \");\n                    if (isNonRetryableError(err_1)) {\n                        logger.debug(functionToRetry.name + \" non retryable error \" + err_1);\n                        throw err_1;\n                    }\n                    retryIn_1 = delayFn(attempt, args, err_1);\n                    logger.debug(functionToRetry.name + \" retrying in \" + retryIn_1 + \" ms\");\n                    if (!(retryIn_1 !== false)) return [3 /*break*/, 6];\n                    return [4 /*yield*/, new Promise(function (res) { return setTimeout(res, retryIn_1); })];\n                case 4:\n                    _a.sent();\n                    return [4 /*yield*/, retry(functionToRetry, args, delayFn, attempt + 1)];\n                case 5: return [2 /*return*/, _a.sent()];\n                case 6: throw err_1;\n                case 7: return [3 /*break*/, 8];\n                case 8: return [2 /*return*/];\n            }\n        });\n    });\n}\nvar MAX_DELAY_MS = 5 * 60 * 1000;\nfunction jitteredBackoff(maxDelayMs) {\n    var BASE_TIME_MS = 100;\n    var JITTER_FACTOR = 100;\n    return function (attempt) {\n        var delay = Math.pow(2, attempt) * BASE_TIME_MS + JITTER_FACTOR * Math.random();\n        return delay > maxDelayMs ? false : delay;\n    };\n}\n/**\n * @private\n * Internal use of Amplify only\n */\nexport var jitteredExponentialRetry = function (functionToRetry, args, maxDelayMs) {\n    if (maxDelayMs === void 0) { maxDelayMs = MAX_DELAY_MS; }\n    return retry(functionToRetry, args, jitteredBackoff(maxDelayMs));\n};\n//# sourceMappingURL=Retry.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport API from '@aws-amplify/api';\nimport { ConsoleLogger as Logger, jitteredExponentialRetry, NonRetryableError, } from '@aws-amplify/core';\nimport Observable from 'zen-observable-ts';\nimport { DISCARD, isModelFieldType, isTargetNameAssociation, OpType, } from '../../types';\nimport { exhaustiveCheck, USER } from '../../util';\nimport { buildGraphQLOperation, createMutationInstanceFromModelOperation, TransformerMutationType, } from '../utils';\nvar MAX_ATTEMPTS = 10;\nvar logger = new Logger('DataStore');\nvar MutationProcessor = /** @class */ (function () {\n    function MutationProcessor(schema, storage, userClasses, outbox, modelInstanceCreator, MutationEvent, conflictHandler, errorHandler) {\n        this.schema = schema;\n        this.storage = storage;\n        this.userClasses = userClasses;\n        this.outbox = outbox;\n        this.modelInstanceCreator = modelInstanceCreator;\n        this.MutationEvent = MutationEvent;\n        this.conflictHandler = conflictHandler;\n        this.errorHandler = errorHandler;\n        this.typeQuery = new WeakMap();\n        this.processing = false;\n        this.generateQueries();\n    }\n    MutationProcessor.prototype.generateQueries = function () {\n        var _this = this;\n        Object.values(this.schema.namespaces).forEach(function (namespace) {\n            Object.values(namespace.models)\n                .filter(function (_a) {\n                var syncable = _a.syncable;\n                return syncable;\n            })\n                .forEach(function (model) {\n                var _a = __read(buildGraphQLOperation(namespace, model, 'CREATE'), 1), createMutation = _a[0];\n                var _b = __read(buildGraphQLOperation(namespace, model, 'UPDATE'), 1), updateMutation = _b[0];\n                var _c = __read(buildGraphQLOperation(namespace, model, 'DELETE'), 1), deleteMutation = _c[0];\n                _this.typeQuery.set(model, [\n                    createMutation,\n                    updateMutation,\n                    deleteMutation,\n                ]);\n            });\n        });\n    };\n    MutationProcessor.prototype.isReady = function () {\n        return this.observer !== undefined;\n    };\n    MutationProcessor.prototype.start = function () {\n        var _this = this;\n        var observable = new Observable(function (observer) {\n            _this.observer = observer;\n            _this.resume();\n            return function () {\n                _this.pause();\n            };\n        });\n        return observable;\n    };\n    MutationProcessor.prototype.resume = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var head, namespaceName, _a, model, operation, data, condition, modelConstructor, result, opName, modelDefinition, error_1, record;\n            var _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (this.processing || !this.isReady()) {\n                            return [2 /*return*/];\n                        }\n                        this.processing = true;\n                        namespaceName = USER;\n                        _c.label = 1;\n                    case 1:\n                        _a = this.processing;\n                        if (!_a) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this.outbox.peek(this.storage)];\n                    case 2:\n                        _a = (head = _c.sent());\n                        _c.label = 3;\n                    case 3:\n                        if (!_a) return [3 /*break*/, 11];\n                        model = head.model, operation = head.operation, data = head.data, condition = head.condition;\n                        modelConstructor = this.userClasses[model];\n                        result = void 0;\n                        opName = void 0;\n                        modelDefinition = void 0;\n                        _c.label = 4;\n                    case 4:\n                        _c.trys.push([4, 6, , 7]);\n                        return [4 /*yield*/, this.jitteredRetry(namespaceName, model, operation, data, condition, modelConstructor, this.MutationEvent, head)];\n                    case 5:\n                        _b = __read.apply(void 0, [_c.sent(), 3]), result = _b[0], opName = _b[1], modelDefinition = _b[2];\n                        return [3 /*break*/, 7];\n                    case 6:\n                        error_1 = _c.sent();\n                        if (error_1.message === 'Offline' || error_1.message === 'RetryMutation') {\n                            return [3 /*break*/, 1];\n                        }\n                        return [3 /*break*/, 7];\n                    case 7:\n                        if (!(result === undefined)) return [3 /*break*/, 9];\n                        logger.debug('done retrying');\n                        return [4 /*yield*/, this.outbox.dequeue(this.storage)];\n                    case 8:\n                        _c.sent();\n                        return [3 /*break*/, 1];\n                    case 9:\n                        record = result.data[opName];\n                        return [4 /*yield*/, this.outbox.dequeue(this.storage)];\n                    case 10:\n                        _c.sent();\n                        this.observer.next([operation, modelDefinition, record]);\n                        return [3 /*break*/, 1];\n                    case 11:\n                        // pauses itself\n                        this.pause();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    MutationProcessor.prototype.jitteredRetry = function (namespaceName, model, operation, data, condition, modelConstructor, MutationEvent, mutationEvent) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, jitteredExponentialRetry(function (model, operation, data, condition, modelConstructor, MutationEvent, mutationEvent) { return __awaiter(_this, void 0, void 0, function () {\n                            var _a, query, variables, graphQLCondition, opName, modelDefinition, tryWith, attempt, opType, result, err_1, _b, error, retryWith, err_2, _c, _d, opName_1, query_1, serverData, namespace, updatedMutation;\n                            var _e;\n                            return __generator(this, function (_f) {\n                                switch (_f.label) {\n                                    case 0:\n                                        _a = __read(this.createQueryVariables(namespaceName, model, operation, data, condition), 5), query = _a[0], variables = _a[1], graphQLCondition = _a[2], opName = _a[3], modelDefinition = _a[4];\n                                        tryWith = { query: query, variables: variables };\n                                        attempt = 0;\n                                        opType = this.opTypeFromTransformerOperation(operation);\n                                        _f.label = 1;\n                                    case 1:\n                                        _f.trys.push([1, 3, , 13]);\n                                        return [4 /*yield*/, API.graphql(tryWith)];\n                                    case 2:\n                                        result = (_f.sent());\n                                        return [2 /*return*/, [result, opName, modelDefinition]];\n                                    case 3:\n                                        err_1 = _f.sent();\n                                        if (!(err_1.errors && err_1.errors.length > 0)) return [3 /*break*/, 12];\n                                        _b = __read(err_1.errors, 1), error = _b[0];\n                                        if (error.message === 'Network Error') {\n                                            if (!this.processing) {\n                                                throw new NonRetryableError('Offline');\n                                            }\n                                            // TODO: Check errors on different env (react-native or other browsers)\n                                            throw new Error('Network Error');\n                                        }\n                                        if (!(error.errorType === 'ConflictUnhandled')) return [3 /*break*/, 11];\n                                        attempt++;\n                                        retryWith = void 0;\n                                        if (!(attempt > MAX_ATTEMPTS)) return [3 /*break*/, 4];\n                                        retryWith = DISCARD;\n                                        return [3 /*break*/, 7];\n                                    case 4:\n                                        _f.trys.push([4, 6, , 7]);\n                                        return [4 /*yield*/, this.conflictHandler({\n                                                modelConstructor: modelConstructor,\n                                                localModel: this.modelInstanceCreator(modelConstructor, variables.input),\n                                                remoteModel: this.modelInstanceCreator(modelConstructor, error.data),\n                                                operation: opType,\n                                                attempts: attempt,\n                                            })];\n                                    case 5:\n                                        retryWith = _f.sent();\n                                        return [3 /*break*/, 7];\n                                    case 6:\n                                        err_2 = _f.sent();\n                                        logger.warn('conflict trycatch', err_2);\n                                        return [3 /*break*/, 13];\n                                    case 7:\n                                        if (!(retryWith === DISCARD)) return [3 /*break*/, 9];\n                                        _c = __read(buildGraphQLOperation(this.schema.namespaces[namespaceName], modelDefinition, 'GET'), 1), _d = __read(_c[0], 3), opName_1 = _d[1], query_1 = _d[2];\n                                        return [4 /*yield*/, API.graphql({\n                                                query: query_1,\n                                                variables: { id: variables.input.id },\n                                            })];\n                                    case 8:\n                                        serverData = _f.sent();\n                                        return [2 /*return*/, [serverData, opName_1, modelDefinition]];\n                                    case 9:\n                                        namespace = this.schema.namespaces[namespaceName];\n                                        updatedMutation = createMutationInstanceFromModelOperation(namespace.relationships, modelDefinition, opType, modelConstructor, retryWith, graphQLCondition, MutationEvent, this.modelInstanceCreator, mutationEvent.id);\n                                        return [4 /*yield*/, this.storage.save(updatedMutation)];\n                                    case 10:\n                                        _f.sent();\n                                        throw new NonRetryableError('RetryMutation');\n                                    case 11:\n                                        try {\n                                            this.errorHandler({\n                                                localModel: this.modelInstanceCreator(modelConstructor, variables.input),\n                                                message: error.message,\n                                                operation: operation,\n                                                errorType: error.errorType,\n                                                errorInfo: error.errorInfo,\n                                                remoteModel: error.data\n                                                    ? this.modelInstanceCreator(modelConstructor, error.data)\n                                                    : null,\n                                            });\n                                        }\n                                        catch (err) {\n                                            logger.warn({ _err: err });\n                                        }\n                                        finally {\n                                            // Return empty tuple, dequeues the mutation\n                                            return [2 /*return*/, error.data\n                                                    ? [\n                                                        { data: (_e = {}, _e[opName] = error.data, _e) },\n                                                        opName,\n                                                        modelDefinition,\n                                                    ]\n                                                    : []];\n                                        }\n                                        _f.label = 12;\n                                    case 12: return [3 /*break*/, 13];\n                                    case 13:\n                                        if (tryWith) return [3 /*break*/, 1];\n                                        _f.label = 14;\n                                    case 14: return [2 /*return*/];\n                                }\n                            });\n                        }); }, [\n                            model,\n                            operation,\n                            data,\n                            condition,\n                            modelConstructor,\n                            MutationEvent,\n                            mutationEvent,\n                        ])];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    MutationProcessor.prototype.createQueryVariables = function (namespaceName, model, operation, data, condition) {\n        var modelDefinition = this.schema.namespaces[namespaceName].models[model];\n        var queriesTuples = this.typeQuery.get(modelDefinition);\n        var _a = __read(queriesTuples.find(function (_a) {\n            var _b = __read(_a, 1), transformerMutationType = _b[0];\n            return transformerMutationType === operation;\n        }), 3), opName = _a[1], query = _a[2];\n        var _b = JSON.parse(data), _version = _b._version, parsedData = __rest(_b, [\"_version\"]);\n        var filteredData = operation === TransformerMutationType.DELETE\n            ? { id: parsedData.id } // For DELETE mutations, only ID is sent\n            : Object.values(modelDefinition.fields)\n                .filter(function (_a) {\n                var type = _a.type, association = _a.association;\n                // connections\n                if (isModelFieldType(type)) {\n                    // BELONGS_TO\n                    if (isTargetNameAssociation(association) &&\n                        association.connectionType === 'BELONGS_TO') {\n                        return true;\n                    }\n                    // All other connections\n                    return false;\n                }\n                // scalars and non-model types\n                return true;\n            })\n                .map(function (_a) {\n                var name = _a.name, type = _a.type, association = _a.association;\n                var fieldName = name;\n                var val = parsedData[name];\n                if (isModelFieldType(type) &&\n                    isTargetNameAssociation(association)) {\n                    fieldName = association.targetName;\n                    val = parsedData[fieldName];\n                }\n                return [fieldName, val];\n            })\n                .reduce(function (acc, _a) {\n                var _b = __read(_a, 2), k = _b[0], v = _b[1];\n                acc[k] = v;\n                return acc;\n            }, {});\n        // Build mutation variables input object\n        var input = __assign(__assign({}, filteredData), { _version: _version });\n        var graphQLCondition = JSON.parse(condition);\n        var variables = __assign({ input: input }, (operation === TransformerMutationType.CREATE\n            ? {}\n            : {\n                condition: Object.keys(graphQLCondition).length > 0\n                    ? graphQLCondition\n                    : null,\n            }));\n        return [query, variables, graphQLCondition, opName, modelDefinition];\n    };\n    MutationProcessor.prototype.opTypeFromTransformerOperation = function (operation) {\n        switch (operation) {\n            case TransformerMutationType.CREATE:\n                return OpType.INSERT;\n            case TransformerMutationType.DELETE:\n                return OpType.DELETE;\n            case TransformerMutationType.UPDATE:\n                return OpType.UPDATE;\n            case TransformerMutationType.GET: // Intentionally blank\n                break;\n            default:\n                exhaustiveCheck(operation);\n        }\n    };\n    MutationProcessor.prototype.pause = function () {\n        this.processing = false;\n    };\n    return MutationProcessor;\n}());\nexport { MutationProcessor };\n//# sourceMappingURL=mutation.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport API from '@aws-amplify/api';\nimport Observable from 'zen-observable-ts';\nimport { buildGraphQLOperation } from '../utils';\nimport { jitteredExponentialRetry } from '@aws-amplify/core';\nvar DEFAULT_PAGINATION_LIMIT = 100;\nvar DEFAULT_MAX_RECORDS_TO_SYNC = 10000;\nvar SyncProcessor = /** @class */ (function () {\n    function SyncProcessor(schema, maxRecordsToSync, syncPageSize) {\n        if (maxRecordsToSync === void 0) { maxRecordsToSync = DEFAULT_MAX_RECORDS_TO_SYNC; }\n        if (syncPageSize === void 0) { syncPageSize = DEFAULT_PAGINATION_LIMIT; }\n        this.schema = schema;\n        this.maxRecordsToSync = maxRecordsToSync;\n        this.syncPageSize = syncPageSize;\n        this.typeQuery = new WeakMap();\n        this.generateQueries();\n    }\n    SyncProcessor.prototype.generateQueries = function () {\n        var _this = this;\n        Object.values(this.schema.namespaces).forEach(function (namespace) {\n            Object.values(namespace.models)\n                .filter(function (_a) {\n                var syncable = _a.syncable;\n                return syncable;\n            })\n                .forEach(function (model) {\n                var _a = __read(buildGraphQLOperation(namespace, model, 'LIST'), 1), _b = __read(_a[0]), opNameQuery = _b.slice(1);\n                _this.typeQuery.set(model, opNameQuery);\n            });\n        });\n    };\n    SyncProcessor.prototype.retrievePage = function (modelDefinition, lastSync, nextToken, limit) {\n        if (limit === void 0) { limit = null; }\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, opName, query, variables, data, _b, opResult, items, newNextToken, startedAt;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _a = __read(this.typeQuery.get(modelDefinition), 2), opName = _a[0], query = _a[1];\n                        variables = {\n                            limit: limit,\n                            nextToken: nextToken,\n                            lastSync: lastSync,\n                        };\n                        return [4 /*yield*/, this.jitteredRetry(query, variables)];\n                    case 1:\n                        data = (_c.sent()).data;\n                        _b = opName, opResult = data[_b];\n                        items = opResult.items, newNextToken = opResult.nextToken, startedAt = opResult.startedAt;\n                        return [2 /*return*/, { nextToken: newNextToken, startedAt: startedAt, items: items }];\n                }\n            });\n        });\n    };\n    SyncProcessor.prototype.jitteredRetry = function (query, variables) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, jitteredExponentialRetry(function (query, variables) { return __awaiter(_this, void 0, void 0, function () {\n                            return __generator(this, function (_a) {\n                                switch (_a.label) {\n                                    case 0: return [4 /*yield*/, API.graphql({\n                                            query: query,\n                                            variables: variables,\n                                        })];\n                                    case 1: return [2 /*return*/, _a.sent()];\n                                }\n                            });\n                        }); }, [query, variables])];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    SyncProcessor.prototype.start = function (typesLastSync) {\n        var _this = this;\n        var processing = true;\n        var maxRecordsToSync = this.maxRecordsToSync !== undefined\n            ? this.maxRecordsToSync\n            : DEFAULT_MAX_RECORDS_TO_SYNC;\n        var syncPageSize = this.syncPageSize !== undefined\n            ? this.syncPageSize\n            : DEFAULT_PAGINATION_LIMIT;\n        var parentPromises = new Map();\n        var observable = new Observable(function (observer) {\n            var sortedTypesLastSyncs = Object.values(_this.schema.namespaces).reduce(function (map, namespace) {\n                var e_1, _a;\n                try {\n                    for (var _b = __values(Array.from(namespace.modelTopologicalOrdering.keys())), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var modelName = _c.value;\n                        var typeLastSync = typesLastSync.get(namespace.models[modelName]);\n                        map.set(namespace.models[modelName], typeLastSync);\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                return map;\n            }, new Map());\n            var allModelsReady = Array.from(sortedTypesLastSyncs.entries())\n                .filter(function (_a) {\n                var _b = __read(_a, 1), syncable = _b[0].syncable;\n                return syncable;\n            })\n                .map(function (_a) {\n                var _b = __read(_a, 2), modelDefinition = _b[0], _c = __read(_b[1], 2), namespace = _c[0], lastSync = _c[1];\n                return __awaiter(_this, void 0, void 0, function () {\n                    var done, nextToken, startedAt, items, recordsReceived, parents, promises, promise;\n                    var _this = this;\n                    return __generator(this, function (_d) {\n                        switch (_d.label) {\n                            case 0:\n                                done = false;\n                                nextToken = null;\n                                startedAt = null;\n                                items = null;\n                                recordsReceived = 0;\n                                parents = this.schema.namespaces[namespace].modelTopologicalOrdering.get(modelDefinition.name);\n                                promises = parents.map(function (parent) {\n                                    return parentPromises.get(namespace + \"_\" + parent);\n                                });\n                                promise = new Promise(function (res) { return __awaiter(_this, void 0, void 0, function () {\n                                    var limit;\n                                    var _a;\n                                    return __generator(this, function (_b) {\n                                        switch (_b.label) {\n                                            case 0: return [4 /*yield*/, Promise.all(promises)];\n                                            case 1:\n                                                _b.sent();\n                                                _b.label = 2;\n                                            case 2:\n                                                if (!processing) {\n                                                    return [2 /*return*/];\n                                                }\n                                                limit = Math.min(maxRecordsToSync - recordsReceived, syncPageSize);\n                                                return [4 /*yield*/, this.retrievePage(modelDefinition, lastSync, nextToken, limit)];\n                                            case 3:\n                                                (_a = _b.sent(), items = _a.items, nextToken = _a.nextToken, startedAt = _a.startedAt);\n                                                recordsReceived += items.length;\n                                                done = nextToken === null || recordsReceived >= maxRecordsToSync;\n                                                observer.next({\n                                                    namespace: namespace,\n                                                    modelDefinition: modelDefinition,\n                                                    items: items,\n                                                    done: done,\n                                                    startedAt: startedAt,\n                                                    isFullSync: !lastSync,\n                                                });\n                                                _b.label = 4;\n                                            case 4:\n                                                if (!done) return [3 /*break*/, 2];\n                                                _b.label = 5;\n                                            case 5:\n                                                res();\n                                                return [2 /*return*/];\n                                        }\n                                    });\n                                }); });\n                                parentPromises.set(namespace + \"_\" + modelDefinition.name, promise);\n                                return [4 /*yield*/, promise];\n                            case 1:\n                                _d.sent();\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            });\n            Promise.all(allModelsReady).then(function () {\n                observer.complete();\n            });\n            return function () {\n                processing = false;\n            };\n        });\n        return observable;\n    };\n    return SyncProcessor;\n}());\nexport { SyncProcessor };\n//# sourceMappingURL=sync.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\nimport { CONTROL_MSG as PUBSUB_CONTROL_MSG } from '@aws-amplify/pubsub';\nimport Observable from 'zen-observable-ts';\nimport { ModelPredicateCreator } from '../predicates';\nimport { SYNC } from '../util';\nimport DataStoreConnectivity from './datastoreConnectivity';\nimport { ModelMerger } from './merger';\nimport { MutationEventOutbox } from './outbox';\nimport { MutationProcessor } from './processors/mutation';\nimport { CONTROL_MSG, SubscriptionProcessor } from './processors/subscription';\nimport { SyncProcessor } from './processors/sync';\nimport { createMutationInstanceFromModelOperation, predicateToGraphQLCondition, } from './utils';\nvar logger = new Logger('DataStore');\nvar ownSymbol = Symbol('sync');\nvar SyncEngine = /** @class */ (function () {\n    function SyncEngine(schema, namespaceResolver, modelClasses, userModelClasses, storage, modelInstanceCreator, maxRecordsToSync, syncPageSize, conflictHandler, errorHandler) {\n        this.schema = schema;\n        this.namespaceResolver = namespaceResolver;\n        this.modelClasses = modelClasses;\n        this.userModelClasses = userModelClasses;\n        this.storage = storage;\n        this.modelInstanceCreator = modelInstanceCreator;\n        this.maxRecordsToSync = maxRecordsToSync;\n        this.syncPageSize = syncPageSize;\n        this.started = false;\n        this.online = false;\n        this.processingMutations = false;\n        var MutationEvent = this.modelClasses['MutationEvent'];\n        this.outbox = new MutationEventOutbox(this.schema, this.namespaceResolver, MutationEvent, ownSymbol);\n        this.modelMerger = new ModelMerger(this.outbox, ownSymbol);\n        this.syncQueriesProcessor = new SyncProcessor(this.schema, maxRecordsToSync, syncPageSize);\n        this.subscriptionsProcessor = new SubscriptionProcessor(this.schema);\n        this.mutationsProcessor = new MutationProcessor(this.schema, this.storage, this.userModelClasses, this.outbox, this.modelInstanceCreator, MutationEvent, conflictHandler, errorHandler);\n    }\n    SyncEngine.prototype.start = function (params) {\n        var _this = this;\n        return new Observable(function (observer) {\n            logger.log('starting sync engine...');\n            _this.started = true;\n            var subscriptions = [];\n            (function () { return __awaiter(_this, void 0, void 0, function () {\n                var err_1, datastoreConnectivity;\n                var _this = this;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            _a.trys.push([0, 2, , 3]);\n                            return [4 /*yield*/, this.setupModels(params)];\n                        case 1:\n                            _a.sent();\n                            return [3 /*break*/, 3];\n                        case 2:\n                            err_1 = _a.sent();\n                            logger.error('Sync engine error on start', err_1);\n                            return [2 /*return*/];\n                        case 3:\n                            datastoreConnectivity = new DataStoreConnectivity();\n                            datastoreConnectivity.status().subscribe(function (_a) {\n                                var online = _a.online;\n                                return __awaiter(_this, void 0, void 0, function () {\n                                    var _b, ctlSubsObservable, dataSubsObservable, errorHandler, _c, _d, err_2, currentTimeStamp, modelLastSync, paginatingModels, syncQueriesObservable, syncQuerySubscription, err_3;\n                                    var _this = this;\n                                    return __generator(this, function (_e) {\n                                        switch (_e.label) {\n                                            case 0:\n                                                if (!(online && !this.online)) return [3 /*break*/, 10];\n                                                _b = __read(this.subscriptionsProcessor.start(), 2), ctlSubsObservable = _b[0], dataSubsObservable = _b[1];\n                                                errorHandler = this.disconnectionHandler(datastoreConnectivity);\n                                                _e.label = 1;\n                                            case 1:\n                                                _e.trys.push([1, 3, , 4]);\n                                                _d = (_c = subscriptions).push;\n                                                return [4 /*yield*/, this.waitForSubscriptionsReady(ctlSubsObservable, errorHandler)];\n                                            case 2:\n                                                _d.apply(_c, [_e.sent()]);\n                                                return [3 /*break*/, 4];\n                                            case 3:\n                                                err_2 = _e.sent();\n                                                observer.error(err_2);\n                                                return [2 /*return*/];\n                                            case 4:\n                                                logger.log('Realtime ready');\n                                                currentTimeStamp = new Date().getTime();\n                                                return [4 /*yield*/, this.getModelsMetadataWithNextFullSync(currentTimeStamp)];\n                                            case 5:\n                                                modelLastSync = _e.sent();\n                                                paginatingModels = new Set(modelLastSync.keys());\n                                                syncQueriesObservable = this.syncQueriesProcessor.start(modelLastSync);\n                                                if (this.isFullSync(modelLastSync)) {\n                                                    clearTimeout(this.fullSyncTimeoutId);\n                                                    this.fullSyncTimeoutId = undefined;\n                                                }\n                                                _e.label = 6;\n                                            case 6:\n                                                _e.trys.push([6, 8, , 9]);\n                                                return [4 /*yield*/, this.waitForSyncQueries(syncQueriesObservable, paginatingModels)];\n                                            case 7:\n                                                syncQuerySubscription = _e.sent();\n                                                if (syncQuerySubscription) {\n                                                    subscriptions.push(syncQuerySubscription);\n                                                }\n                                                return [3 /*break*/, 9];\n                                            case 8:\n                                                err_3 = _e.sent();\n                                                observer.error(err_3);\n                                                return [2 /*return*/];\n                                            case 9:\n                                                //#endregion\n                                                //#region process mutations\n                                                subscriptions.push(this.mutationsProcessor\n                                                    .start()\n                                                    .subscribe(function (_a) {\n                                                    var _b = __read(_a, 3), _transformerMutationType = _b[0], modelDefinition = _b[1], item = _b[2];\n                                                    var modelConstructor = _this.userModelClasses[modelDefinition.name];\n                                                    var model = _this.modelInstanceCreator(modelConstructor, item);\n                                                    _this.modelMerger.merge(_this.storage, model);\n                                                }));\n                                                //#endregion\n                                                // TODO: extract to function\n                                                subscriptions.push(dataSubsObservable.subscribe(function (_a) {\n                                                    var _b = __read(_a, 3), _transformerMutationType = _b[0], modelDefinition = _b[1], item = _b[2];\n                                                    var modelConstructor = _this.userModelClasses[modelDefinition.name];\n                                                    var model = _this.modelInstanceCreator(modelConstructor, item);\n                                                    _this.modelMerger.merge(_this.storage, model);\n                                                }));\n                                                return [3 /*break*/, 11];\n                                            case 10:\n                                                if (!online) {\n                                                    subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\n                                                    subscriptions = [];\n                                                }\n                                                _e.label = 11;\n                                            case 11:\n                                                this.online = online;\n                                                return [2 /*return*/];\n                                        }\n                                    });\n                                });\n                            });\n                            this.storage\n                                .observe(null, null, ownSymbol)\n                                .filter(function (_a) {\n                                var model = _a.model;\n                                var modelDefinition = _this.getModelDefinition(model);\n                                return modelDefinition.syncable === true;\n                            })\n                                .subscribe({\n                                next: function (_a) {\n                                    var opType = _a.opType, model = _a.model, element = _a.element, condition = _a.condition;\n                                    return __awaiter(_this, void 0, void 0, function () {\n                                        var namespace, MutationEventConstructor, graphQLCondition, mutationEvent;\n                                        return __generator(this, function (_b) {\n                                            switch (_b.label) {\n                                                case 0:\n                                                    namespace = this.schema.namespaces[this.namespaceResolver(model)];\n                                                    MutationEventConstructor = this.modelClasses['MutationEvent'];\n                                                    graphQLCondition = predicateToGraphQLCondition(condition);\n                                                    mutationEvent = createMutationInstanceFromModelOperation(namespace.relationships, this.getModelDefinition(model), opType, model, element, graphQLCondition, MutationEventConstructor, this.modelInstanceCreator);\n                                                    return [4 /*yield*/, this.outbox.enqueue(this.storage, mutationEvent)];\n                                                case 1:\n                                                    _b.sent();\n                                                    if (this.online) {\n                                                        this.mutationsProcessor.resume();\n                                                    }\n                                                    return [2 /*return*/];\n                                            }\n                                        });\n                                    });\n                                },\n                            });\n                            return [2 /*return*/];\n                    }\n                });\n            }); })();\n            return function () {\n                subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\n            };\n        });\n    };\n    SyncEngine.prototype.getModelsMetadataWithNextFullSync = function (currentTimeStamp) {\n        return __awaiter(this, void 0, void 0, function () {\n            var modelLastSync, _a;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = Map.bind;\n                        return [4 /*yield*/, this.getModelsMetadata()];\n                    case 1:\n                        modelLastSync = new (_a.apply(Map, [void 0, (_b.sent()).map(function (_a) {\n                                var namespace = _a.namespace, model = _a.model, lastSync = _a.lastSync, lastFullSync = _a.lastFullSync, fullSyncInterval = _a.fullSyncInterval;\n                                var nextFullSync = lastFullSync + fullSyncInterval;\n                                var syncFrom = !lastFullSync || nextFullSync < currentTimeStamp\n                                    ? 0 // perform full sync if expired\n                                    : lastSync; // perform delta sync\n                                return [\n                                    _this.schema.namespaces[namespace].models[model],\n                                    [namespace, syncFrom],\n                                ];\n                            })]))();\n                        return [2 /*return*/, modelLastSync];\n                }\n            });\n        });\n    };\n    SyncEngine.prototype.isFullSync = function (modelsMap) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(Array.from(modelsMap.values())), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), syncFrom = _d[1];\n                if (syncFrom === 0) {\n                    return true;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return false;\n    };\n    SyncEngine.prototype.waitForSyncQueries = function (observable, paginatingModels) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        if (!_this.online) {\n                            resolve();\n                        }\n                        var currentTimeStamp = new Date().getTime();\n                        var subscription = observable.subscribe({\n                            error: function (err) {\n                                reject(err);\n                            },\n                            next: function (_a) {\n                                var namespace = _a.namespace, modelDefinition = _a.modelDefinition, items = _a.items, done = _a.done, startedAt = _a.startedAt, isFullSync = _a.isFullSync;\n                                return __awaiter(_this, void 0, void 0, function () {\n                                    var promises, modelMetadata_1, fullSyncInterval;\n                                    var _this = this;\n                                    return __generator(this, function (_b) {\n                                        switch (_b.label) {\n                                            case 0:\n                                                promises = items.map(function (item) { return __awaiter(_this, void 0, void 0, function () {\n                                                    var modelConstructor, model;\n                                                    return __generator(this, function (_a) {\n                                                        modelConstructor = this.userModelClasses[modelDefinition.name];\n                                                        model = this.modelInstanceCreator(modelConstructor, item);\n                                                        return [2 /*return*/, this.modelMerger.merge(this.storage, model)];\n                                                    });\n                                                }); });\n                                                return [4 /*yield*/, Promise.all(promises)];\n                                            case 1:\n                                                _b.sent();\n                                                if (!done) return [3 /*break*/, 4];\n                                                paginatingModels.delete(modelDefinition);\n                                                return [4 /*yield*/, this.getModelMetadata(namespace, modelDefinition.name)];\n                                            case 2:\n                                                modelMetadata_1 = _b.sent();\n                                                modelMetadata_1 = this.modelClasses\n                                                    .ModelMetadata.copyOf(modelMetadata_1, function (draft) {\n                                                    draft.lastSync = startedAt;\n                                                    draft.lastFullSync = isFullSync\n                                                        ? currentTimeStamp\n                                                        : modelMetadata_1.lastFullSync;\n                                                });\n                                                fullSyncInterval = modelMetadata_1.fullSyncInterval;\n                                                return [4 /*yield*/, this.storage.save(modelMetadata_1, undefined, ownSymbol)];\n                                            case 3:\n                                                _b.sent();\n                                                // resolve promise if all done\n                                                if (paginatingModels.size === 0) {\n                                                    resolve(subscription);\n                                                }\n                                                if (isFullSync && !this.fullSyncTimeoutId) {\n                                                    // register next full sync when no full sync is already scheduled\n                                                    this.fullSyncTimeoutId = setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\n                                                        var currentTimeStamp, modelLastSync, paginatingModels, syncQueriesObservable;\n                                                        return __generator(this, function (_a) {\n                                                            switch (_a.label) {\n                                                                case 0:\n                                                                    currentTimeStamp = new Date().getTime();\n                                                                    return [4 /*yield*/, this.getModelsMetadataWithNextFullSync(currentTimeStamp)];\n                                                                case 1:\n                                                                    modelLastSync = _a.sent();\n                                                                    paginatingModels = new Set(modelLastSync.keys());\n                                                                    syncQueriesObservable = this.syncQueriesProcessor.start(modelLastSync);\n                                                                    this.fullSyncTimeoutId = undefined;\n                                                                    this.waitForSyncQueries(syncQueriesObservable, paginatingModels);\n                                                                    return [2 /*return*/];\n                                                            }\n                                                        });\n                                                    }); }, fullSyncInterval);\n                                                }\n                                                _b.label = 4;\n                                            case 4: return [2 /*return*/];\n                                        }\n                                    });\n                                });\n                            },\n                        });\n                    })];\n            });\n        });\n    };\n    SyncEngine.prototype.disconnectionHandler = function (datastoreConnectivity) {\n        return function (msg) {\n            // This implementation is tight to AWSAppSyncRealTimeProvider 'Connection closed', 'Timeout disconnect' msg\n            if (PUBSUB_CONTROL_MSG.CONNECTION_CLOSED === msg ||\n                PUBSUB_CONTROL_MSG.TIMEOUT_DISCONNECT === msg) {\n                datastoreConnectivity.socketDisconnected();\n            }\n        };\n    };\n    SyncEngine.prototype.waitForSubscriptionsReady = function (ctlSubsObservable, errorHandler) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        var subscription = ctlSubsObservable.subscribe({\n                            next: function (msg) {\n                                if (msg === CONTROL_MSG.CONNECTED) {\n                                    resolve(subscription);\n                                }\n                            },\n                            error: function (err) {\n                                reject(\"subscription failed \" + err);\n                                errorHandler(err);\n                            },\n                        });\n                    })];\n            });\n        });\n    };\n    SyncEngine.prototype.setupModels = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var fullSyncInterval, ModelMetadata, models, promises;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        fullSyncInterval = params.fullSyncInterval;\n                        ModelMetadata = this.modelClasses\n                            .ModelMetadata;\n                        models = [];\n                        Object.values(this.schema.namespaces).forEach(function (namespace) {\n                            Object.values(namespace.models)\n                                .filter(function (_a) {\n                                var syncable = _a.syncable;\n                                return syncable;\n                            })\n                                .forEach(function (model) {\n                                models.push([namespace.name, model.name]);\n                            });\n                        });\n                        promises = models.map(function (_a) {\n                            var _b = __read(_a, 2), namespace = _b[0], model = _b[1];\n                            return __awaiter(_this, void 0, void 0, function () {\n                                var modelMetadata;\n                                return __generator(this, function (_c) {\n                                    switch (_c.label) {\n                                        case 0: return [4 /*yield*/, this.getModelMetadata(namespace, model)];\n                                        case 1:\n                                            modelMetadata = _c.sent();\n                                            if (!(modelMetadata === undefined)) return [3 /*break*/, 3];\n                                            return [4 /*yield*/, this.storage.save(this.modelInstanceCreator(ModelMetadata, {\n                                                    model: model,\n                                                    namespace: namespace,\n                                                    lastSync: null,\n                                                    fullSyncInterval: fullSyncInterval,\n                                                    lastFullSync: null,\n                                                }), undefined, ownSymbol)];\n                                        case 2:\n                                            _c.sent();\n                                            return [3 /*break*/, 5];\n                                        case 3: return [4 /*yield*/, this.storage.save(this.modelClasses.ModelMetadata.copyOf(modelMetadata, function (draft) {\n                                                draft.fullSyncInterval = fullSyncInterval;\n                                            }))];\n                                        case 4:\n                                            _c.sent();\n                                            _c.label = 5;\n                                        case 5: return [2 /*return*/];\n                                    }\n                                });\n                            });\n                        });\n                        return [4 /*yield*/, Promise.all(promises)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SyncEngine.prototype.getModelsMetadata = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var ModelMetadata, modelsMetadata;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        ModelMetadata = this.modelClasses\n                            .ModelMetadata;\n                        return [4 /*yield*/, this.storage.query(ModelMetadata)];\n                    case 1:\n                        modelsMetadata = _a.sent();\n                        return [2 /*return*/, modelsMetadata];\n                }\n            });\n        });\n    };\n    SyncEngine.prototype.getModelMetadata = function (namespace, model) {\n        return __awaiter(this, void 0, void 0, function () {\n            var ModelMetadata, predicate, _a, modelMetadata;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        ModelMetadata = this.modelClasses\n                            .ModelMetadata;\n                        predicate = ModelPredicateCreator.createFromExisting(this.schema.namespaces[SYNC].models[ModelMetadata.name], function (c) { return c.namespace('eq', namespace).model('eq', model); });\n                        return [4 /*yield*/, this.storage.query(ModelMetadata, predicate)];\n                    case 1:\n                        _a = __read.apply(void 0, [_b.sent(), 1]), modelMetadata = _a[0];\n                        return [2 /*return*/, modelMetadata];\n                }\n            });\n        });\n    };\n    SyncEngine.prototype.getModelDefinition = function (modelConstructor) {\n        var namespaceName = this.namespaceResolver(modelConstructor);\n        var modelDefinition = this.schema.namespaces[namespaceName].models[modelConstructor.name];\n        return modelDefinition;\n    };\n    SyncEngine.getNamespace = function () {\n        var namespace = {\n            name: SYNC,\n            relationships: {},\n            enums: {\n                OperationType: {\n                    name: 'OperationType',\n                    values: ['CREATE', 'UPDATE', 'DELETE'],\n                },\n            },\n            nonModels: {},\n            models: {\n                MutationEvent: {\n                    name: 'MutationEvent',\n                    pluralName: 'MutationEvents',\n                    syncable: false,\n                    fields: {\n                        id: {\n                            name: 'id',\n                            type: 'ID',\n                            isRequired: true,\n                            isArray: false,\n                        },\n                        model: {\n                            name: 'model',\n                            type: 'String',\n                            isRequired: true,\n                            isArray: false,\n                        },\n                        data: {\n                            name: 'data',\n                            type: 'String',\n                            isRequired: true,\n                            isArray: false,\n                        },\n                        modelId: {\n                            name: 'modelId',\n                            type: 'String',\n                            isRequired: true,\n                            isArray: false,\n                        },\n                        operation: {\n                            name: 'operation',\n                            type: {\n                                enum: 'Operationtype',\n                            },\n                            isArray: false,\n                            isRequired: true,\n                        },\n                        condition: {\n                            name: 'condition',\n                            type: 'String',\n                            isArray: false,\n                            isRequired: true,\n                        },\n                    },\n                },\n                ModelMetadata: {\n                    name: 'ModelMetadata',\n                    pluralName: 'ModelsMetadata',\n                    syncable: false,\n                    fields: {\n                        id: {\n                            name: 'id',\n                            type: 'ID',\n                            isRequired: true,\n                            isArray: false,\n                        },\n                        namespace: {\n                            name: 'namespace',\n                            type: 'String',\n                            isRequired: true,\n                            isArray: false,\n                        },\n                        model: {\n                            name: 'model',\n                            type: 'String',\n                            isRequired: true,\n                            isArray: false,\n                        },\n                        lastSync: {\n                            name: 'lastSync',\n                            type: 'Int',\n                            isRequired: false,\n                            isArray: false,\n                        },\n                        lastFullSync: {\n                            name: 'lastFullSync',\n                            type: 'Int',\n                            isRequired: false,\n                            isArray: false,\n                        },\n                        fullSyncInterval: {\n                            name: 'fullSyncInterval',\n                            type: 'Int',\n                            isRequired: true,\n                            isArray: false,\n                        },\n                    },\n                },\n            },\n        };\n        return namespace;\n    };\n    return SyncEngine;\n}());\nexport { SyncEngine };\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\nimport { immerable, produce, setAutoFreeze } from 'immer';\nimport { v1 as uuid1, v4 as uuid4 } from 'uuid';\nimport Observable from 'zen-observable-ts';\nimport { isPredicatesAll, ModelPredicateCreator, } from '../predicates';\nimport { ExclusiveStorage as Storage } from '../storage/storage';\nimport { SyncEngine } from '../sync';\nimport { GraphQLScalarType, isGraphQLScalarType, } from '../types';\nimport { DATASTORE, establishRelation, exhaustiveCheck, isModelConstructor, STORAGE, SYNC, USER, } from '../util';\nsetAutoFreeze(true);\nvar logger = new Logger('DataStore');\nvar SETTING_SCHEMA_VERSION = 'schemaVersion';\nvar storage;\nvar schema;\nvar modelNamespaceMap = new WeakMap();\nvar getModelDefinition = function (modelConstructor) {\n    var namespace = modelNamespaceMap.get(modelConstructor);\n    return schema.namespaces[namespace].models[modelConstructor.name];\n};\nvar isValidModelConstructor = function (obj) {\n    return isModelConstructor(obj) && modelNamespaceMap.has(obj);\n};\nvar namespaceResolver = function (modelConstructor) {\n    return modelNamespaceMap.get(modelConstructor);\n};\nvar dataStoreClasses;\nvar userClasses;\nvar syncClasses;\nvar storageClasses;\nvar initSchema = function (userSchema) {\n    var _a;\n    if (schema !== undefined) {\n        throw new Error('The schema has already been initialized');\n    }\n    logger.log('validating schema', { schema: userSchema });\n    var internalUserNamespace = __assign({ name: USER }, userSchema);\n    logger.log('DataStore', 'Init models');\n    userClasses = createTypeClasses(internalUserNamespace);\n    logger.log('DataStore', 'Models initialized');\n    var dataStoreNamespace = getNamespace();\n    var storageNamespace = Storage.getNamespace();\n    var syncNamespace = SyncEngine.getNamespace();\n    dataStoreClasses = createTypeClasses(dataStoreNamespace);\n    storageClasses = createTypeClasses(storageNamespace);\n    syncClasses = createTypeClasses(syncNamespace);\n    schema = {\n        namespaces: (_a = {},\n            _a[dataStoreNamespace.name] = dataStoreNamespace,\n            _a[internalUserNamespace.name] = internalUserNamespace,\n            _a[storageNamespace.name] = storageNamespace,\n            _a[syncNamespace.name] = syncNamespace,\n            _a),\n        version: userSchema.version,\n    };\n    Object.keys(schema.namespaces).forEach(function (namespace) {\n        var e_1, _a;\n        schema.namespaces[namespace].relationships = establishRelation(schema.namespaces[namespace]);\n        var modelAssociations = new Map();\n        Object.values(schema.namespaces[namespace].models).forEach(function (model) {\n            var wea = [];\n            Object.values(model.fields)\n                .filter(function (field) {\n                return field.association &&\n                    field.association.connectionType === 'BELONGS_TO' &&\n                    field.type.model !== model.name;\n            })\n                .forEach(function (field) { return wea.push(field.type.model); });\n            modelAssociations.set(model.name, wea);\n        });\n        var result = new Map();\n        var count = 1000;\n        while (true && count > 0) {\n            if (modelAssociations.size === 0) {\n                break;\n            }\n            count--;\n            if (count === 0) {\n                throw new Error('Models are not topologically sortable. Please verify your schema.');\n            }\n            try {\n                for (var _b = (e_1 = void 0, __values(Array.from(modelAssociations.keys()))), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var modelName = _c.value;\n                    var parents = modelAssociations.get(modelName);\n                    if (parents.every(function (x) { return result.has(x); })) {\n                        result.set(modelName, parents);\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            Array.from(result.keys()).forEach(function (x) { return modelAssociations.delete(x); });\n        }\n        schema.namespaces[namespace].modelTopologicalOrdering = result;\n    });\n    return userClasses;\n};\nvar createTypeClasses = function (namespace) {\n    var classes = {};\n    Object.entries(namespace.models).forEach(function (_a) {\n        var _b = __read(_a, 2), modelName = _b[0], modelDefinition = _b[1];\n        var clazz = createModelClass(modelDefinition);\n        classes[modelName] = clazz;\n        modelNamespaceMap.set(clazz, namespace.name);\n    });\n    Object.entries(namespace.nonModels || {}).forEach(function (_a) {\n        var _b = __read(_a, 2), typeName = _b[0], typeDefinition = _b[1];\n        var clazz = createNonModelClass(typeDefinition);\n        classes[typeName] = clazz;\n    });\n    return classes;\n};\nvar instancesMetadata = new WeakSet();\nfunction modelInstanceCreator(modelConstructor, init) {\n    instancesMetadata.add(init);\n    return new modelConstructor(init);\n}\nvar initializeInstance = function (init, modelDefinition, draft) {\n    Object.entries(init).forEach(function (_a) {\n        var _b = __read(_a, 2), k = _b[0], v = _b[1];\n        var fieldDefinition = modelDefinition.fields[k];\n        if (fieldDefinition !== undefined) {\n            var type = fieldDefinition.type, isRequired = fieldDefinition.isRequired, name_1 = fieldDefinition.name, isArray = fieldDefinition.isArray;\n            if (isRequired && (v === null || v === undefined)) {\n                throw new Error(\"Field \" + name_1 + \" is required\");\n            }\n            if (isGraphQLScalarType(type)) {\n                var jsType_1 = GraphQLScalarType.getJSType(type);\n                if (isArray) {\n                    if (!Array.isArray(v)) {\n                        throw new Error(\"Field \" + name_1 + \" should be of type \" + jsType_1 + \"[], \" + typeof v + \" received. \" + v);\n                    }\n                    if (v.some(function (e) { return typeof e !== jsType_1; })) {\n                        var elemTypes = v.map(function (e) { return typeof e; }).join(',');\n                        throw new Error(\"All elements in the \" + name_1 + \" array should be of type \" + jsType_1 + \", [\" + elemTypes + \"] received. \" + v);\n                    }\n                }\n                else if (typeof v !== jsType_1 && v !== null) {\n                    throw new Error(\"Field \" + name_1 + \" should be of type \" + jsType_1 + \", \" + typeof v + \" received. \" + v);\n                }\n            }\n        }\n        draft[k] = v;\n    });\n};\nvar createModelClass = function (modelDefinition) {\n    var clazz = /** @class */ (function () {\n        function Model(init) {\n            var instance = produce(this, function (draft) {\n                initializeInstance(init, modelDefinition, draft);\n                var modelInstanceMetadata = instancesMetadata.has(init)\n                    ? init\n                    : {};\n                var _id = modelInstanceMetadata.id, _version = modelInstanceMetadata._version, _lastChangedAt = modelInstanceMetadata._lastChangedAt, _deleted = modelInstanceMetadata._deleted;\n                var id = \n                // instancesIds is set by modelInstanceCreator, it is accessible only internally\n                _id !== null && _id !== undefined\n                    ? _id\n                    : modelDefinition.syncable\n                        ? uuid4()\n                        : // Transform UUID v1 into a lexicographically sortable string for non-syncable models\n                            uuid1().replace(/^(.{8})-(.{4})-(.{4})/, '$3-$2-$1');\n                draft.id = id;\n                if (modelDefinition.syncable) {\n                    draft._version = _version;\n                    draft._lastChangedAt = _lastChangedAt;\n                    draft._deleted = _deleted;\n                }\n            });\n            return instance;\n        }\n        Model.copyOf = function (source, fn) {\n            var modelConstructor = Object.getPrototypeOf(source || {}).constructor;\n            if (!isValidModelConstructor(modelConstructor)) {\n                var msg = 'The source object is not a valid model';\n                logger.error(msg, { source: source });\n                throw new Error(msg);\n            }\n            return produce(source, function (draft) {\n                fn(draft);\n                draft.id = source.id;\n            });\n        };\n        return Model;\n    }());\n    clazz[immerable] = true;\n    Object.defineProperty(clazz, 'name', { value: modelDefinition.name });\n    return clazz;\n};\nvar createNonModelClass = function (typeDefinition) {\n    var clazz = /** @class */ (function () {\n        function Model(init) {\n            var instance = produce(this, function (draft) {\n                initializeInstance(init, typeDefinition, draft);\n            });\n            return instance;\n        }\n        return Model;\n    }());\n    clazz[immerable] = true;\n    Object.defineProperty(clazz, 'name', { value: typeDefinition.name });\n    return clazz;\n};\nvar save = function (model, condition) { return __awaiter(void 0, void 0, void 0, function () {\n    var modelConstructor, msg, modelDefinition, producedCondition, _a, savedModel;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0: return [4 /*yield*/, start()];\n            case 1:\n                _b.sent();\n                modelConstructor = model\n                    ? model.constructor\n                    : undefined;\n                if (!isValidModelConstructor(modelConstructor)) {\n                    msg = 'Object is not an instance of a valid model';\n                    logger.error(msg, { model: model });\n                    throw new Error(msg);\n                }\n                modelDefinition = getModelDefinition(modelConstructor);\n                producedCondition = ModelPredicateCreator.createFromExisting(modelDefinition, condition);\n                return [4 /*yield*/, storage.runExclusive(function (s) { return __awaiter(void 0, void 0, void 0, function () {\n                        return __generator(this, function (_a) {\n                            switch (_a.label) {\n                                case 0: return [4 /*yield*/, s.save(model, producedCondition)];\n                                case 1:\n                                    _a.sent();\n                                    return [2 /*return*/, s.query(modelConstructor, ModelPredicateCreator.createForId(modelDefinition, model.id))];\n                            }\n                        });\n                    }); })];\n            case 2:\n                _a = __read.apply(void 0, [_b.sent(), 1]), savedModel = _a[0];\n                return [2 /*return*/, savedModel];\n        }\n    });\n}); };\nvar remove = function (modelOrConstructor, idOrCriteria) { return __awaiter(void 0, void 0, void 0, function () {\n    var condition, msg, modelConstructor, msg, msg, _a, deleted, model, modelConstructor, msg, modelDefinition, idPredicate, msg, _b, _c, deleted;\n    return __generator(this, function (_d) {\n        switch (_d.label) {\n            case 0: return [4 /*yield*/, start()];\n            case 1:\n                _d.sent();\n                if (!modelOrConstructor) {\n                    msg = 'Model or Model Constructor required';\n                    logger.error(msg, { modelOrConstructor: modelOrConstructor });\n                    throw new Error(msg);\n                }\n                if (!isValidModelConstructor(modelOrConstructor)) return [3 /*break*/, 3];\n                modelConstructor = modelOrConstructor;\n                if (!idOrCriteria) {\n                    msg = 'Id to delete or criteria required. Do you want to delete all? Pass Predicates.ALL';\n                    logger.error(msg, { idOrCriteria: idOrCriteria });\n                    throw new Error(msg);\n                }\n                if (typeof idOrCriteria === 'string') {\n                    condition = ModelPredicateCreator.createForId(getModelDefinition(modelConstructor), idOrCriteria);\n                }\n                else {\n                    condition = ModelPredicateCreator.createFromExisting(getModelDefinition(modelConstructor), \n                    /**\n                     * idOrCriteria is always a ProducerModelPredicate<T>, never a symbol.\n                     * The symbol is used only for typing purposes. e.g. see Predicates.ALL\n                     */\n                    idOrCriteria);\n                    if (!condition || !ModelPredicateCreator.isValidPredicate(condition)) {\n                        msg = 'Criteria required. Do you want to delete all? Pass Predicates.ALL';\n                        logger.error(msg, { condition: condition });\n                        throw new Error(msg);\n                    }\n                }\n                return [4 /*yield*/, storage.delete(modelConstructor, condition)];\n            case 2:\n                _a = __read.apply(void 0, [_d.sent(), 1]), deleted = _a[0];\n                return [2 /*return*/, deleted];\n            case 3:\n                model = modelOrConstructor;\n                modelConstructor = Object.getPrototypeOf(model || {})\n                    .constructor;\n                if (!isValidModelConstructor(modelConstructor)) {\n                    msg = 'Object is not an instance of a valid model';\n                    logger.error(msg, { model: model });\n                    throw new Error(msg);\n                }\n                modelDefinition = getModelDefinition(modelConstructor);\n                idPredicate = ModelPredicateCreator.createForId(modelDefinition, model.id);\n                if (idOrCriteria) {\n                    if (typeof idOrCriteria !== 'function') {\n                        msg = 'Invalid criteria';\n                        logger.error(msg, { idOrCriteria: idOrCriteria });\n                        throw new Error(msg);\n                    }\n                    condition = idOrCriteria(idPredicate);\n                }\n                else {\n                    condition = idPredicate;\n                }\n                return [4 /*yield*/, storage.delete(model, condition)];\n            case 4:\n                _b = __read.apply(void 0, [_d.sent(), 1]), _c = __read(_b[0], 1), deleted = _c[0];\n                return [2 /*return*/, deleted];\n        }\n    });\n}); };\nvar observe = function (modelConstructor, idOrCriteria) {\n    var predicate;\n    if (idOrCriteria !== undefined && modelConstructor === undefined) {\n        var msg = 'Cannot provide criteria without a modelConstructor';\n        logger.error(msg, idOrCriteria);\n        throw new Error(msg);\n    }\n    if (modelConstructor && !isValidModelConstructor(modelConstructor)) {\n        var msg = 'Constructor is not for a valid model';\n        logger.error(msg, { modelConstructor: modelConstructor });\n        throw new Error(msg);\n    }\n    if (typeof idOrCriteria === 'string') {\n        predicate = ModelPredicateCreator.createForId(getModelDefinition(modelConstructor), idOrCriteria);\n    }\n    else {\n        predicate =\n            modelConstructor &&\n                ModelPredicateCreator.createFromExisting(getModelDefinition(modelConstructor), idOrCriteria);\n    }\n    return new Observable(function (observer) {\n        var handle;\n        (function () { return __awaiter(void 0, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, start()];\n                    case 1:\n                        _a.sent();\n                        handle = storage\n                            .observe(modelConstructor, predicate)\n                            .filter(function (_a) {\n                            var model = _a.model;\n                            return namespaceResolver(model) === USER;\n                        })\n                            .subscribe(observer);\n                        return [2 /*return*/];\n                }\n            });\n        }); })();\n        return function () {\n            if (handle) {\n                handle.unsubscribe();\n            }\n        };\n    });\n};\nvar query = function (modelConstructor, idOrCriteria, pagination) { return __awaiter(void 0, void 0, void 0, function () {\n    var msg, predicate_1, _a, result, criteria, predicate, _b, limit, page;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, start()];\n            case 1:\n                _c.sent();\n                if (!isValidModelConstructor(modelConstructor)) {\n                    msg = 'Constructor is not for a valid model';\n                    logger.error(msg, { modelConstructor: modelConstructor });\n                    throw new Error(msg);\n                }\n                if (!(typeof idOrCriteria === 'string')) return [3 /*break*/, 3];\n                if (pagination !== undefined) {\n                    logger.warn('Pagination is ignored when querying by id');\n                }\n                predicate_1 = ModelPredicateCreator.createForId(getModelDefinition(modelConstructor), idOrCriteria);\n                return [4 /*yield*/, storage.query(modelConstructor, predicate_1)];\n            case 2:\n                _a = __read.apply(void 0, [_c.sent(), 1]), result = _a[0];\n                if (result) {\n                    return [2 /*return*/, result];\n                }\n                return [2 /*return*/, undefined];\n            case 3:\n                criteria = idOrCriteria;\n                predicate = !isPredicatesAll(criteria)\n                    ? ModelPredicateCreator.createFromExisting(getModelDefinition(modelConstructor), criteria)\n                    : undefined;\n                _b = pagination || {}, limit = _b.limit, page = _b.page;\n                if (page !== undefined && limit === undefined) {\n                    throw new Error('Limit is required when requesting a page');\n                }\n                if (page !== undefined) {\n                    if (typeof page !== 'number') {\n                        throw new Error('Page should be a number');\n                    }\n                    if (page < 0) {\n                        throw new Error(\"Page can't be negative\");\n                    }\n                }\n                if (limit !== undefined) {\n                    if (typeof limit !== 'number') {\n                        throw new Error('Limit should be a number');\n                    }\n                    if (limit < 0) {\n                        throw new Error(\"Limit can't be negative\");\n                    }\n                }\n                return [2 /*return*/, storage.query(modelConstructor, predicate, pagination)];\n        }\n    });\n}); };\nvar sync;\nvar amplifyConfig = {};\nvar conflictHandler;\nvar errorHandler;\nvar maxRecordsToSync;\nvar syncPageSize;\nvar fullSyncInterval;\nfunction configure(config) {\n    if (config === void 0) { config = {}; }\n    var configDataStore = config.DataStore, configConflictHandler = config.conflictHandler, configErrorHandler = config.errorHandler, configMaxRecordsToSync = config.maxRecordsToSync, configSyncPageSize = config.syncPageSize, configFullSyncInterval = config.fullSyncInterval, configFromAmplify = __rest(config, [\"DataStore\", \"conflictHandler\", \"errorHandler\", \"maxRecordsToSync\", \"syncPageSize\", \"fullSyncInterval\"]);\n    amplifyConfig = __assign(__assign({}, configFromAmplify), amplifyConfig);\n    conflictHandler =\n        (configDataStore && configDataStore.conflictHandler) ||\n            conflictHandler ||\n            config.conflictHandler ||\n            defaultConflictHandler;\n    errorHandler =\n        (configDataStore && configDataStore.errorHandler) ||\n            errorHandler ||\n            config.errorHandler ||\n            defaultErrorHandler;\n    maxRecordsToSync =\n        (configDataStore && configDataStore.maxRecordsToSync) ||\n            maxRecordsToSync ||\n            config.maxRecordsToSync;\n    syncPageSize =\n        (configDataStore && configDataStore.syncPageSize) ||\n            syncPageSize ||\n            config.syncPageSize;\n    fullSyncInterval =\n        (configDataStore && configDataStore.fullSyncInterval) ||\n            configFullSyncInterval ||\n            config.fullSyncInterval ||\n            24 * 60; // 1 day\n}\nfunction defaultConflictHandler(conflictData) {\n    var localModel = conflictData.localModel, modelConstructor = conflictData.modelConstructor, remoteModel = conflictData.remoteModel;\n    var _version = remoteModel._version;\n    return modelInstanceCreator(modelConstructor, __assign(__assign({}, localModel), { _version: _version }));\n}\nfunction defaultErrorHandler(error) {\n    logger.warn(error);\n}\nfunction getModelConstructorByModelName(namespaceName, modelName) {\n    var result;\n    switch (namespaceName) {\n        case DATASTORE:\n            result = dataStoreClasses[modelName];\n            break;\n        case USER:\n            result = userClasses[modelName];\n            break;\n        case SYNC:\n            result = syncClasses[modelName];\n            break;\n        case STORAGE:\n            result = storageClasses[modelName];\n            break;\n        default:\n            exhaustiveCheck(namespaceName);\n            break;\n    }\n    if (isValidModelConstructor(result)) {\n        return result;\n    }\n    else {\n        var msg = \"Model name is not valid for namespace. modelName: \" + modelName + \", namespace: \" + namespaceName;\n        logger.error(msg);\n        throw new Error(msg);\n    }\n}\nfunction checkSchemaVersion(storage, version) {\n    return __awaiter(this, void 0, void 0, function () {\n        var Setting, modelDefinition;\n        var _this = this;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    Setting = dataStoreClasses.Setting;\n                    modelDefinition = schema.namespaces[DATASTORE].models.Setting;\n                    return [4 /*yield*/, storage.runExclusive(function (s) { return __awaiter(_this, void 0, void 0, function () {\n                            var _a, schemaVersionSetting, storedValue;\n                            return __generator(this, function (_b) {\n                                switch (_b.label) {\n                                    case 0: return [4 /*yield*/, s.query(Setting, ModelPredicateCreator.createFromExisting(modelDefinition, function (c) {\n                                            return c.key('eq', SETTING_SCHEMA_VERSION);\n                                        }))];\n                                    case 1:\n                                        _a = __read.apply(void 0, [_b.sent(), 1]), schemaVersionSetting = _a[0];\n                                        if (!(schemaVersionSetting !== undefined)) return [3 /*break*/, 4];\n                                        storedValue = JSON.parse(schemaVersionSetting.value);\n                                        if (!(storedValue !== version)) return [3 /*break*/, 3];\n                                        return [4 /*yield*/, s.clear(false)];\n                                    case 2:\n                                        _b.sent();\n                                        _b.label = 3;\n                                    case 3: return [3 /*break*/, 6];\n                                    case 4: return [4 /*yield*/, s.save(modelInstanceCreator(Setting, {\n                                            key: SETTING_SCHEMA_VERSION,\n                                            value: JSON.stringify(version),\n                                        }))];\n                                    case 5:\n                                        _b.sent();\n                                        _b.label = 6;\n                                    case 6: return [2 /*return*/];\n                                }\n                            });\n                        }); })];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nvar syncSubscription;\nvar initResolve;\nvar initialized;\nfunction start() {\n    return __awaiter(this, void 0, void 0, function () {\n        var aws_appsync_graphqlEndpoint, fullSyncIntervalInMilliseconds;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(initialized === undefined)) return [3 /*break*/, 1];\n                    initialized = new Promise(function (res) {\n                        initResolve = res;\n                    });\n                    return [3 /*break*/, 3];\n                case 1: return [4 /*yield*/, initialized];\n                case 2:\n                    _a.sent();\n                    return [2 /*return*/];\n                case 3:\n                    storage = new Storage(schema, namespaceResolver, getModelConstructorByModelName, modelInstanceCreator);\n                    return [4 /*yield*/, checkSchemaVersion(storage, schema.version)];\n                case 4:\n                    _a.sent();\n                    aws_appsync_graphqlEndpoint = amplifyConfig.aws_appsync_graphqlEndpoint;\n                    if (aws_appsync_graphqlEndpoint) {\n                        sync = new SyncEngine(schema, namespaceResolver, syncClasses, userClasses, storage, modelInstanceCreator, maxRecordsToSync, syncPageSize, conflictHandler, errorHandler);\n                        fullSyncIntervalInMilliseconds = fullSyncInterval * 1000 * 60;\n                        syncSubscription = sync\n                            .start({ fullSyncInterval: fullSyncIntervalInMilliseconds })\n                            .subscribe({\n                            error: function (err) {\n                                logger.warn('Sync error', err);\n                            },\n                        });\n                    }\n                    initResolve();\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction clear() {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (storage === undefined) {\n                        return [2 /*return*/];\n                    }\n                    if (syncSubscription && !syncSubscription.closed) {\n                        syncSubscription.unsubscribe();\n                    }\n                    return [4 /*yield*/, storage.clear()];\n                case 1:\n                    _a.sent();\n                    initialized = undefined; // Should re-initialize when start() is called.\n                    storage = undefined;\n                    sync = undefined;\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction getNamespace() {\n    var namespace = {\n        name: DATASTORE,\n        relationships: {},\n        enums: {},\n        nonModels: {},\n        models: {\n            Setting: {\n                name: 'Setting',\n                pluralName: 'Settings',\n                syncable: false,\n                fields: {\n                    id: {\n                        name: 'id',\n                        type: 'ID',\n                        isRequired: true,\n                        isArray: false,\n                    },\n                    key: {\n                        name: 'key',\n                        type: 'String',\n                        isRequired: true,\n                        isArray: false,\n                    },\n                    value: {\n                        name: 'value',\n                        type: 'String',\n                        isRequired: true,\n                        isArray: false,\n                    },\n                },\n            },\n        },\n    };\n    return namespace;\n}\nvar DataStore = /** @class */ (function () {\n    function DataStore() {\n    }\n    DataStore.getModuleName = function () {\n        return 'DataStore';\n    };\n    DataStore.query = query;\n    DataStore.save = save;\n    DataStore.delete = remove;\n    DataStore.observe = observe;\n    DataStore.configure = configure;\n    DataStore.clear = clear;\n    return DataStore;\n}());\nexport { initSchema, DataStore };\n//# sourceMappingURL=datastore.js.map","export var ALGORITHM_QUERY_PARAM = \"X-Amz-Algorithm\";\nexport var CREDENTIAL_QUERY_PARAM = \"X-Amz-Credential\";\nexport var AMZ_DATE_QUERY_PARAM = \"X-Amz-Date\";\nexport var SIGNED_HEADERS_QUERY_PARAM = \"X-Amz-SignedHeaders\";\nexport var EXPIRES_QUERY_PARAM = \"X-Amz-Expires\";\nexport var SIGNATURE_QUERY_PARAM = \"X-Amz-Signature\";\nexport var TOKEN_QUERY_PARAM = \"X-Amz-Security-Token\";\nexport var AUTH_HEADER = \"authorization\";\nexport var AMZ_DATE_HEADER = AMZ_DATE_QUERY_PARAM.toLowerCase();\nexport var DATE_HEADER = \"date\";\nexport var GENERATED_HEADERS = [AUTH_HEADER, AMZ_DATE_HEADER, DATE_HEADER];\nexport var SIGNATURE_HEADER = SIGNATURE_QUERY_PARAM.toLowerCase();\nexport var SHA256_HEADER = \"x-amz-content-sha256\";\nexport var TOKEN_HEADER = TOKEN_QUERY_PARAM.toLowerCase();\nexport var HOST_HEADER = \"host\";\nexport var ALWAYS_UNSIGNABLE_HEADERS = {\n    authorization: true,\n    \"cache-control\": true,\n    connection: true,\n    expect: true,\n    from: true,\n    \"keep-alive\": true,\n    \"max-forwards\": true,\n    pragma: true,\n    referer: true,\n    te: true,\n    trailer: true,\n    \"transfer-encoding\": true,\n    upgrade: true,\n    \"user-agent\": true,\n    \"x-amzn-trace-id\": true\n};\nexport var PROXY_HEADER_PATTERN = /^proxy-/;\nexport var SEC_HEADER_PATTERN = /^sec-/;\nexport var UNSIGNABLE_PATTERNS = [/^proxy-/i, /^sec-/i];\nexport var ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256\";\nexport var EVENT_ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256-PAYLOAD\";\nexport var UNSIGNED_PAYLOAD = \"UNSIGNED-PAYLOAD\";\nexport var MAX_CACHE_SIZE = 50;\nexport var KEY_TYPE_IDENTIFIER = \"aws4_request\";\nexport var MAX_PRESIGNED_TTL = 60 * 60 * 24 * 7;\n//# sourceMappingURL=constants.js.map","import { KEY_TYPE_IDENTIFIER, MAX_CACHE_SIZE } from \"./constants\";\nvar signingKeyCache = {};\nvar cacheQueue = [];\n/**\n * Create a string describing the scope of credentials used to sign a request.\n *\n * @param shortDate The current calendar date in the form YYYYMMDD.\n * @param region    The AWS region in which the service resides.\n * @param service   The service to which the signed request is being sent.\n */\nexport function createScope(shortDate, region, service) {\n    return shortDate + \"/\" + region + \"/\" + service + \"/\" + KEY_TYPE_IDENTIFIER;\n}\n/**\n * Derive a signing key from its composite parts\n *\n * @param sha256Constructor A constructor function that can instantiate SHA-256\n *                          hash objects.\n * @param credentials       The credentials with which the request will be\n *                          signed.\n * @param shortDate         The current calendar date in the form YYYYMMDD.\n * @param region            The AWS region in which the service resides.\n * @param service           The service to which the signed request is being\n *                          sent.\n */\nexport function getSigningKey(sha256Constructor, credentials, shortDate, region, service) {\n    var cacheKey = shortDate + \":\" + region + \":\" + service + \":\" +\n        (credentials.accessKeyId + \":\" + credentials.sessionToken);\n    if (cacheKey in signingKeyCache) {\n        return signingKeyCache[cacheKey];\n    }\n    cacheQueue.push(cacheKey);\n    while (cacheQueue.length > MAX_CACHE_SIZE) {\n        delete signingKeyCache[cacheQueue.shift()];\n    }\n    return (signingKeyCache[cacheKey] = new Promise(function (resolve, reject) {\n        var keyPromise = Promise.resolve(\"AWS4\" + credentials.secretAccessKey);\n        var _loop_1 = function (signable) {\n            keyPromise = keyPromise.then(function (intermediateKey) {\n                return hmac(sha256Constructor, intermediateKey, signable);\n            });\n            keyPromise.catch(function () { });\n        };\n        for (var _i = 0, _a = [shortDate, region, service, KEY_TYPE_IDENTIFIER]; _i < _a.length; _i++) {\n            var signable = _a[_i];\n            _loop_1(signable);\n        }\n        keyPromise.then(resolve, function (reason) {\n            delete signingKeyCache[cacheKey];\n            reject(reason);\n        });\n    }));\n}\n/**\n * @internal\n */\nexport function clearCredentialCache() {\n    cacheQueue.length = 0;\n    Object.keys(signingKeyCache).forEach(function (cacheKey) {\n        delete signingKeyCache[cacheKey];\n    });\n}\nfunction hmac(ctor, secret, data) {\n    var hash = new ctor(secret);\n    hash.update(data);\n    return hash.digest();\n}\n//# sourceMappingURL=credentialDerivation.js.map","import { ALWAYS_UNSIGNABLE_HEADERS, PROXY_HEADER_PATTERN, SEC_HEADER_PATTERN } from \"./constants\";\n/**\n * @internal\n */\nexport function getCanonicalHeaders(_a, unsignableHeaders, signableHeaders) {\n    var headers = _a.headers;\n    var canonical = {};\n    for (var _i = 0, _b = Object.keys(headers).sort(); _i < _b.length; _i++) {\n        var headerName = _b[_i];\n        var canonicalHeaderName = headerName.toLowerCase();\n        if (canonicalHeaderName in ALWAYS_UNSIGNABLE_HEADERS || (unsignableHeaders === null || unsignableHeaders === void 0 ? void 0 : unsignableHeaders.has(canonicalHeaderName)) ||\n            PROXY_HEADER_PATTERN.test(canonicalHeaderName) ||\n            SEC_HEADER_PATTERN.test(canonicalHeaderName)) {\n            if (!signableHeaders ||\n                (signableHeaders && !signableHeaders.has(canonicalHeaderName))) {\n                continue;\n            }\n        }\n        canonical[canonicalHeaderName] = headers[headerName]\n            .trim()\n            .replace(/\\s+/g, \" \");\n    }\n    return canonical;\n}\n//# sourceMappingURL=getCanonicalHeaders.js.map","import { __awaiter, __generator } from \"tslib\";\nimport { SHA256_HEADER, UNSIGNED_PAYLOAD } from \"./constants\";\nimport { isArrayBuffer } from \"@aws-sdk/is-array-buffer\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\n/**\n * @internal\n */\nexport function getPayloadHash(_a, hashConstructor) {\n    var headers = _a.headers, body = _a.body;\n    return __awaiter(this, void 0, void 0, function () {\n        var _i, _b, headerName, hashCtor, _c;\n        return __generator(this, function (_d) {\n            switch (_d.label) {\n                case 0:\n                    for (_i = 0, _b = Object.keys(headers); _i < _b.length; _i++) {\n                        headerName = _b[_i];\n                        if (headerName.toLowerCase() === SHA256_HEADER) {\n                            return [2 /*return*/, headers[headerName]];\n                        }\n                    }\n                    if (!(body == undefined)) return [3 /*break*/, 1];\n                    return [2 /*return*/, \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"];\n                case 1:\n                    if (!(typeof body === \"string\" ||\n                        ArrayBuffer.isView(body) ||\n                        isArrayBuffer(body))) return [3 /*break*/, 3];\n                    hashCtor = new hashConstructor();\n                    hashCtor.update(body);\n                    _c = toHex;\n                    return [4 /*yield*/, hashCtor.digest()];\n                case 2: return [2 /*return*/, _c.apply(void 0, [_d.sent()])];\n                case 3: \n                // As any defined body that is not a string or binary data is a stream, this\n                // body is unsignable. Attempt to send the request with an unsigned payload,\n                // which may or may not be accepted by the service.\n                return [2 /*return*/, UNSIGNED_PAYLOAD];\n            }\n        });\n    });\n}\n//# sourceMappingURL=getPayloadHash.js.map","import { __assign, __rest, __spreadArrays } from \"tslib\";\n/**\n * @internal\n */\nexport function cloneRequest(_a) {\n    var headers = _a.headers, query = _a.query, rest = __rest(_a, [\"headers\", \"query\"]);\n    return __assign(__assign({}, rest), { headers: __assign({}, headers), query: query ? cloneQuery(query) : undefined });\n}\nfunction cloneQuery(query) {\n    return Object.keys(query).reduce(function (carry, paramName) {\n        var _a;\n        var param = query[paramName];\n        return __assign(__assign({}, carry), (_a = {}, _a[paramName] = Array.isArray(param) ? __spreadArrays(param) : param, _a));\n    }, {});\n}\n//# sourceMappingURL=cloneRequest.js.map","import { cloneRequest } from \"./cloneRequest\";\nimport { GENERATED_HEADERS } from \"./constants\";\n/**\n * @internal\n */\nexport function prepareRequest(request) {\n    // Create a clone of the request object that does not clone the body\n    request =\n        typeof request.clone === \"function\"\n            ? request.clone()\n            : cloneRequest(request);\n    for (var _i = 0, _a = Object.keys(request.headers); _i < _a.length; _i++) {\n        var headerName = _a[_i];\n        if (GENERATED_HEADERS.indexOf(headerName.toLowerCase()) > -1) {\n            delete request.headers[headerName];\n        }\n    }\n    return request;\n}\n//# sourceMappingURL=prepareRequest.js.map","export function iso8601(time) {\n    return toDate(time)\n        .toISOString()\n        .replace(/\\.\\d{3}Z$/, \"Z\");\n}\nexport function toDate(time) {\n    if (typeof time === \"number\") {\n        return new Date(time * 1000);\n    }\n    if (typeof time === \"string\") {\n        if (Number(time)) {\n            return new Date(Number(time) * 1000);\n        }\n        return new Date(time);\n    }\n    return time;\n}\n//# sourceMappingURL=utilDate.js.map","import { __awaiter, __generator } from \"tslib\";\nimport { createScope, getSigningKey } from \"./credentialDerivation\";\nimport { getCanonicalHeaders } from \"./getCanonicalHeaders\";\nimport { getCanonicalQuery } from \"./getCanonicalQuery\";\nimport { getPayloadHash } from \"./getPayloadHash\";\nimport { prepareRequest } from \"./prepareRequest\";\nimport { moveHeadersToQuery } from \"./moveHeadersToQuery\";\nimport { ALGORITHM_IDENTIFIER, ALGORITHM_QUERY_PARAM, AMZ_DATE_HEADER, AMZ_DATE_QUERY_PARAM, AUTH_HEADER, CREDENTIAL_QUERY_PARAM, EXPIRES_QUERY_PARAM, MAX_PRESIGNED_TTL, SHA256_HEADER, SIGNATURE_QUERY_PARAM, SIGNED_HEADERS_QUERY_PARAM, TOKEN_HEADER, TOKEN_QUERY_PARAM, EVENT_ALGORITHM_IDENTIFIER } from \"./constants\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { hasHeader } from \"./hasHeader\";\nimport { iso8601 } from \"./utilDate\";\nvar SignatureV4 = /** @class */ (function () {\n    function SignatureV4(_a) {\n        var applyChecksum = _a.applyChecksum, credentials = _a.credentials, region = _a.region, service = _a.service, sha256 = _a.sha256, _b = _a.uriEscapePath, uriEscapePath = _b === void 0 ? true : _b;\n        this.service = service;\n        this.sha256 = sha256;\n        this.uriEscapePath = uriEscapePath;\n        // default to true if applyChecksum isn't set\n        this.applyChecksum =\n            typeof applyChecksum === \"boolean\" ? applyChecksum : true;\n        if (typeof region === \"string\") {\n            var promisified_1 = Promise.resolve(region);\n            this.regionProvider = function () { return promisified_1; };\n        }\n        else {\n            this.regionProvider = region;\n        }\n        if (typeof credentials === \"object\") {\n            var promisified_2 = Promise.resolve(credentials);\n            this.credentialProvider = function () { return promisified_2; };\n        }\n        else {\n            this.credentialProvider = credentials;\n        }\n    }\n    SignatureV4.prototype.presign = function (originalRequest, options) {\n        if (options === void 0) { options = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, region, credentials, _b, signingDate, _c, expiresIn, unsignableHeaders, signableHeaders, _d, longDate, shortDate, scope, request, canonicalHeaders, _e, _f, _g, _h, _j, _k;\n            return __generator(this, function (_l) {\n                switch (_l.label) {\n                    case 0: return [4 /*yield*/, Promise.all([\n                            this.regionProvider(),\n                            this.credentialProvider()\n                        ])];\n                    case 1:\n                        _a = _l.sent(), region = _a[0], credentials = _a[1];\n                        _b = options.signingDate, signingDate = _b === void 0 ? new Date() : _b, _c = options.expiresIn, expiresIn = _c === void 0 ? 3600 : _c, unsignableHeaders = options.unsignableHeaders, signableHeaders = options.signableHeaders;\n                        _d = formatDate(signingDate), longDate = _d.longDate, shortDate = _d.shortDate;\n                        if (expiresIn > MAX_PRESIGNED_TTL) {\n                            return [2 /*return*/, Promise.reject(\"Signature version 4 presigned URLs\" +\n                                    \" must have an expiration date less than one week in\" +\n                                    \" the future\")];\n                        }\n                        scope = createScope(shortDate, region, this.service);\n                        request = moveHeadersToQuery(prepareRequest(originalRequest));\n                        if (credentials.sessionToken) {\n                            request.query[TOKEN_QUERY_PARAM] = credentials.sessionToken;\n                        }\n                        request.query[ALGORITHM_QUERY_PARAM] = ALGORITHM_IDENTIFIER;\n                        request.query[CREDENTIAL_QUERY_PARAM] = credentials.accessKeyId + \"/\" + scope;\n                        request.query[AMZ_DATE_QUERY_PARAM] = longDate;\n                        request.query[EXPIRES_QUERY_PARAM] = expiresIn.toString(10);\n                        canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);\n                        request.query[SIGNED_HEADERS_QUERY_PARAM] = getCanonicalHeaderList(canonicalHeaders);\n                        _e = request.query;\n                        _f = SIGNATURE_QUERY_PARAM;\n                        _g = this.getSignature;\n                        _h = [longDate,\n                            scope,\n                            this.getSigningKey(credentials, region, shortDate)];\n                        _j = this.createCanonicalRequest;\n                        _k = [request,\n                            canonicalHeaders];\n                        return [4 /*yield*/, getPayloadHash(originalRequest, this.sha256)];\n                    case 2: return [4 /*yield*/, _g.apply(this, _h.concat([_j.apply(this, _k.concat([_l.sent()]))]))];\n                    case 3:\n                        _e[_f] = _l.sent();\n                        return [2 /*return*/, request];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.sign = function (toSign, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (typeof toSign === \"string\") {\n                    return [2 /*return*/, this.signString(toSign, options)];\n                }\n                else if (toSign.headers && toSign.payload) {\n                    return [2 /*return*/, this.signEvent(toSign, options)];\n                }\n                else {\n                    return [2 /*return*/, this.signRequest(toSign, options)];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    SignatureV4.prototype.signEvent = function (_a, _b) {\n        var headers = _a.headers, payload = _a.payload;\n        var _c = _b.signingDate, signingDate = _c === void 0 ? new Date() : _c, priorSignature = _b.priorSignature;\n        return __awaiter(this, void 0, void 0, function () {\n            var region, _d, shortDate, longDate, scope, hashedPayload, hash, hashedHeaders, _e, stringToSign;\n            return __generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0: return [4 /*yield*/, Promise.all([\n                            this.regionProvider(),\n                            this.credentialProvider()\n                        ])];\n                    case 1:\n                        region = (_f.sent())[0];\n                        _d = formatDate(signingDate), shortDate = _d.shortDate, longDate = _d.longDate;\n                        scope = createScope(shortDate, region, this.service);\n                        return [4 /*yield*/, getPayloadHash({ headers: {}, body: payload }, this.sha256)];\n                    case 2:\n                        hashedPayload = _f.sent();\n                        hash = new this.sha256();\n                        hash.update(headers);\n                        _e = toHex;\n                        return [4 /*yield*/, hash.digest()];\n                    case 3:\n                        hashedHeaders = _e.apply(void 0, [_f.sent()]);\n                        stringToSign = [\n                            EVENT_ALGORITHM_IDENTIFIER,\n                            longDate,\n                            scope,\n                            priorSignature,\n                            hashedHeaders,\n                            hashedPayload\n                        ].join(\"\\n\");\n                        return [2 /*return*/, this.signString(stringToSign, { signingDate: signingDate })];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.signString = function (stringToSign, _a) {\n        var _b = (_a === void 0 ? {} : _a).signingDate, signingDate = _b === void 0 ? new Date() : _b;\n        return __awaiter(this, void 0, void 0, function () {\n            var _c, region, credentials, shortDate, hash, _d, _e, _f;\n            return __generator(this, function (_g) {\n                switch (_g.label) {\n                    case 0: return [4 /*yield*/, Promise.all([\n                            this.regionProvider(),\n                            this.credentialProvider()\n                        ])];\n                    case 1:\n                        _c = _g.sent(), region = _c[0], credentials = _c[1];\n                        shortDate = formatDate(signingDate).shortDate;\n                        _e = (_d = this.sha256).bind;\n                        return [4 /*yield*/, this.getSigningKey(credentials, region, shortDate)];\n                    case 2:\n                        hash = new (_e.apply(_d, [void 0, _g.sent()]))();\n                        hash.update(stringToSign);\n                        _f = toHex;\n                        return [4 /*yield*/, hash.digest()];\n                    case 3: return [2 /*return*/, _f.apply(void 0, [_g.sent()])];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.signRequest = function (requestToSign, _a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.signingDate, signingDate = _c === void 0 ? new Date() : _c, signableHeaders = _b.signableHeaders, unsignableHeaders = _b.unsignableHeaders;\n        return __awaiter(this, void 0, void 0, function () {\n            var _d, region, credentials, request, _e, longDate, shortDate, scope, payloadHash, canonicalHeaders, signature;\n            return __generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0: return [4 /*yield*/, Promise.all([\n                            this.regionProvider(),\n                            this.credentialProvider()\n                        ])];\n                    case 1:\n                        _d = _f.sent(), region = _d[0], credentials = _d[1];\n                        request = prepareRequest(requestToSign);\n                        _e = formatDate(signingDate), longDate = _e.longDate, shortDate = _e.shortDate;\n                        scope = createScope(shortDate, region, this.service);\n                        request.headers[AMZ_DATE_HEADER] = longDate;\n                        if (credentials.sessionToken) {\n                            request.headers[TOKEN_HEADER] = credentials.sessionToken;\n                        }\n                        return [4 /*yield*/, getPayloadHash(request, this.sha256)];\n                    case 2:\n                        payloadHash = _f.sent();\n                        if (!hasHeader(SHA256_HEADER, request.headers) && this.applyChecksum) {\n                            request.headers[SHA256_HEADER] = payloadHash;\n                        }\n                        canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);\n                        return [4 /*yield*/, this.getSignature(longDate, scope, this.getSigningKey(credentials, region, shortDate), this.createCanonicalRequest(request, canonicalHeaders, payloadHash))];\n                    case 3:\n                        signature = _f.sent();\n                        request.headers[AUTH_HEADER] =\n                            ALGORITHM_IDENTIFIER + \" \" +\n                                (\"Credential=\" + credentials.accessKeyId + \"/\" + scope + \", \") +\n                                (\"SignedHeaders=\" + getCanonicalHeaderList(canonicalHeaders) + \", \") +\n                                (\"Signature=\" + signature);\n                        return [2 /*return*/, request];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.createCanonicalRequest = function (request, canonicalHeaders, payloadHash) {\n        var sortedHeaders = Object.keys(canonicalHeaders).sort();\n        return request.method + \"\\n\" + this.getCanonicalPath(request) + \"\\n\" + getCanonicalQuery(request) + \"\\n\" + sortedHeaders.map(function (name) { return name + \":\" + canonicalHeaders[name]; }).join(\"\\n\") + \"\\n\\n\" + sortedHeaders.join(\";\") + \"\\n\" + payloadHash;\n    };\n    SignatureV4.prototype.createStringToSign = function (longDate, credentialScope, canonicalRequest) {\n        return __awaiter(this, void 0, void 0, function () {\n            var hash, hashedRequest;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        hash = new this.sha256();\n                        hash.update(canonicalRequest);\n                        return [4 /*yield*/, hash.digest()];\n                    case 1:\n                        hashedRequest = _a.sent();\n                        return [2 /*return*/, ALGORITHM_IDENTIFIER + \"\\n\" + longDate + \"\\n\" + credentialScope + \"\\n\" + toHex(hashedRequest)];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.getCanonicalPath = function (_a) {\n        var path = _a.path;\n        if (this.uriEscapePath) {\n            var doubleEncoded = encodeURIComponent(path.replace(/^\\//, \"\"));\n            return \"/\" + doubleEncoded.replace(/%2F/g, \"/\");\n        }\n        return path;\n    };\n    SignatureV4.prototype.getSignature = function (longDate, credentialScope, keyPromise, canonicalRequest) {\n        return __awaiter(this, void 0, void 0, function () {\n            var stringToSign, hash, _a, _b, _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0: return [4 /*yield*/, this.createStringToSign(longDate, credentialScope, canonicalRequest)];\n                    case 1:\n                        stringToSign = _d.sent();\n                        _b = (_a = this.sha256).bind;\n                        return [4 /*yield*/, keyPromise];\n                    case 2:\n                        hash = new (_b.apply(_a, [void 0, _d.sent()]))();\n                        hash.update(stringToSign);\n                        _c = toHex;\n                        return [4 /*yield*/, hash.digest()];\n                    case 3: return [2 /*return*/, _c.apply(void 0, [_d.sent()])];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.getSigningKey = function (credentials, region, shortDate) {\n        return getSigningKey(this.sha256, credentials, shortDate, region, this.service);\n    };\n    return SignatureV4;\n}());\nexport { SignatureV4 };\nfunction formatDate(now) {\n    var longDate = iso8601(now).replace(/[\\-:]/g, \"\");\n    return {\n        longDate: longDate,\n        shortDate: longDate.substr(0, 8)\n    };\n}\nfunction getCanonicalHeaderList(headers) {\n    return Object.keys(headers)\n        .sort()\n        .join(\";\");\n}\n//# sourceMappingURL=SignatureV4.js.map","import { __assign } from \"tslib\";\nimport { cloneRequest } from \"./cloneRequest\";\n/**\n * @internal\n */\nexport function moveHeadersToQuery(request) {\n    var _a = typeof request.clone === \"function\"\n        ? request.clone()\n        : cloneRequest(request), headers = _a.headers, _b = _a.query, query = _b === void 0 ? {} : _b;\n    for (var _i = 0, _c = Object.keys(headers); _i < _c.length; _i++) {\n        var name = _c[_i];\n        var lname = name.toLowerCase();\n        if (lname.substr(0, 6) === \"x-amz-\") {\n            query[name] = headers[name];\n            delete headers[name];\n        }\n    }\n    return __assign(__assign({}, request), { headers: headers,\n        query: query });\n}\n//# sourceMappingURL=moveHeadersToQuery.js.map","export function hasHeader(soughtHeader, headers) {\n    soughtHeader = soughtHeader.toLowerCase();\n    for (var _i = 0, _a = Object.keys(headers); _i < _a.length; _i++) {\n        var headerName = _a[_i];\n        if (soughtHeader === headerName.toLowerCase()) {\n            return true;\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=hasHeader.js.map","import { SIGNATURE_HEADER } from \"./constants\";\nimport { escapeUri } from \"@aws-sdk/util-uri-escape\";\n/**\n * @internal\n */\nexport function getCanonicalQuery(_a) {\n    var _b = _a.query, query = _b === void 0 ? {} : _b;\n    var keys = [];\n    var serialized = {};\n    var _loop_1 = function (key) {\n        if (key.toLowerCase() === SIGNATURE_HEADER) {\n            return \"continue\";\n        }\n        keys.push(key);\n        var value = query[key];\n        if (typeof value === \"string\") {\n            serialized[key] = escapeUri(key) + \"=\" + escapeUri(value);\n        }\n        else if (Array.isArray(value)) {\n            serialized[key] = value\n                .slice(0)\n                .sort()\n                .reduce(function (encoded, value) {\n                return encoded.concat([escapeUri(key) + \"=\" + escapeUri(value)]);\n            }, [])\n                .join(\"&\");\n        }\n    };\n    for (var _i = 0, _c = Object.keys(query).sort(); _i < _c.length; _i++) {\n        var key = _c[_i];\n        _loop_1(key);\n    }\n    return keys\n        .map(function (key) { return serialized[key]; })\n        .filter(function (serialized) { return serialized; }) // omit any falsy values\n        .join(\"&\");\n}\n//# sourceMappingURL=getCanonicalQuery.js.map","const instanceOfAny = (object, constructors) => constructors.some(c => object instanceof c);\n\nlet idbProxyableTypes;\r\nlet cursorAdvanceMethods;\r\n// This is a function to prevent it throwing up in node environments.\r\nfunction getIdbProxyableTypes() {\r\n    return idbProxyableTypes ||\r\n        (idbProxyableTypes = [IDBDatabase, IDBObjectStore, IDBIndex, IDBCursor, IDBTransaction]);\r\n}\r\n// This is a function to prevent it throwing up in node environments.\r\nfunction getCursorAdvanceMethods() {\r\n    return cursorAdvanceMethods || (cursorAdvanceMethods = [\r\n        IDBCursor.prototype.advance,\r\n        IDBCursor.prototype.continue,\r\n        IDBCursor.prototype.continuePrimaryKey,\r\n    ]);\r\n}\r\nconst cursorRequestMap = new WeakMap();\r\nconst transactionDoneMap = new WeakMap();\r\nconst transactionStoreNamesMap = new WeakMap();\r\nconst transformCache = new WeakMap();\r\nconst reverseTransformCache = new WeakMap();\r\nfunction promisifyRequest(request) {\r\n    const promise = new Promise((resolve, reject) => {\r\n        const unlisten = () => {\r\n            request.removeEventListener('success', success);\r\n            request.removeEventListener('error', error);\r\n        };\r\n        const success = () => {\r\n            resolve(wrap(request.result));\r\n            unlisten();\r\n        };\r\n        const error = () => {\r\n            reject(request.error);\r\n            unlisten();\r\n        };\r\n        request.addEventListener('success', success);\r\n        request.addEventListener('error', error);\r\n    });\r\n    promise.then((value) => {\r\n        // Since cursoring reuses the IDBRequest (*sigh*), we cache it for later retrieval\r\n        // (see wrapFunction).\r\n        if (value instanceof IDBCursor) {\r\n            cursorRequestMap.set(value, request);\r\n        }\r\n        // Catching to avoid \"Uncaught Promise exceptions\"\r\n    }).catch(() => { });\r\n    // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\r\n    // is because we create many promises from a single IDBRequest.\r\n    reverseTransformCache.set(promise, request);\r\n    return promise;\r\n}\r\nfunction cacheDonePromiseForTransaction(tx) {\r\n    // Early bail if we've already created a done promise for this transaction.\r\n    if (transactionDoneMap.has(tx))\r\n        return;\r\n    const done = new Promise((resolve, reject) => {\r\n        const unlisten = () => {\r\n            tx.removeEventListener('complete', complete);\r\n            tx.removeEventListener('error', error);\r\n            tx.removeEventListener('abort', error);\r\n        };\r\n        const complete = () => {\r\n            resolve();\r\n            unlisten();\r\n        };\r\n        const error = () => {\r\n            reject(tx.error);\r\n            unlisten();\r\n        };\r\n        tx.addEventListener('complete', complete);\r\n        tx.addEventListener('error', error);\r\n        tx.addEventListener('abort', error);\r\n    });\r\n    // Cache it for later retrieval.\r\n    transactionDoneMap.set(tx, done);\r\n}\r\nlet idbProxyTraps = {\r\n    get(target, prop, receiver) {\r\n        if (target instanceof IDBTransaction) {\r\n            // Special handling for transaction.done.\r\n            if (prop === 'done')\r\n                return transactionDoneMap.get(target);\r\n            // Polyfill for objectStoreNames because of Edge.\r\n            if (prop === 'objectStoreNames') {\r\n                return target.objectStoreNames || transactionStoreNamesMap.get(target);\r\n            }\r\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\r\n            if (prop === 'store') {\r\n                return receiver.objectStoreNames[1] ?\r\n                    undefined : receiver.objectStore(receiver.objectStoreNames[0]);\r\n            }\r\n        }\r\n        // Else transform whatever we get back.\r\n        return wrap(target[prop]);\r\n    },\r\n    has(target, prop) {\r\n        if (target instanceof IDBTransaction && (prop === 'done' || prop === 'store'))\r\n            return true;\r\n        return prop in target;\r\n    },\r\n};\r\nfunction addTraps(callback) {\r\n    idbProxyTraps = callback(idbProxyTraps);\r\n}\r\nfunction wrapFunction(func) {\r\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\r\n    // only create one new func per func.\r\n    // Edge doesn't support objectStoreNames (booo), so we polyfill it here.\r\n    if (func === IDBDatabase.prototype.transaction &&\r\n        !('objectStoreNames' in IDBTransaction.prototype)) {\r\n        return function (storeNames, ...args) {\r\n            const tx = func.call(unwrap(this), storeNames, ...args);\r\n            transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);\r\n            return wrap(tx);\r\n        };\r\n    }\r\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\r\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\r\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\r\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\r\n    // undefined if the end of the cursor has been reached.\r\n    if (getCursorAdvanceMethods().includes(func)) {\r\n        return function (...args) {\r\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\r\n            // the original object.\r\n            func.apply(unwrap(this), args);\r\n            return wrap(cursorRequestMap.get(this));\r\n        };\r\n    }\r\n    return function (...args) {\r\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\r\n        // the original object.\r\n        return wrap(func.apply(unwrap(this), args));\r\n    };\r\n}\r\nfunction transformCachableValue(value) {\r\n    if (typeof value === 'function')\r\n        return wrapFunction(value);\r\n    // This doesn't return, it just creates a 'done' promise for the transaction,\r\n    // which is later returned for transaction.done (see idbObjectHandler).\r\n    if (value instanceof IDBTransaction)\r\n        cacheDonePromiseForTransaction(value);\r\n    if (instanceOfAny(value, getIdbProxyableTypes()))\r\n        return new Proxy(value, idbProxyTraps);\r\n    // Return the same value back if we're not going to transform it.\r\n    return value;\r\n}\r\nfunction wrap(value) {\r\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\r\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\r\n    if (value instanceof IDBRequest)\r\n        return promisifyRequest(value);\r\n    // If we've already transformed this value before, reuse the transformed value.\r\n    // This is faster, but it also provides object equality.\r\n    if (transformCache.has(value))\r\n        return transformCache.get(value);\r\n    const newValue = transformCachableValue(value);\r\n    // Not all types are transformed.\r\n    // These may be primitive types, so they can't be WeakMap keys.\r\n    if (newValue !== value) {\r\n        transformCache.set(value, newValue);\r\n        reverseTransformCache.set(newValue, value);\r\n    }\r\n    return newValue;\r\n}\r\nconst unwrap = (value) => reverseTransformCache.get(value);\n\nexport { wrap as a, addTraps as b, instanceOfAny as c, reverseTransformCache as d, unwrap as e };\n","import { a as wrap, b as addTraps } from './chunk.js';\nexport { e as unwrap, a as wrap } from './chunk.js';\n\n/**\r\n * Open a database.\r\n *\r\n * @param name Name of the database.\r\n * @param version Schema version.\r\n * @param callbacks Additional callbacks.\r\n */\r\nfunction openDB(name, version, { blocked, upgrade, blocking } = {}) {\r\n    const request = indexedDB.open(name, version);\r\n    const openPromise = wrap(request);\r\n    if (upgrade) {\r\n        request.addEventListener('upgradeneeded', (event) => {\r\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction));\r\n        });\r\n    }\r\n    if (blocked)\r\n        request.addEventListener('blocked', () => blocked());\r\n    if (blocking)\r\n        openPromise.then(db => db.addEventListener('versionchange', blocking));\r\n    return openPromise;\r\n}\r\n/**\r\n * Delete a database.\r\n *\r\n * @param name Name of the database.\r\n */\r\nfunction deleteDB(name, { blocked } = {}) {\r\n    const request = indexedDB.deleteDatabase(name);\r\n    if (blocked)\r\n        request.addEventListener('blocked', () => blocked());\r\n    return wrap(request).then(() => undefined);\r\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\r\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\r\nconst cachedMethods = new Map();\r\nfunction getMethod(target, prop) {\r\n    if (!(target instanceof IDBDatabase &&\r\n        !(prop in target) &&\r\n        typeof prop === 'string'))\r\n        return;\r\n    if (cachedMethods.get(prop))\r\n        return cachedMethods.get(prop);\r\n    const targetFuncName = prop.replace(/FromIndex$/, '');\r\n    const useIndex = prop !== targetFuncName;\r\n    const isWrite = writeMethods.includes(targetFuncName);\r\n    if (\r\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\r\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\r\n        !(isWrite || readMethods.includes(targetFuncName)))\r\n        return;\r\n    const method = async function (storeName, ...args) {\r\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\r\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\r\n        let target = tx.store;\r\n        if (useIndex)\r\n            target = target.index(args.shift());\r\n        const returnVal = target[targetFuncName](...args);\r\n        if (isWrite)\r\n            await tx.done;\r\n        return returnVal;\r\n    };\r\n    cachedMethods.set(prop, method);\r\n    return method;\r\n}\r\naddTraps(oldTraps => ({\r\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\r\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\r\n}));\n\nexport { openDB, deleteDB };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\nimport * as idb from 'idb';\nimport { ModelPredicateCreator } from '../../predicates';\nimport { isPredicateObj, OpType, QueryOne, } from '../../types';\nimport { exhaustiveCheck, getIndex, isModelConstructor, traverseModel, validatePredicate, isPrivateMode, } from '../../util';\nvar logger = new Logger('DataStore');\nvar DB_NAME = 'amplify-datastore';\nvar IndexedDBAdapter = /** @class */ (function () {\n    function IndexedDBAdapter() {\n    }\n    IndexedDBAdapter.prototype.checkPrivate = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var isPrivate;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, isPrivateMode().then(function (isPrivate) {\n                            return isPrivate;\n                        })];\n                    case 1:\n                        isPrivate = _a.sent();\n                        if (isPrivate) {\n                            logger.error(\"IndexedDB not supported in this browser's private mode\");\n                            return [2 /*return*/, Promise.reject(\"IndexedDB not supported in this browser's private mode\")];\n                        }\n                        else {\n                            return [2 /*return*/, Promise.resolve()];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    IndexedDBAdapter.prototype.getStorenameForModel = function (modelConstructor) {\n        var namespace = this.namespaceResolver(modelConstructor);\n        var modelName = modelConstructor.name;\n        return this.getStorename(namespace, modelName);\n    };\n    IndexedDBAdapter.prototype.getStorename = function (namespace, modelName) {\n        var storeName = namespace + \"_\" + modelName;\n        return storeName;\n    };\n    IndexedDBAdapter.prototype.setUp = function (theSchema, namespaceResolver, modelInstanceCreator, getModelConstructorByModelName) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, error_1;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.checkPrivate()];\n                    case 1:\n                        _b.sent();\n                        if (!!this.initPromise) return [3 /*break*/, 2];\n                        this.initPromise = new Promise(function (res, rej) {\n                            _this.resolve = res;\n                            _this.reject = rej;\n                        });\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this.initPromise];\n                    case 3:\n                        _b.sent();\n                        _b.label = 4;\n                    case 4:\n                        this.schema = theSchema;\n                        this.namespaceResolver = namespaceResolver;\n                        this.modelInstanceCreator = modelInstanceCreator;\n                        this.getModelConstructorByModelName = getModelConstructorByModelName;\n                        _b.label = 5;\n                    case 5:\n                        _b.trys.push([5, 8, , 9]);\n                        if (!!this.db) return [3 /*break*/, 7];\n                        _a = this;\n                        return [4 /*yield*/, idb.openDB(DB_NAME, 1, {\n                                upgrade: function (db, _oldVersion, _newVersion, _txn) {\n                                    var keyPath = 'id';\n                                    Object.keys(theSchema.namespaces).forEach(function (namespaceName) {\n                                        var namespace = theSchema.namespaces[namespaceName];\n                                        Object.keys(namespace.models).forEach(function (modelName) {\n                                            var indexes = _this.schema.namespaces[namespaceName]\n                                                .relationships[modelName].indexes;\n                                            var storeName = _this.getStorename(namespaceName, modelName);\n                                            var store = db.createObjectStore(storeName, { keyPath: keyPath });\n                                            indexes.forEach(function (index) { return store.createIndex(index, index); });\n                                        });\n                                    });\n                                },\n                            })];\n                    case 6:\n                        _a.db = _b.sent();\n                        this.resolve();\n                        _b.label = 7;\n                    case 7: return [3 /*break*/, 9];\n                    case 8:\n                        error_1 = _b.sent();\n                        this.reject(error_1);\n                        return [3 /*break*/, 9];\n                    case 9: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    IndexedDBAdapter.prototype.save = function (model, condition) {\n        var e_1, _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var modelConstructor, storeName, connectedModels, namespaceName, set, connectionStoreNames, tx, store, fromDB, predicates, predicateObjs, type, isValid, msg, result, connectionStoreNames_1, connectionStoreNames_1_1, resItem, storeName_1, item, instance, store_1, id, opType, e_1_1;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.checkPrivate()];\n                    case 1:\n                        _b.sent();\n                        modelConstructor = Object.getPrototypeOf(model)\n                            .constructor;\n                        storeName = this.getStorenameForModel(modelConstructor);\n                        connectedModels = traverseModel(modelConstructor.name, model, this.schema.namespaces[this.namespaceResolver(modelConstructor)], this.modelInstanceCreator, this.getModelConstructorByModelName);\n                        namespaceName = this.namespaceResolver(modelConstructor);\n                        set = new Set();\n                        connectionStoreNames = Object.values(connectedModels).map(function (_a) {\n                            var modelName = _a.modelName, item = _a.item, instance = _a.instance;\n                            var storeName = _this.getStorename(namespaceName, modelName);\n                            set.add(storeName);\n                            return { storeName: storeName, item: item, instance: instance };\n                        });\n                        tx = this.db.transaction(__spread([storeName], Array.from(set.values())), 'readwrite');\n                        store = tx.objectStore(storeName);\n                        return [4 /*yield*/, store.get(model.id)];\n                    case 2:\n                        fromDB = _b.sent();\n                        if (condition) {\n                            predicates = ModelPredicateCreator.getPredicates(condition);\n                            predicateObjs = predicates.predicates, type = predicates.type;\n                            isValid = validatePredicate(fromDB, type, predicateObjs);\n                            if (!isValid) {\n                                msg = 'Conditional update failed';\n                                logger.error(msg, { model: fromDB, condition: predicateObjs });\n                                throw new Error(msg);\n                            }\n                        }\n                        result = [];\n                        _b.label = 3;\n                    case 3:\n                        _b.trys.push([3, 12, 13, 18]);\n                        connectionStoreNames_1 = __asyncValues(connectionStoreNames);\n                        _b.label = 4;\n                    case 4: return [4 /*yield*/, connectionStoreNames_1.next()];\n                    case 5:\n                        if (!(connectionStoreNames_1_1 = _b.sent(), !connectionStoreNames_1_1.done)) return [3 /*break*/, 11];\n                        resItem = connectionStoreNames_1_1.value;\n                        storeName_1 = resItem.storeName, item = resItem.item, instance = resItem.instance;\n                        store_1 = tx.objectStore(storeName_1);\n                        id = item.id;\n                        return [4 /*yield*/, store_1.get(id)];\n                    case 6:\n                        opType = (_b.sent()) === undefined ? OpType.INSERT : OpType.UPDATE;\n                        if (!(id === model.id)) return [3 /*break*/, 8];\n                        return [4 /*yield*/, store_1.put(item)];\n                    case 7:\n                        _b.sent();\n                        result.push([instance, opType]);\n                        return [3 /*break*/, 10];\n                    case 8:\n                        if (!(opType === OpType.INSERT)) return [3 /*break*/, 10];\n                        return [4 /*yield*/, store_1.put(item)];\n                    case 9:\n                        _b.sent();\n                        result.push([instance, opType]);\n                        _b.label = 10;\n                    case 10: return [3 /*break*/, 4];\n                    case 11: return [3 /*break*/, 18];\n                    case 12:\n                        e_1_1 = _b.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3 /*break*/, 18];\n                    case 13:\n                        _b.trys.push([13, , 16, 17]);\n                        if (!(connectionStoreNames_1_1 && !connectionStoreNames_1_1.done && (_a = connectionStoreNames_1.return))) return [3 /*break*/, 15];\n                        return [4 /*yield*/, _a.call(connectionStoreNames_1)];\n                    case 14:\n                        _b.sent();\n                        _b.label = 15;\n                    case 15: return [3 /*break*/, 17];\n                    case 16:\n                        if (e_1) throw e_1.error;\n                        return [7 /*endfinally*/];\n                    case 17: return [7 /*endfinally*/];\n                    case 18: return [4 /*yield*/, tx.done];\n                    case 19:\n                        _b.sent();\n                        return [2 /*return*/, result];\n                }\n            });\n        });\n    };\n    IndexedDBAdapter.prototype.load = function (namespaceName, srcModelName, records) {\n        var records_1, records_1_1, records_2, records_2_1;\n        var e_2, _a, e_3, _b, e_4, _c;\n        return __awaiter(this, void 0, void 0, function () {\n            var namespace, relations, connectionStoreNames, modelConstructor, tx, relations_1, relations_1_1, relation, fieldName, modelName, targetName, storeName, store, modelConstructor_1, _d, recordItem, connectionRecord, e_3_1, recordItem, connectionRecord, e_4_1, e_2_1;\n            var _this = this;\n            return __generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        namespace = this.schema.namespaces[namespaceName];\n                        relations = namespace.relationships[srcModelName].relationTypes;\n                        connectionStoreNames = relations.map(function (_a) {\n                            var modelName = _a.modelName;\n                            return _this.getStorename(namespaceName, modelName);\n                        });\n                        modelConstructor = this.getModelConstructorByModelName(namespaceName, srcModelName);\n                        if (connectionStoreNames.length === 0) {\n                            return [2 /*return*/, records.map(function (record) {\n                                    return _this.modelInstanceCreator(modelConstructor, record);\n                                })];\n                        }\n                        tx = this.db.transaction(__spread(connectionStoreNames), 'readonly');\n                        _e.label = 1;\n                    case 1:\n                        _e.trys.push([1, 34, 35, 40]);\n                        relations_1 = __asyncValues(relations);\n                        _e.label = 2;\n                    case 2: return [4 /*yield*/, relations_1.next()];\n                    case 3:\n                        if (!(relations_1_1 = _e.sent(), !relations_1_1.done)) return [3 /*break*/, 33];\n                        relation = relations_1_1.value;\n                        fieldName = relation.fieldName, modelName = relation.modelName, targetName = relation.targetName;\n                        storeName = this.getStorename(namespaceName, modelName);\n                        store = tx.objectStore(storeName);\n                        modelConstructor_1 = this.getModelConstructorByModelName(namespaceName, modelName);\n                        _d = relation.relationType;\n                        switch (_d) {\n                            case 'HAS_ONE': return [3 /*break*/, 4];\n                            case 'BELONGS_TO': return [3 /*break*/, 17];\n                            case 'HAS_MANY': return [3 /*break*/, 30];\n                        }\n                        return [3 /*break*/, 31];\n                    case 4:\n                        _e.trys.push([4, 10, 11, 16]);\n                        records_1 = __asyncValues(records);\n                        _e.label = 5;\n                    case 5: return [4 /*yield*/, records_1.next()];\n                    case 6:\n                        if (!(records_1_1 = _e.sent(), !records_1_1.done)) return [3 /*break*/, 9];\n                        recordItem = records_1_1.value;\n                        if (!recordItem[fieldName]) return [3 /*break*/, 8];\n                        return [4 /*yield*/, store.get(recordItem[fieldName])];\n                    case 7:\n                        connectionRecord = _e.sent();\n                        recordItem[fieldName] =\n                            connectionRecord &&\n                                this.modelInstanceCreator(modelConstructor_1, connectionRecord);\n                        _e.label = 8;\n                    case 8: return [3 /*break*/, 5];\n                    case 9: return [3 /*break*/, 16];\n                    case 10:\n                        e_3_1 = _e.sent();\n                        e_3 = { error: e_3_1 };\n                        return [3 /*break*/, 16];\n                    case 11:\n                        _e.trys.push([11, , 14, 15]);\n                        if (!(records_1_1 && !records_1_1.done && (_b = records_1.return))) return [3 /*break*/, 13];\n                        return [4 /*yield*/, _b.call(records_1)];\n                    case 12:\n                        _e.sent();\n                        _e.label = 13;\n                    case 13: return [3 /*break*/, 15];\n                    case 14:\n                        if (e_3) throw e_3.error;\n                        return [7 /*endfinally*/];\n                    case 15: return [7 /*endfinally*/];\n                    case 16: return [3 /*break*/, 32];\n                    case 17:\n                        _e.trys.push([17, 23, 24, 29]);\n                        records_2 = __asyncValues(records);\n                        _e.label = 18;\n                    case 18: return [4 /*yield*/, records_2.next()];\n                    case 19:\n                        if (!(records_2_1 = _e.sent(), !records_2_1.done)) return [3 /*break*/, 22];\n                        recordItem = records_2_1.value;\n                        if (!recordItem[targetName]) return [3 /*break*/, 21];\n                        return [4 /*yield*/, store.get(recordItem[targetName])];\n                    case 20:\n                        connectionRecord = _e.sent();\n                        recordItem[fieldName] =\n                            connectionRecord &&\n                                this.modelInstanceCreator(modelConstructor_1, connectionRecord);\n                        delete recordItem[targetName];\n                        _e.label = 21;\n                    case 21: return [3 /*break*/, 18];\n                    case 22: return [3 /*break*/, 29];\n                    case 23:\n                        e_4_1 = _e.sent();\n                        e_4 = { error: e_4_1 };\n                        return [3 /*break*/, 29];\n                    case 24:\n                        _e.trys.push([24, , 27, 28]);\n                        if (!(records_2_1 && !records_2_1.done && (_c = records_2.return))) return [3 /*break*/, 26];\n                        return [4 /*yield*/, _c.call(records_2)];\n                    case 25:\n                        _e.sent();\n                        _e.label = 26;\n                    case 26: return [3 /*break*/, 28];\n                    case 27:\n                        if (e_4) throw e_4.error;\n                        return [7 /*endfinally*/];\n                    case 28: return [7 /*endfinally*/];\n                    case 29: return [3 /*break*/, 32];\n                    case 30: \n                    // TODO: Lazy loading\n                    return [3 /*break*/, 32];\n                    case 31:\n                        exhaustiveCheck(relation.relationType);\n                        return [3 /*break*/, 32];\n                    case 32: return [3 /*break*/, 2];\n                    case 33: return [3 /*break*/, 40];\n                    case 34:\n                        e_2_1 = _e.sent();\n                        e_2 = { error: e_2_1 };\n                        return [3 /*break*/, 40];\n                    case 35:\n                        _e.trys.push([35, , 38, 39]);\n                        if (!(relations_1_1 && !relations_1_1.done && (_a = relations_1.return))) return [3 /*break*/, 37];\n                        return [4 /*yield*/, _a.call(relations_1)];\n                    case 36:\n                        _e.sent();\n                        _e.label = 37;\n                    case 37: return [3 /*break*/, 39];\n                    case 38:\n                        if (e_2) throw e_2.error;\n                        return [7 /*endfinally*/];\n                    case 39: return [7 /*endfinally*/];\n                    case 40: return [2 /*return*/, records.map(function (record) {\n                            return _this.modelInstanceCreator(modelConstructor, record);\n                        })];\n                }\n            });\n        });\n    };\n    IndexedDBAdapter.prototype.query = function (modelConstructor, predicate, pagination) {\n        return __awaiter(this, void 0, void 0, function () {\n            var storeName, namespaceName, predicates, predicateObjs_1, type_1, idPredicate, id, record, _a, x, all, filtered, _b, _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0: return [4 /*yield*/, this.checkPrivate()];\n                    case 1:\n                        _d.sent();\n                        storeName = this.getStorenameForModel(modelConstructor);\n                        namespaceName = this.namespaceResolver(modelConstructor);\n                        if (!predicate) return [3 /*break*/, 8];\n                        predicates = ModelPredicateCreator.getPredicates(predicate);\n                        if (!predicates) return [3 /*break*/, 8];\n                        predicateObjs_1 = predicates.predicates, type_1 = predicates.type;\n                        idPredicate = predicateObjs_1.length === 1 &&\n                            predicateObjs_1.find(function (p) { return isPredicateObj(p) && p.field === 'id' && p.operator === 'eq'; });\n                        if (!idPredicate) return [3 /*break*/, 5];\n                        id = idPredicate.operand;\n                        return [4 /*yield*/, this.db.get(storeName, id)];\n                    case 2:\n                        record = _d.sent();\n                        if (!record) return [3 /*break*/, 4];\n                        return [4 /*yield*/, this.load(namespaceName, modelConstructor.name, [\n                                record,\n                            ])];\n                    case 3:\n                        _a = __read.apply(void 0, [_d.sent(), 1]), x = _a[0];\n                        return [2 /*return*/, [x]];\n                    case 4: return [2 /*return*/, []];\n                    case 5: return [4 /*yield*/, this.db.getAll(storeName)];\n                    case 6:\n                        all = _d.sent();\n                        filtered = predicateObjs_1\n                            ? all.filter(function (m) { return validatePredicate(m, type_1, predicateObjs_1); })\n                            : all;\n                        return [4 /*yield*/, this.load(namespaceName, modelConstructor.name, this.inMemoryPagination(filtered, pagination))];\n                    case 7: return [2 /*return*/, _d.sent()];\n                    case 8:\n                        _b = this.load;\n                        _c = [namespaceName,\n                            modelConstructor.name];\n                        return [4 /*yield*/, this.enginePagination(storeName, pagination)];\n                    case 9: return [4 /*yield*/, _b.apply(this, _c.concat([_d.sent()]))];\n                    case 10: return [2 /*return*/, _d.sent()];\n                }\n            });\n        });\n    };\n    IndexedDBAdapter.prototype.inMemoryPagination = function (records, pagination) {\n        if (pagination) {\n            var _a = pagination.page, page = _a === void 0 ? 0 : _a, _b = pagination.limit, limit = _b === void 0 ? 0 : _b;\n            var start = Math.max(0, page * limit) || 0;\n            var end = limit > 0 ? start + limit : records.length;\n            return records.slice(start, end);\n        }\n        return records;\n    };\n    IndexedDBAdapter.prototype.enginePagination = function (storeName, pagination) {\n        return __awaiter(this, void 0, void 0, function () {\n            var result, _a, page, _b, limit, initialRecord, cursor, pageResults, hasLimit, moreRecords, itemsLeft;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (!pagination) return [3 /*break*/, 7];\n                        _a = pagination.page, page = _a === void 0 ? 0 : _a, _b = pagination.limit, limit = _b === void 0 ? 0 : _b;\n                        initialRecord = Math.max(0, page * limit) || 0;\n                        return [4 /*yield*/, this.db\n                                .transaction(storeName)\n                                .objectStore(storeName)\n                                .openCursor()];\n                    case 1:\n                        cursor = _c.sent();\n                        if (!(initialRecord > 0)) return [3 /*break*/, 3];\n                        return [4 /*yield*/, cursor.advance(initialRecord)];\n                    case 2:\n                        _c.sent();\n                        _c.label = 3;\n                    case 3:\n                        pageResults = [];\n                        hasLimit = typeof limit === 'number' && limit > 0;\n                        moreRecords = true;\n                        itemsLeft = limit;\n                        _c.label = 4;\n                    case 4:\n                        if (!(moreRecords && cursor.value)) return [3 /*break*/, 6];\n                        pageResults.push(cursor.value);\n                        return [4 /*yield*/, cursor.continue()];\n                    case 5:\n                        cursor = _c.sent();\n                        if (hasLimit) {\n                            itemsLeft--;\n                            moreRecords = itemsLeft > 0 && cursor !== null;\n                        }\n                        else {\n                            moreRecords = cursor !== null;\n                        }\n                        return [3 /*break*/, 4];\n                    case 6:\n                        result = pageResults;\n                        return [3 /*break*/, 9];\n                    case 7: return [4 /*yield*/, this.db.getAll(storeName)];\n                    case 8:\n                        result = (_c.sent());\n                        _c.label = 9;\n                    case 9: return [2 /*return*/, result];\n                }\n            });\n        });\n    };\n    IndexedDBAdapter.prototype.queryOne = function (modelConstructor, firstOrLast) {\n        if (firstOrLast === void 0) { firstOrLast = QueryOne.FIRST; }\n        return __awaiter(this, void 0, void 0, function () {\n            var storeName, cursor, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.checkPrivate()];\n                    case 1:\n                        _a.sent();\n                        storeName = this.getStorenameForModel(modelConstructor);\n                        return [4 /*yield*/, this.db\n                                .transaction([storeName], 'readonly')\n                                .objectStore(storeName)\n                                .openCursor(undefined, firstOrLast === QueryOne.FIRST ? 'next' : 'prev')];\n                    case 2:\n                        cursor = _a.sent();\n                        result = cursor ? cursor.value : undefined;\n                        return [2 /*return*/, result && this.modelInstanceCreator(modelConstructor, result)];\n                }\n            });\n        });\n    };\n    IndexedDBAdapter.prototype.delete = function (modelOrModelConstructor, condition) {\n        return __awaiter(this, void 0, void 0, function () {\n            var deleteQueue, modelConstructor, nameSpace, storeName, models, relations, deletedModels, deletedModels, model, modelConstructor, nameSpace, storeName, tx, store, fromDB, msg, predicates, predicateObjs, type, isValid, msg, relations, relations, deletedModels;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.checkPrivate()];\n                    case 1:\n                        _a.sent();\n                        deleteQueue = [];\n                        if (!isModelConstructor(modelOrModelConstructor)) return [3 /*break*/, 9];\n                        modelConstructor = modelOrModelConstructor;\n                        nameSpace = this.namespaceResolver(modelConstructor);\n                        storeName = this.getStorenameForModel(modelConstructor);\n                        return [4 /*yield*/, this.query(modelConstructor, condition)];\n                    case 2:\n                        models = _a.sent();\n                        relations = this.schema.namespaces[nameSpace].relationships[modelConstructor.name].relationTypes;\n                        if (!(condition !== undefined)) return [3 /*break*/, 5];\n                        return [4 /*yield*/, this.deleteTraverse(relations, models, modelConstructor.name, nameSpace, deleteQueue)];\n                    case 3:\n                        _a.sent();\n                        return [4 /*yield*/, this.deleteItem(deleteQueue)];\n                    case 4:\n                        _a.sent();\n                        deletedModels = deleteQueue.reduce(function (acc, _a) {\n                            var items = _a.items;\n                            return acc.concat(items);\n                        }, []);\n                        return [2 /*return*/, [models, deletedModels]];\n                    case 5: return [4 /*yield*/, this.deleteTraverse(relations, models, modelConstructor.name, nameSpace, deleteQueue)];\n                    case 6:\n                        _a.sent();\n                        // Delete all\n                        return [4 /*yield*/, this.db\n                                .transaction([storeName], 'readwrite')\n                                .objectStore(storeName)\n                                .clear()];\n                    case 7:\n                        // Delete all\n                        _a.sent();\n                        deletedModels = deleteQueue.reduce(function (acc, _a) {\n                            var items = _a.items;\n                            return acc.concat(items);\n                        }, []);\n                        return [2 /*return*/, [models, deletedModels]];\n                    case 8: return [3 /*break*/, 17];\n                    case 9:\n                        model = modelOrModelConstructor;\n                        modelConstructor = Object.getPrototypeOf(model)\n                            .constructor;\n                        nameSpace = this.namespaceResolver(modelConstructor);\n                        storeName = this.getStorenameForModel(modelConstructor);\n                        if (!condition) return [3 /*break*/, 13];\n                        tx = this.db.transaction([storeName], 'readwrite');\n                        store = tx.objectStore(storeName);\n                        return [4 /*yield*/, store.get(model.id)];\n                    case 10:\n                        fromDB = _a.sent();\n                        if (fromDB === undefined) {\n                            msg = 'Model instance not found in storage';\n                            logger.warn(msg, { model: model });\n                            return [2 /*return*/, [[model], []]];\n                        }\n                        predicates = ModelPredicateCreator.getPredicates(condition);\n                        predicateObjs = predicates.predicates, type = predicates.type;\n                        isValid = validatePredicate(fromDB, type, predicateObjs);\n                        if (!isValid) {\n                            msg = 'Conditional update failed';\n                            logger.error(msg, { model: fromDB, condition: predicateObjs });\n                            throw new Error(msg);\n                        }\n                        return [4 /*yield*/, tx.done];\n                    case 11:\n                        _a.sent();\n                        relations = this.schema.namespaces[nameSpace].relationships[modelConstructor.name].relationTypes;\n                        return [4 /*yield*/, this.deleteTraverse(relations, [model], modelConstructor.name, nameSpace, deleteQueue)];\n                    case 12:\n                        _a.sent();\n                        return [3 /*break*/, 15];\n                    case 13:\n                        relations = this.schema.namespaces[nameSpace].relationships[modelConstructor.name].relationTypes;\n                        return [4 /*yield*/, this.deleteTraverse(relations, [model], modelConstructor.name, nameSpace, deleteQueue)];\n                    case 14:\n                        _a.sent();\n                        _a.label = 15;\n                    case 15: return [4 /*yield*/, this.deleteItem(deleteQueue)];\n                    case 16:\n                        _a.sent();\n                        deletedModels = deleteQueue.reduce(function (acc, _a) {\n                            var items = _a.items;\n                            return acc.concat(items);\n                        }, []);\n                        return [2 /*return*/, [[model], deletedModels]];\n                    case 17: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    IndexedDBAdapter.prototype.deleteItem = function (deleteQueue) {\n        var deleteQueue_1, deleteQueue_1_1;\n        var e_5, _a, e_6, _b;\n        return __awaiter(this, void 0, void 0, function () {\n            var connectionStoreNames, tx, deleteItem, storeName, items, store, items_1, items_1_1, item, e_6_1, e_5_1;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        connectionStoreNames = deleteQueue.map(function (_a) {\n                            var storeName = _a.storeName;\n                            return storeName;\n                        });\n                        tx = this.db.transaction(__spread(connectionStoreNames), 'readwrite');\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 20, 21, 26]);\n                        deleteQueue_1 = __asyncValues(deleteQueue);\n                        _c.label = 2;\n                    case 2: return [4 /*yield*/, deleteQueue_1.next()];\n                    case 3:\n                        if (!(deleteQueue_1_1 = _c.sent(), !deleteQueue_1_1.done)) return [3 /*break*/, 19];\n                        deleteItem = deleteQueue_1_1.value;\n                        storeName = deleteItem.storeName, items = deleteItem.items;\n                        store = tx.objectStore(storeName);\n                        _c.label = 4;\n                    case 4:\n                        _c.trys.push([4, 12, 13, 18]);\n                        items_1 = __asyncValues(items);\n                        _c.label = 5;\n                    case 5: return [4 /*yield*/, items_1.next()];\n                    case 6:\n                        if (!(items_1_1 = _c.sent(), !items_1_1.done)) return [3 /*break*/, 11];\n                        item = items_1_1.value;\n                        if (!item) return [3 /*break*/, 10];\n                        if (!(typeof item === 'object')) return [3 /*break*/, 8];\n                        return [4 /*yield*/, store.delete(item['id'])];\n                    case 7:\n                        _c.sent();\n                        _c.label = 8;\n                    case 8: return [4 /*yield*/, store.delete(item.toString())];\n                    case 9:\n                        _c.sent();\n                        _c.label = 10;\n                    case 10: return [3 /*break*/, 5];\n                    case 11: return [3 /*break*/, 18];\n                    case 12:\n                        e_6_1 = _c.sent();\n                        e_6 = { error: e_6_1 };\n                        return [3 /*break*/, 18];\n                    case 13:\n                        _c.trys.push([13, , 16, 17]);\n                        if (!(items_1_1 && !items_1_1.done && (_b = items_1.return))) return [3 /*break*/, 15];\n                        return [4 /*yield*/, _b.call(items_1)];\n                    case 14:\n                        _c.sent();\n                        _c.label = 15;\n                    case 15: return [3 /*break*/, 17];\n                    case 16:\n                        if (e_6) throw e_6.error;\n                        return [7 /*endfinally*/];\n                    case 17: return [7 /*endfinally*/];\n                    case 18: return [3 /*break*/, 2];\n                    case 19: return [3 /*break*/, 26];\n                    case 20:\n                        e_5_1 = _c.sent();\n                        e_5 = { error: e_5_1 };\n                        return [3 /*break*/, 26];\n                    case 21:\n                        _c.trys.push([21, , 24, 25]);\n                        if (!(deleteQueue_1_1 && !deleteQueue_1_1.done && (_a = deleteQueue_1.return))) return [3 /*break*/, 23];\n                        return [4 /*yield*/, _a.call(deleteQueue_1)];\n                    case 22:\n                        _c.sent();\n                        _c.label = 23;\n                    case 23: return [3 /*break*/, 25];\n                    case 24:\n                        if (e_5) throw e_5.error;\n                        return [7 /*endfinally*/];\n                    case 25: return [7 /*endfinally*/];\n                    case 26: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    IndexedDBAdapter.prototype.deleteTraverse = function (relations, models, srcModel, nameSpace, deleteQueue) {\n        var relations_2, relations_2_1, models_1, models_1_1, models_2, models_2_1;\n        var e_7, _a, e_8, _b, e_9, _c;\n        return __awaiter(this, void 0, void 0, function () {\n            var rel, relationType, fieldName, modelName, storeName, _d, model, index_1, recordToDelete, e_8_1, index, model, childrenArray, e_9_1, e_7_1;\n            var _this = this;\n            return __generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        _e.trys.push([0, 36, 37, 42]);\n                        relations_2 = __asyncValues(relations);\n                        _e.label = 1;\n                    case 1: return [4 /*yield*/, relations_2.next()];\n                    case 2:\n                        if (!(relations_2_1 = _e.sent(), !relations_2_1.done)) return [3 /*break*/, 35];\n                        rel = relations_2_1.value;\n                        relationType = rel.relationType, fieldName = rel.fieldName, modelName = rel.modelName;\n                        storeName = this.getStorename(nameSpace, modelName);\n                        _d = relationType;\n                        switch (_d) {\n                            case 'HAS_ONE': return [3 /*break*/, 3];\n                            case 'HAS_MANY': return [3 /*break*/, 17];\n                            case 'BELONGS_TO': return [3 /*break*/, 32];\n                        }\n                        return [3 /*break*/, 33];\n                    case 3:\n                        _e.trys.push([3, 10, 11, 16]);\n                        models_1 = __asyncValues(models);\n                        _e.label = 4;\n                    case 4: return [4 /*yield*/, models_1.next()];\n                    case 5:\n                        if (!(models_1_1 = _e.sent(), !models_1_1.done)) return [3 /*break*/, 9];\n                        model = models_1_1.value;\n                        index_1 = getIndex(this.schema.namespaces[nameSpace].relationships[modelName]\n                            .relationTypes, srcModel);\n                        return [4 /*yield*/, this.db\n                                .transaction(storeName, 'readwrite')\n                                .objectStore(storeName)\n                                .index(index_1)\n                                .get(model.id)];\n                    case 6:\n                        recordToDelete = _e.sent();\n                        return [4 /*yield*/, this.deleteTraverse(this.schema.namespaces[nameSpace].relationships[modelName]\n                                .relationTypes, recordToDelete ? [recordToDelete] : [], modelName, nameSpace, deleteQueue)];\n                    case 7:\n                        _e.sent();\n                        _e.label = 8;\n                    case 8: return [3 /*break*/, 4];\n                    case 9: return [3 /*break*/, 16];\n                    case 10:\n                        e_8_1 = _e.sent();\n                        e_8 = { error: e_8_1 };\n                        return [3 /*break*/, 16];\n                    case 11:\n                        _e.trys.push([11, , 14, 15]);\n                        if (!(models_1_1 && !models_1_1.done && (_b = models_1.return))) return [3 /*break*/, 13];\n                        return [4 /*yield*/, _b.call(models_1)];\n                    case 12:\n                        _e.sent();\n                        _e.label = 13;\n                    case 13: return [3 /*break*/, 15];\n                    case 14:\n                        if (e_8) throw e_8.error;\n                        return [7 /*endfinally*/];\n                    case 15: return [7 /*endfinally*/];\n                    case 16: return [3 /*break*/, 34];\n                    case 17:\n                        index = getIndex(this.schema.namespaces[nameSpace].relationships[modelName]\n                            .relationTypes, srcModel);\n                        _e.label = 18;\n                    case 18:\n                        _e.trys.push([18, 25, 26, 31]);\n                        models_2 = __asyncValues(models);\n                        _e.label = 19;\n                    case 19: return [4 /*yield*/, models_2.next()];\n                    case 20:\n                        if (!(models_2_1 = _e.sent(), !models_2_1.done)) return [3 /*break*/, 24];\n                        model = models_2_1.value;\n                        return [4 /*yield*/, this.db\n                                .transaction(storeName, 'readwrite')\n                                .objectStore(storeName)\n                                .index(index)\n                                .getAll(model['id'])];\n                    case 21:\n                        childrenArray = _e.sent();\n                        return [4 /*yield*/, this.deleteTraverse(this.schema.namespaces[nameSpace].relationships[modelName]\n                                .relationTypes, childrenArray, modelName, nameSpace, deleteQueue)];\n                    case 22:\n                        _e.sent();\n                        _e.label = 23;\n                    case 23: return [3 /*break*/, 19];\n                    case 24: return [3 /*break*/, 31];\n                    case 25:\n                        e_9_1 = _e.sent();\n                        e_9 = { error: e_9_1 };\n                        return [3 /*break*/, 31];\n                    case 26:\n                        _e.trys.push([26, , 29, 30]);\n                        if (!(models_2_1 && !models_2_1.done && (_c = models_2.return))) return [3 /*break*/, 28];\n                        return [4 /*yield*/, _c.call(models_2)];\n                    case 27:\n                        _e.sent();\n                        _e.label = 28;\n                    case 28: return [3 /*break*/, 30];\n                    case 29:\n                        if (e_9) throw e_9.error;\n                        return [7 /*endfinally*/];\n                    case 30: return [7 /*endfinally*/];\n                    case 31: return [3 /*break*/, 34];\n                    case 32: \n                    // Intentionally blank\n                    return [3 /*break*/, 34];\n                    case 33:\n                        exhaustiveCheck(relationType);\n                        return [3 /*break*/, 34];\n                    case 34: return [3 /*break*/, 1];\n                    case 35: return [3 /*break*/, 42];\n                    case 36:\n                        e_7_1 = _e.sent();\n                        e_7 = { error: e_7_1 };\n                        return [3 /*break*/, 42];\n                    case 37:\n                        _e.trys.push([37, , 40, 41]);\n                        if (!(relations_2_1 && !relations_2_1.done && (_a = relations_2.return))) return [3 /*break*/, 39];\n                        return [4 /*yield*/, _a.call(relations_2)];\n                    case 38:\n                        _e.sent();\n                        _e.label = 39;\n                    case 39: return [3 /*break*/, 41];\n                    case 40:\n                        if (e_7) throw e_7.error;\n                        return [7 /*endfinally*/];\n                    case 41: return [7 /*endfinally*/];\n                    case 42:\n                        deleteQueue.push({\n                            storeName: this.getStorename(nameSpace, srcModel),\n                            items: models.map(function (record) {\n                                return _this.modelInstanceCreator(_this.getModelConstructorByModelName(nameSpace, srcModel), record);\n                            }),\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    IndexedDBAdapter.prototype.clear = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.checkPrivate()];\n                    case 1:\n                        _a.sent();\n                        this.db.close();\n                        return [4 /*yield*/, idb.deleteDB(DB_NAME)];\n                    case 2:\n                        _a.sent();\n                        this.db = undefined;\n                        this.initPromise = undefined;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return IndexedDBAdapter;\n}());\nexport default new IndexedDBAdapter();\n//# sourceMappingURL=indexeddb.js.map"],"sourceRoot":""}